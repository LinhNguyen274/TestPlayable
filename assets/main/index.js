window.__require=function e(t,o,n){function i(a,c){if(!o[a]){if(!t[a]){var s=a.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var u=o[a]={exports:{}};t[a][0].call(u.exports,function(e){return i(t[a][1][e]||e)},u,u.exports,e,t,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({"3DAnim":[function(e,t,o){"use strict";cc._RF.push(t,"92984xhpZlOvaBQKRdDatpW","3DAnim");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../config/GlobalSignals"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.intro1="intro1",t.intro2="intro2",t.failAnim1="fail1",t.failAnim2="fail2",t.winAnim1="win1",t.winAnim2="win2",t.idle="idle",t.fail=!1,t.character=null,t}var o;return i(t,e),o=t,Object.defineProperty(t,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){o._instance=this,this.character.addClip(this.character.getClips()[0],this.intro1),this.character.addClip(this.character.getClips()[1],this.intro2),this.character.addClip(this.character.getClips()[2],this.idle),this.character.addClip(this.character.getClips()[3],this.winAnim1),this.character.addClip(this.character.getClips()[4],this.winAnim2),this.character.addClip(this.character.getClips()[5],this.failAnim1),this.character.addClip(this.character.getClips()[6],this.failAnim2),this.character.play(this.intro1)},t.prototype.onEnable=function(){this._onQuestFail=this.onQuestFail.bind(this),this._onQuestPass=this.onQuestPass.bind(this),this._onQuestFail2=this.fail2.bind(this),this._onQuestStart=this.startGame.bind(this),a.GlobalSignals.startQuest.add(this._onQuestStart),a.GlobalSignals.questPassSignal.add(this._onQuestPass),a.GlobalSignals.questFailSignal.add(this._onQuestFail),a.GlobalSignals.girlGiveEggSignal.add(this._onQuestFail2)},t.prototype.onDisable=function(){a.GlobalSignals.questPassSignal.remove(this._onQuestPass),a.GlobalSignals.questFailSignal.remove(this._onQuestFail)},t.prototype.fail2=function(){this.fail=!0},t.prototype.startGame=function(){this.connectAnim(this.intro2,this.idle,.03)},t.prototype.onQuestPass=function(){},t.prototype.onQuestFail=function(){},t.prototype.connectAnim=function(e,t,o){var n=this,i=this.character.play(e).duration;this.scheduleOnce(function(){n.character.play(t)},i-o)},t.prototype.playWin=function(){this.connectAnim(this.winAnim1,this.winAnim2,.03)},t.prototype.playLose=function(){this.connectAnim(this.failAnim1,this.failAnim2,.03)},t.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},t._instance=null,r([l(cc.SkeletonAnimation)],t.prototype,"character",void 0),o=r([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../config/GlobalSignals":"GlobalSignals"}],ActiveBox:[function(e,t,o){"use strict";cc._RF.push(t,"7db68c+jzVO2bWlPO6OJ3A6","ActiveBox");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.requireComponent,c=cc._decorator,s=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.targetNode=null,t.once=!0,t.listEvents=[],t}return i(t,e),t.prototype.start=function(){this.node.opacity=0},t.prototype.onCollisionEnter=function(e){cc.log("ActiveBox "+e.node.name),e.node===this.targetNode&&(cc.Component.EventHandler.emitEvents(this.listEvents),this.once&&(this.node.active=!1))},r([l(cc.Node)],t.prototype,"targetNode",void 0),r([l(cc.Boolean)],t.prototype,"once",void 0),r([l([cc.Component.EventHandler])],t.prototype,"listEvents",void 0),r([s,a(cc.BoxCollider)],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],ActiveFun:[function(e,t,o){"use strict";cc._RF.push(t,"2ca293bvCBCyJyFHvJJqHxD","ActiveFun");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.show=function(){this.node.active=!0},t.prototype.hide=function(){this.node.active=!1},r([c],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],ArrayUtil:[function(e,t,o){"use strict";cc._RF.push(t,"28273v0gFZBtJL9nAz3j17h","ArrayUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./MathUtil"),i=function(){function e(){}return e.shuffle=function(e){var t,o,n;for(n=e.length;n;n--)t=Math.floor(Math.random()*n),o=e[n-1],e[n-1]=e[t],e[t]=o},e.maxOf=function(e,t){void 0===t&&(t=function(e,t){return e>t});for(var o=e[0],n=1;n<e.length;n++)t(e[n],o)&&(o=e[n]);return o},e.getShuffleArray=function(e){for(var t,o,n=e.length;0!==n;)o=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[o],e[o]=t;return e},e.removeElement=function(e,t){var o=e.indexOf(t);o>-1&&e.splice(o,1)},e.removeElements=function(e,t){t.forEach(function(t){this.removeElement(e,t)}.bind(this))},e.moveElementFromTo=function(e,t,o){var n=e.length;n<2||t<0||o<0||t>n-1||o>n-1||t===o||e.splice(o,0,e.splice(t,1)[0])},e.swapElement=function(e,t,o){if(t!==o){var n=e[t];e[t]=e[o],e[o]=n}},e.swapRandomElement=function(e){var t=e.length;if(!(t<2))for(var o=0;o<t;o++){var n=void 0;do{n=Math.floor(Math.random()*t)}while(o===n);this.swapElement(e,o,n)}},e.prototype.count=function(e,t){var o=0;return e.forEach(function(e){t(e)&&o++}),o},e.prototype.sortAscending_CardUIArray=function(e){e.sort(function(e,t){return e.id-t.id})},e.prototype.sortGroup_CardUIArray=function(t){e.shuffle(t)},e.prototype.indexOfMax=function(e,t){void 0===t&&(t=function(e,t){return e>t});for(var o=0,n=1;n<e.length;n++)t(e[n],e[o])&&(o=n);return o},e.prototype.firstIndexOf=function(e,t){for(var o=0;o<e.length;o++)if(t(e[o]))return o;return-1},e.prototype.lastIndexOf=function(e,t){for(var o=e.length-1;o>=0;o--)if(t(e[o]))return o;return-1},e.sumOf=function(e){return e.reduce(function(e,t){return e+t})},e.isStringInNoUpperLowerDistinguish=function(e,t){for(var o=e.toLowerCase(),n=0;n<t.length;n++)t[n]=t[n].toLowerCase();return t.indexOf(o)>=0},e.getRandomTwoSwapIndex=function(e){var t=n.default.randomInt(e),o=n.default.randomInt(e);return t===o&&((o+=1)===e&&(o-=2),o=o>=0?o:0),{first:t,sec:o}},e.findMaxLessThan=function(e,t,o){void 0===o&&(o=1);for(var n=e.length-1;n>0;n--)if(e[n]*o<=t)return n;return-1},e.getClone2DArray=function(e){for(var t=[],o=0;o<e.length;o++)t.push(e[o].slice(0));return t},e.getClone1DArray=function(e){return[].concat(e)},e.get2DArrayOf1D=function(e,t){for(var o=[],n=Math.floor(e.length/t),i=0;i<n;i++){for(var r=[],a=i*t,c=a+t,s=a;s<c;s++)r.push(e[s]);o.push(r)}return o},e.concatNoDuplicate=function(e,t){for(var o=[].concat(e),n=0;n<t.length;n++)o.indexOf(t[n])<0&&o.push(t[n]);return o},e.getValue=function(e,t,o){return""===e[t]||null===e[t]||void 0===e[t]?o:e[t]},e}();o.default=i,cc._RF.pop()},{"./MathUtil":"MathUtil"}],AudioManager:[function(e,t,o){"use strict";cc._RF.push(t,"4fd31cuiKBAkI896NGa51Ca","AudioManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return Object.defineProperty(e,"RealMusicVolume",{get:function(){return e._MusicEnable?e._MusicVolume:0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"RealEffectVolume",{get:function(){return e._EffectEnable?e._EffectVolume:0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"MusicVolume",{get:function(){return e._MusicVolume},set:function(t){e._MusicVolume=t,e.arrAudioPlayer.forEach(function(e){e.setMusicVolume(t)})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"EffectVolume",{get:function(){return e._EffectVolume},set:function(t){e._EffectVolume=t,e.arrAudioPlayer.forEach(function(e){e.setEffectVolume(t)})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"EffectEnable",{get:function(){return e._EffectEnable},set:function(t){cc.log("EffectEnable: "+t),e._EffectEnable=t;var o=t?e._EffectVolume:0;e.arrAudioPlayer.forEach(function(e){e.setEffectVolume(o)})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"MusicEnable",{get:function(){return e._MusicEnable},set:function(t){cc.log("MusicEnable: "+t),e._MusicEnable=t;var o=t?e._MusicVolume:0;e.arrAudioPlayer.forEach(function(e){e.setMusicVolume(o)})},enumerable:!1,configurable:!0}),e.add=function(t){e.arrAudioPlayer.push(t)},e.remove=function(t){var o=e.arrAudioPlayer.indexOf(t);-1!==o&&e.arrAudioPlayer.splice(o,1)},e._MusicVolume=1,e._EffectVolume=1,e._MusicEnable=!0,e._EffectEnable=!0,e.arrAudioPlayer=[],e}();o.default=n,cc._RF.pop()},{}],AudioPlayId:[function(e,t,o){"use strict";cc._RF.push(t,"64605gIrJdCDoFRiN/cHV+6","AudioPlayId"),Object.defineProperty(o,"__esModule",{value:!0}),o.AudioPlayId=void 0,function(e){e[e.none=0]="none",e[e.home_music=1]="home_music",e[e.game_play_music=2]="game_play_music",e[e.button_click=20]="button_click",e[e.button_open=21]="button_open",e[e.game_lose=22]="game_lose",e[e.game_win=23]="game_win",e[e.boss_crying=50]="boss_crying",e[e.boss_die=51]="boss_die",e[e.boss_take_stick=52]="boss_take_stick",e[e.boss_die_fire=53]="boss_die_fire",e[e.boss_jump_win=54]="boss_jump_win",e[e.stealer_attack=60]="stealer_attack",e[e.stealer_die=61]="stealer_die",e[e.demon_punch=62]="demon_punch",e[e.dog_bite=70]="dog_bite",e[e.dog_die=71]="dog_die",e[e.dragon_die=80]="dragon_die",e[e.dragon_fire=81]="dragon_fire",e[e.dragon_fire_ball=82]="dragon_fire_ball",e[e.girl_die=90]="girl_die",e[e.girl_help=91]="girl_help",e[e.effect_lava_appear=100]="effect_lava_appear",e[e.effect_lava_x_water=101]="effect_lava_x_water",e[e.effect_rock1=102]="effect_rock1",e[e.effect_gems=103]="effect_gems",e[e.stick_block=150]="stick_block",e[e.stick_move=151]="stick_move",e[e.rope_cut=152]="rope_cut",e[e.shoot=153]="shoot",e[e.chest_open=154]="chest_open"}(o.AudioPlayId||(o.AudioPlayId={})),cc._RF.pop()},{}],AudioPlayer:[function(e,t,o){"use strict";cc._RF.push(t,"9bfc9UVsnVBHbXGh3Z4oKcE","AudioPlayer");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.AudioPlay=o.AudioObject=void 0;var a=e("./AudioManager"),c=e("../../config/AudioPlayId"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(){function e(){this.name=c.AudioPlayId.none,this.audioClip=null,this.isMusic=!1}return r([u({type:cc.Enum(c.AudioPlayId)})],e.prototype,"name",void 0),r([u({type:cc.AudioClip})],e.prototype,"audioClip",void 0),r([u(cc.Boolean)],e.prototype,"isMusic",void 0),r([l("AudioObject")],e)}();o.AudioObject=p;var f=function(e,t,o){this.audioId=e,this.volume=t,this.isMusic=o};o.AudioPlay=f;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.arrayAudioObj=[],t.maps=null,t.arrayMusic=[],t.arrayEffect=[],t}return i(t,e),t.prototype.playAudio=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=1);var n,i=this.getAudioObject(e);if(!i)return cc.error("playAudio: "+e),null;if(i.isMusic){var r=cc.audioEngine.play(i.audioClip,t,o*a.default.RealMusicVolume);n=new f(r,o,!0),this.arrayMusic.push(n)}else r=cc.audioEngine.play(i.audioClip,t,o*a.default.RealEffectVolume),n=new f(r,o,!1),this.arrayEffect.push(n);return n},t.prototype.stopAudioPlay=function(e){var t;e.isMusic?-1!==(t=this.arrayMusic.indexOf(e))&&(cc.audioEngine.stop(e.audioId),this.arrayMusic.splice(t,1)):-1!==(t=this.arrayEffect.indexOf(e))&&(cc.audioEngine.stop(e.audioId),this.arrayEffect.splice(t,1))},t.prototype.setAudioPlayVolume=function(e,t){e.volume=t,e.isMusic?cc.audioEngine.setVolume(e.audioId,t*a.default.RealMusicVolume):cc.audioEngine.setVolume(e.audioId,t*a.default.RealEffectVolume)},t.prototype.setVolume=function(e){this.setMusicVolume(e),this.setEffectVolume(e)},t.prototype.setMusicVolume=function(e){this.arrayMusic.forEach(function(t){cc.audioEngine.setVolume(t.audioId,t.volume*e)})},t.prototype.setEffectVolume=function(e){this.arrayEffect.forEach(function(t){cc.audioEngine.setVolume(t.audioId,t.volume*e)})},t.prototype.stopAllAudio=function(){this.stopAllEffect(),this.stopAllMusic()},t.prototype.stopAllMusic=function(){this.arrayMusic.forEach(function(e){cc.audioEngine.stop(e.audioId)}),this.arrayMusic=[]},t.prototype.stopAllEffect=function(){this.arrayEffect.forEach(function(e){cc.audioEngine.stop(e.audioId)}),this.arrayEffect=[]},t.prototype.getAudioObject=function(e){return cc.log("getAudioObject: "+e),this.maps||this.initMaps(),this.maps.get(e)},t.prototype.initMaps=function(){var e=this;this.maps=new Map,this.arrayAudioObj.forEach(function(t){e.maps.set(t.name,t)})},t.prototype.onLoad=function(){a.default.add(this)},t.prototype.onDestroy=function(){a.default.remove(this),this.stopAllAudio()},r([u([p])],t.prototype,"arrayAudioObj",void 0),r([l],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../../config/AudioPlayId":"AudioPlayId","./AudioManager":"AudioManager"}],BackgroundLoader:[function(e,t,o){"use strict";cc._RF.push(t,"0ca53y9yWNEqKSKCjv53pUd","BackgroundLoader"),Object.defineProperty(o,"__esModule",{value:!0}),o.BackgroundLoader=void 0;var n=function(){function e(){}return e.removeTask=function(e){var t=this.tasks.indexOf(e);-1!=t&&this.tasks.splice(t,1),cc.log("completed. Remain: "+this.tasks.length)},e.addTask=function(e){var t=this;if(this.tasks.length>0){var o=this.tasks[this.tasks.length-1];o._completeCallback=function(){t.removeTask(o),e._callback()}}else e._callback();e._completeCallback=function(){t.removeTask(e)},this.tasks.push(e)},e.tasks=[],e}();o.BackgroundLoader=n,cc._RF.pop()},{}],BigBang:[function(e,t,o){"use strict";cc._RF.push(t,"4b544/S0+VBi7Mf5oLI8B72","BigBang");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../MainScene"),c=e("../../config/AudioPlayId"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeAttack=.5,t.hitAttack=null,t.bumPrefab=null,t}return i(t,e),t.prototype.onEnable=function(){var e=this;this.scheduleOnce(function(){e.hitAttack.removeComponent(cc.CircleCollider),e.node.removeFromParent()},this.timeAttack),this.showBumEffect()},t.prototype.showBumEffect=function(){var e=cc.instantiate(this.bumPrefab);e.setPosition(this.node.getPosition()),e.scale=.66,this.node.getParent().addChild(e),a.default.instance.audioPlayer.playAudio(c.AudioPlayId.dragon_fire_ball),cc.tween(e).delay(2).call(function(){e.removeFromParent()}).start()},r([u(cc.Float)],t.prototype,"timeAttack",void 0),r([u(cc.Node)],t.prototype,"hitAttack",void 0),r([u(cc.Prefab)],t.prototype,"bumPrefab",void 0),r([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId"}],BigFoot:[function(e,t,o){"use strict";cc._RF.push(t,"864ccLfh25I9J9aT7cExWE3","BigFoot");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./Enemies"),c=e("../../../config/AudioPlayId"),s=e("../../../MainScene"),l=cc._decorator,u=l.ccclass,p=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.playAttack=function(t){e.prototype.playAttack.call(this,t),s.default.instance.audioPlayer.playAudio(c.AudioPlayId.stealer_attack)},t.prototype.onDieIce=function(){e.prototype.onDieIce.call(this),s.default.instance.audioPlayer.playAudio(c.AudioPlayId.stealer_die)},t.prototype.onDieNormal=function(){e.prototype.onDieNormal.call(this),s.default.instance.audioPlayer.playAudio(c.AudioPlayId.stealer_die)},t.prototype.onDieFire=function(){e.prototype.onDieFire.call(this),s.default.instance.audioPlayer.playAudio(c.AudioPlayId.stealer_die)},r([u],t)}(a.default));o.default=p,cc._RF.pop()},{"../../../MainScene":"MainScene","../../../config/AudioPlayId":"AudioPlayId","./Enemies":"Enemies"}],BigStone:[function(e,t,o){"use strict";cc._RF.push(t,"ae47diI/DNKZ6oYDkVlYShG","BigStone");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../config/GroupConfig"),c=e("../../MainScene"),s=e("../../config/AudioPlayId"),l=e("../../config/TagObject"),u=e("../../config/GlobalSignals"),p=e("../../level/MapLevel"),f=e("../../config/GameState"),d=cc._decorator,h=d.ccclass,y=(d.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ischeck=!1,t.rb=null,t.canDrop=!1,t}return i(t,e),t.prototype.onLoad=function(){var e=this;this.rb=this.getComponent(cc.RigidBody),setTimeout(function(){e.canDrop=!0},1e3)},t.prototype.onCollisionEnter=function(e){e.node.group!==a.GroupConfig.BERRIE&&e.node.name!=l.TagConfig.CHEST&&e.node.name!=l.TagConfig.BIG_ROCK||c.default.instance.audioPlayer.playAudio(s.AudioPlayId.effect_rock1),p.default.instance.gameState!=f.GameState.LOSE&&(console.log(e.node.names),e.node.name==l.TagConfig.FIRE_BALL&&(u.GlobalSignals.questFailSignal.dispatch(),this.ischeck=!0),this.ischeck=!0)},t.prototype.update=function(){this.canDrop&&(this.rb.linearVelocity.y<-150||this.rb.linearVelocity.y>150)&&(this.rb.linearVelocity=cc.v2(this.rb.linearVelocity.x,1.05*this.rb.linearVelocity.y))},r([h],t)}(cc.Component));o.default=y,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","../../config/GameState":"GameState","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel"}],Bomb:[function(e,t,o){"use strict";cc._RF.push(t,"27a9fLgW7hIIrOK0rr5oTkV","Bomb");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../config/GroupConfig"),c=e("../../config/PhysicsConfig"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bigBangPrefab=null,t}return i(t,e),t.prototype.onLoad=function(){c.PhysicsConfig.initPhysicConfig(this.node,"bomb")},t.prototype.onCollisionEnter=function(e){e.node.group!==a.GroupConfig.CHARACTER&&e.node.group!==a.GroupConfig.BERRIE&&e.node.group!==a.GroupConfig.ROCK||this.attack()},t.prototype.attack=function(){this.node.removeComponent(cc.PhysicsCollider),this.node.removeComponent(cc.CircleCollider);var e=cc.instantiate(this.bigBangPrefab),t=this.node.getParent().getParent();e.position=t.convertToNodeSpaceAR(this.node.getParent().convertToWorldSpaceAR(this.node.position)),t.addChild(e),this.node.removeFromParent()},r([u(cc.Prefab)],t.prototype,"bigBangPrefab",void 0),r([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig"}],Boss:[function(e,t,o){"use strict";cc._RF.push(t,"ce935JmeGhBwKF+5C9yvUHZ","Boss");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../config/GlobalSignals"),c=e("../../../config/GroupConfig"),s=e("../Character"),l=e("../../../base/ColliderCallback"),u=e("../../../config/TagObject"),p=e("../hostage/Girl"),f=e("../../../level/MapLevel"),d=e("../../../config/GameState"),h=e("../../more/ItemLoot"),y=e("../../../config/AudioPlayId"),g=e("../../../MainScene"),_=e("../../more/ItemChest"),v=e("../../../config/SkinConfig"),b=e("../../../GameData"),m=e("../../../CheckWinPool"),C=cc._decorator,P=C.ccclass,O=C.property,S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sitAnim="OpenLock",t.winAnim="Bae_Win",t.failAnim="Fail",t.failAnim1="Bae_Lose",t.openLockAnim="OpenLock",t.rewardAnim="LiXi",t.flowerAnim="Flower",t.flowerAnim2="Flower2",t.stickSkin="Boss0/Stick",t.idleStickAnim="IdleStick",t.superSkin="SuperMan/Boss",t.superAppearAnim="SuperAppear",t.superAttackAnim="SuperAttack",t.superIdleAnim="SuperIdle",t.superWinAnim="SuperWin",t.superOpenLockAnim="SuperChest",t.superFlowerAnim="SuperFlower",t.superFlowerAnim2="SuperFlower2",t.fail=!1,t.jumpCollider=null,t.isAutoMove=!1,t}var o;return i(t,e),o=t,Object.defineProperty(t,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){o._instance=this,e.prototype.onLoad.call(this),this.playAnimation("Anim_video/Angry").addAnimation("Anim_video/Angry_Idle",!0),this.initPetSkin()},t.prototype.initBossSkin=function(){var e=v.SkinConfig.getSkinNameById(b.GameData.currentSkinBoss),t=e.split("/")[0];this.stickSkin=t+"/Stick",this.changeSkin(e),v.SkinConfig.getSkinConfigById(b.GameData.currentSkinBoss)},t.prototype.initPetSkin=function(){},t.prototype.start=function(){this.jumpCollider.setColliderCallback(this.onJumpCollider.bind(this))},t.prototype.onEnable=function(){this._onQuestFail=this.onQuestFail.bind(this),this._onQuestPass=this.onQuestPass.bind(this),this._onCollectGems=this.onCollectGems.bind(this),this._onAutoMove=this.onAutoMove.bind(this),this._onQuestFail2=this.fail2.bind(this),a.GlobalSignals.questPassSignal.add(this._onQuestPass),a.GlobalSignals.questFailSignal.add(this._onQuestFail),a.GlobalSignals.collectGemsSignal.add(this._onCollectGems),a.GlobalSignals.autoMoveSignal.add(this._onAutoMove),a.GlobalSignals.girlGiveEggSignal.add(this._onQuestFail2)},t.prototype.onDisable=function(){a.GlobalSignals.questPassSignal.remove(this._onQuestPass),a.GlobalSignals.questFailSignal.remove(this._onQuestFail),a.GlobalSignals.collectGemsSignal.remove(this._onCollectGems),a.GlobalSignals.autoMoveSignal.remove(this._onAutoMove)},t.prototype.fail2=function(){this.fail=!0},t.prototype.onDestroy=function(){o._instance=null,this.unscheduleAllCallbacks()},t.prototype.onCollectGems=function(){this.stopMove(),this.playAnimation(this.sitAnim);var e=this.skeleton.findAnimation(this.sitAnim).duration;this.scheduleOnce(function(){f.default.instance.gameState!=d.GameState.LOSE&&a.GlobalSignals.questPassSignal.dispatch()},e)},t.prototype.onQuestPass=function(){this.isAlive&&setTimeout(function(){g.default.instance.audioPlayer.playAudio(y.AudioPlayId.boss_jump_win)},500)},t.prototype.onQuestFail=function(){this.stopMove(),this.isAlive&&(this.fail?(this.playAnimation(this.winAnim).addAnimation("GamePlay1/Lose_Panic",!0),g.default.instance.audioPlayer.playAudio(y.AudioPlayId.boss_crying)):(m.default.instance.isDirt?this.playAnimation("LoseYellow1").addAnimation("LoseYellow3",!0):m.default.instance.ischeck?this.playAnimation("LoseGreen2").addAnimation("LoseGreen3",!0):this.playAnimation("Lose1").addAnimation("Lose",!0),setTimeout(function(){g.default.instance.audioPlayer.playAudio(y.AudioPlayId.boss_take_stick)},300)))},t.prototype.onAutoMove=function(){var e=this;this.isAutoMove=!0,this.isAlive&&this.isGround&&f.default.instance.isPlaying&&(this.isAutoMove=!1,this.runToTarget(null),this.jumpCollider.node.active=!1,this.scheduleOnce(function(){e.jumpCollider.node.active=!0},.2))},t.prototype.onGroundCollisionEnter=function(t){e.prototype.onGroundCollisionEnter.call(this,t),this.isAutoMove&&this.isAlive&&this.isGround&&f.default.instance.isPlaying&&(this.isAutoMove=!1,this.runToTarget(null))},t.prototype.onHeadCollider=function(e){if(this.isAlive&&this.getCurrentSkin()!==this.superSkin)return e.node.group===c.GroupConfig.ROCK?(this.onDieNormal(),void this.disablePhysicsBody()):void 0},t.prototype.onBodyCollider=function(e){if(this.isAlive&&f.default.instance.isPlaying&&this.getCurrentSkin()!==this.superSkin)if(e.node.group!==c.GroupConfig.GEMS)if(e.node.group!==c.GroupConfig.LAVA)if(e.node.group!==c.GroupConfig.SNOW){if(e.node.group===c.GroupConfig.COLLIDER){if(e.node.name==u.TagConfig.REDIRECT_RIGHT)return void this.moveRight(this.runAnim);if(e.node.name==u.TagConfig.REDIRECT_LEFT)return void this.moveLeft(this.runAnim);if(e.node.name==u.TagConfig.REDIRECT_STOP)return void this.stopMove();if(e.node.name==u.TagConfig.BOMB)return void this.onDieNormal();(e.node.name==u.TagConfig.GAS||e.node.name==u.TagConfig.BOMB||e.node.name==u.TagConfig.HIT&&e.node!=this.hit)&&this.onDieNormal()}}else this.onDieIce();else this.onDieFire();else f.default.instance.countGemsCollected++},t.prototype.onAttackCollider=function(e){var t=this;if(cc.log("onAttackCollider: group: "+e.node.group+", name: "+e.node.name+", "+(new Date).getTime()),this.isAlive&&f.default.instance.isPlaying){if(e.node.group===c.GroupConfig.ITEM){if(e.node.name==u.TagConfig.STICK){cc.log("Boss onAttackCollider: STICK = "+e.node.name),a.GlobalSignals.bossAttackSignal.dispatch();try{e.node.removeComponent(cc.PhysicsCollider),e.node.removeComponent(cc.BoxCollider),e.node.removeFromParent()}catch(i){cc.warn(i)}return this.stopMove(),void this.changeSkinToStickBoss()}if(e.node.name==u.TagConfig.HOLY_WATER){try{e.node.removeComponent(cc.PhysicsCollider),e.node.removeComponent(cc.BoxCollider),e.node.removeFromParent()}catch(i){cc.warn(i)}return this.stopMove(),void this.changeSkinToSuperman()}if(e.node.name==u.TagConfig.ITEM){if(cc.log("Boss onAttackCollider: ITEM = "+e.node.name),a.GlobalSignals.bossAttackSignal.dispatch(),!(n=e.node.getComponent(h.default)))return void cc.error("item is null");this.stopMove(),this.rotateFaceToTarget(e.node),this.playAnimation(this.openLockAnim),n.openItem(),g.default.instance.audioPlayer.playAudio(y.AudioPlayId.chest_open);var o=this.skeleton.findAnimation(this.openLockAnim).duration;return void this.scheduleOnce(function(){f.default.instance.isPlaying&&f.default.instance.isQuestCollectItem&&a.GlobalSignals.questPassSignal.dispatch()},o)}var n;if(e.node.name==u.TagConfig.CHEST)return a.GlobalSignals.bossAttackSignal.dispatch(),cc.log("Boss onAttackCollider: ITEM = "+e.node.name),(n=e.node.getComponent(_.default))?(this.stopMove(),this.rotateFaceToTarget(e.node),this.playAnimation(this.openLockAnim),n.openItem(),g.default.instance.audioPlayer.playAudio(y.AudioPlayId.chest_open),o=this.skeleton.findAnimation(this.openLockAnim).duration,void this.scheduleOnce(function(){t.isAlive&&f.default.instance.isPlaying&&(f.default.instance.isCollectGems=!0,a.GlobalSignals.collectGemsSignal.dispatch(),t.scheduleOnce(function(){t.isAlive&&f.default.instance.isPlaying&&(f.default.instance.gameState=d.GameState.WIN,f.default.instance.isPlaying&&f.default.instance.isQuestOpenChest&&a.GlobalSignals.questPassSignal.dispatch())},1.5))},o)):void cc.error("item is null")}return e.node.group===c.GroupConfig.CHARACTER?e.node.name==u.TagConfig.GIRL||e.node.name==u.TagConfig.GIRL_WONDER?(a.GlobalSignals.bossAttackSignal.dispatch(),void this.rescueTheGirl(e.node)):this.getCurrentSkin()===this.stickSkin&&(a.GlobalSignals.bossAttackSignal.dispatch(),e.node.name==u.TagConfig.STEALER)?void this.playAttack(e.node):void 0:void 0}},t.prototype.onJumpCollider=function(e){this.isAlive&&this.isGround&&e.node.group===c.GroupConfig.BERRIE&&(cc.log("Boss onJumpCollider"),this.moveJump())},t.prototype.onSearchCollider=function(e){if(this.isAlive&&f.default.instance.isPlaying)return cc.log("other.node.name: "+e.node.name),e.node.group===c.GroupConfig.CHARACTER&&e.node!=this.node&&this.getCurrentSkin()===this.stickSkin&&e.node.name==u.TagConfig.STEALER?(a.GlobalSignals.bossWalkToTargetSignal.dispatch(),void this.walkToTarget(e.node)):void 0},t.prototype.playAttack=function(e){var t=this;this.rotateFaceToTarget(e),this.playAnimation(this.attackAnim),this.stopMove(),this.scheduleOnce(function(){t.hit.active=!0},.2),this.skeleton.setCompleteListener(function(){f.default.instance.isPlaying&&(t.skeleton.setCompleteListener(null),t.playAnimation(t.idleStickAnim,!0),t.hit.active=!1,t.stopMove())})},t.prototype.changeSkinToStickBoss=function(){var e=this;this.changeSkin(this.stickSkin),this.playAnimation(this.idleStickAnim,!0),this.attackCollider.node.getComponent(cc.BoxCollider).size.width+=40,g.default.instance.audioPlayer.playAudio(y.AudioPlayId.boss_take_stick);var t=this.groundCollider.node.getComponent(u.default);t&&(t.setTag(u.TagConfig.BOSS_STICK),cc.log("changeSkinToStickBoss")),this.scheduleOnce(function(){e.searchCollider.refreshPingToTarget()},.1)},t.prototype.changeSkinToSuperman=function(){this.changeSkin(this.superSkin),this.playAnimation(this.superAppearAnim).addAnimation(this.superIdleAnim,!0);var e=this.skeleton.findAnimation(this.superAppearAnim).duration;cc.tween(this.skeleton.node).by(e,{position:new cc.Vec3(0,20,0)}).start(),this.attackCollider.node.getComponent(cc.BoxCollider).size.width+=40,g.default.instance.audioPlayer.playAudio(y.AudioPlayId.boss_take_stick);var t=this.groundCollider.node.getComponent(u.default);t&&(t.setTag(u.TagConfig.BOSS_SUPER),cc.log("changeSkinToSuperman"))},t.prototype.rescueTheGirl=function(e){var t=this,o=e.getParent().getParent().getComponent(p.default);if(o){this.stopMove(),cc.log("Boss: rotateFaceToTarget"),this.rotateFaceToTarget(e),this.getCurrentSkin()===this.superSkin?this.playAnimation(this.superOpenLockAnim).addAnimation(this.superWinAnim,!0):this.playAnimation(this.openLockAnim).addAnimation(this.flowerAnim).addAnimation(this.flowerAnim2,!0),this.scheduleOnce(function(){f.default.instance.isPlaying&&a.GlobalSignals.questPassSignal.dispatch()},3);var n=this.skeleton.findAnimation(this.openLockAnim).duration;this.scheduleOnce(function(){o.isAlive&&o.playOutAnimation(t.node)},n)}else cc.error("girl is null")},t.prototype.onDieNormal=function(){this.stopMove(),this.stun.node.active=!0,this.playAnimation(this.dieAnim),this.isAlive=!1,a.GlobalSignals.questFailSignal.dispatch(),g.default.instance.audioPlayer.playAudio(y.AudioPlayId.boss_die)},t.prototype.onDieFire=function(){this.stopMove(),this.stun.node.active=!0,this.playAnimation(this.dieFireAnim),this.isAlive=!1,a.GlobalSignals.questFailSignal.dispatch(),g.default.instance.audioPlayer.playAudio(y.AudioPlayId.boss_die_fire)},t.prototype.onDieIce=function(){this.stopMove(),this.stun.node.active=!0,this.playAnimation(this.dieIceAnim),this.isAlive=!1,a.GlobalSignals.questFailSignal.dispatch(),g.default.instance.audioPlayer.playAudio(y.AudioPlayId.boss_die)},t.prototype.stopMove=function(){e.prototype.stopMove.call(this),this.isAutoMove=!1},t._instance=null,r([O(l.default)],t.prototype,"jumpCollider",void 0),o=r([P],t)}(s.default);o.default=S,cc._RF.pop()},{"../../../CheckWinPool":"CheckWinPool","../../../GameData":"GameData","../../../MainScene":"MainScene","../../../base/ColliderCallback":"ColliderCallback","../../../config/AudioPlayId":"AudioPlayId","../../../config/GameState":"GameState","../../../config/GlobalSignals":"GlobalSignals","../../../config/GroupConfig":"GroupConfig","../../../config/SkinConfig":"SkinConfig","../../../config/TagObject":"TagObject","../../../level/MapLevel":"MapLevel","../../more/ItemChest":"ItemChest","../../more/ItemLoot":"ItemLoot","../Character":"Character","../hostage/Girl":"Girl"}],Bullet:[function(e,t,o){"use strict";cc._RF.push(t,"ce76b+UskFF5pu2I3GghrjS","Bullet");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../config/GroupConfig"),c=cc._decorator,s=c.ccclass,l=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onCollisionEnter=function(e){var t=this;e.node.group===a.GroupConfig.CHARACTER&&(this.scheduleOnce(function(){t.node.opacity=0,cc.Tween.stopAllByTarget(t.node)},.05),this.scheduleOnce(function(){t.node.active=!1,t.node.removeFromParent()},.2))},t.velocityHit=500,r([s],t)}(cc.Component));o.default=l,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig"}],ButtonRewardVideo:[function(e,t,o){"use strict";cc._RF.push(t,"c48cat8LANAC6ORdR0rjt3c","ButtonRewardVideo");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loading=null,t.btn=null,t}return i(t,e),t.prototype.onLoad=function(){this.btn=this.getComponent(cc.Button),this.loading.active=!1},t.prototype.onEnable=function(){this._onLoadingRewardVideo=this.onLoadingRewardVideo.bind(this)},t.prototype.onDisable=function(){this._onLoadingRewardVideo},t.prototype.onLoadingRewardVideo=function(e){this.btn.interactable=!e,this.btn.node.opacity=e?0:255},r([s(cc.Node)],t.prototype,"loading",void 0),r([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],CaptureTexture:[function(e,t,o){"use strict";cc._RF.push(t,"dc9488+uhhO8Y82xoRnlwML","CaptureTexture");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.camera=null,t}return i(t,e),t.prototype.getImgBase64=function(){var e=cc.view.getVisibleSize(),t=e.width,o=e.height,n=new cc.RenderTexture,i=cc.game._renderContext;n.initWithSize(cc.visibleRect.width,cc.visibleRect.height,i.STENCIL_INDEX8),this.camera.targetTexture=n;var r=document.createElement("canvas"),a=r.getContext("2d");r.width=t,r.height=o,this.camera.render();var c=new Uint8Array(t*o*4);n.readPixels(c);for(var s=4*t,l=0;l<o;l++){var u=o-1-l,p=new Uint8ClampedArray(c.buffer,u*t*4,s),f=new ImageData(p,t,1);a.putImageData(f,0,l)}return r.toDataURL("image/png")},r([s(cc.Camera)],t.prototype,"camera",void 0),r([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],Character:[function(e,t,o){"use strict";cc._RF.push(t,"028fayw1+FMb5Lyi+B6DgJG","Character");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../base/ColliderCallback"),c=e("./MoveCtrl"),s=e("./ColliderSearch"),l=e("./ColliderGround"),u=e("../../config/TagObject"),p=e("../../config/GroupConfig"),f=e("../../config/PhysicsConfig"),d=cc._decorator,h=d.ccclass,y=d.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeleton=null,t.stun=null,t.hit=null,t.idleAnim="Idle",t.runAnim="Run",t.walkAnim="Walk",t.attackAnim="Attack",t.dieAnim="Die",t.dieFireAnim="DieFire",t.dieIceAnim="Ice",t.rootCollider=null,t.groundCollider=null,t.headCollider=null,t.bodyCollider=null,t.attackCollider=null,t.searchCollider=null,t.ignoreFluids=[],t.attackDistance=0,t.currentSkin="",t.deadCallback=null,t.isGround=!0,t._isAlive=!0,t.isRunning=!1,t.moveCtrl=null,t}var o;return i(t,e),o=t,Object.defineProperty(t.prototype,"isAlive",{get:function(){return this._isAlive},set:function(e){var t=this;this._isAlive=e,this._isAlive||(cc.log(this.node.name+" isAlive = false"),this.deadCallback&&this.deadCallback(this.node),this.moveCtrl&&(this.moveCtrl.stopMove(),this.moveCtrl.enabled=!1),this.scheduleOnce(function(){try{t.rootCollider.active=!1}catch(e){cc.warn(e)}},.2))},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){if(this.searchCollider&&(this.searchCollider.node.active=!0,this.searchCollider.setColliderCallback(this.onSearchCollider.bind(this))),this.hit){var e=this.hit.getComponent(u.default);e&&(this.tagHit=e.tag2)}this.groundCollider.setGroundColliderCallback(this.onGroundCollisionEnter.bind(this)),this.headCollider.setColliderCallback(this.onHeadCollider.bind(this)),this.bodyCollider.setColliderCallback(this.onBodyCollider.bind(this)),this.attackCollider.setColliderCallback(this.onAttackCollider.bind(this)),this.moveCtrl=this.getComponent(c.default),this.attackDistance=this.attackCollider.getComponent(cc.BoxCollider).size.width/2,this.currentSkin=this.skeleton.defaultSkin,f.PhysicsConfig.initPhysicConfig(this.node,"character")},t.prototype.setDeadCallback=function(e){this.deadCallback=e},t.prototype.checkIgnoreFluid=function(e){return-1!=this.ignoreFluids.indexOf(e)},t.prototype.addToIgnoreSearchCollier=function(e){this.searchCollider&&this.searchCollider.addToIgnore(e)},t.prototype.playAnimation=function(e,t){return void 0===t&&(t=!1),this.skeleton.setAnimation(0,e,t),this},t.prototype.addAnimation=function(e,t,o){return void 0===t&&(t=!1),void 0===o&&(o=0),this.skeleton.addAnimation(0,e,t,o),this},t.prototype.changeSkin=function(e){this.currentSkin=e,this.skeleton.setSkin(e),this.skeleton.setSlotsToSetupPose()},t.prototype.getCurrentSkin=function(){return this.currentSkin},t.prototype.runToTarget=function(e){this.moveToTarget(e,this.runAnim)},t.prototype.walkToTarget=function(e){this.moveToTarget(e,this.walkAnim)},t.prototype.moveToTarget=function(e,t){var n=!0;if(e){var i=this.node.getParent().convertToNodeSpaceAR(e.getParent().convertToWorldSpaceAR(e.position)),r=e.getComponent(cc.BoxCollider),a=r?r.offset.x+r.size.width/2:0;if(Math.abs(this.node.position.x-i.x)<this.attackDistance+a)return;n=this.node.position.x<i.x}else n=this.node.scaleX===o.SCALE_RIGHT;n?this.moveRight(t):this.moveLeft(t)},t.prototype.rotateFaceToTarget=function(e){var t=this.node.getParent().convertToNodeSpaceAR(e.getParent().convertToWorldSpaceAR(e.position));this.node.position.x<t.x?this.node.scaleX=o.SCALE_RIGHT:this.node.scaleX=o.SCALE_LEFT},t.prototype.moveLeft=function(e){this.moveCtrl&&(this.isRunning=!0,this.node.scaleX=o.SCALE_LEFT,this.moveCtrl.moveLeft(),""!=e&&this.playAnimation(e,!0))},t.prototype.moveRight=function(e){this.moveCtrl&&(this.isRunning=!0,this.node.scaleX=o.SCALE_RIGHT,this.moveCtrl.moveRight(),""!=e&&this.playAnimation(e,!0))},t.prototype.moveJump=function(){this.moveCtrl&&this.moveCtrl.moveJump()},t.prototype.stopMove=function(){this.moveCtrl&&(this.isRunning=!1,this.moveCtrl.stopMove())},t.prototype.onAttackCollider=function(){},t.prototype.onBodyCollider=function(){},t.prototype.onHeadCollider=function(){},t.prototype.onSearchCollider=function(){},t.prototype.onGroundCollisionEnter=function(e){cc.log("onGroundCollisionEnter: "+e),this.isGround=e,this.attackCollider.node.active=e,this.searchCollider&&(this.searchCollider.node.active=e)},t.prototype.disablePhysicsBody=function(){var e=this.node.getComponent(cc.PhysicsCollider);e&&(e.enabled=!1,e.node.group=p.GroupConfig.DEAD,e.enabled=!0)},t.SCALE_RIGHT=1,t.SCALE_LEFT=-1,r([y(sp.Skeleton)],t.prototype,"skeleton",void 0),r([y(sp.Skeleton)],t.prototype,"stun",void 0),r([y(cc.Node)],t.prototype,"hit",void 0),r([y(cc.String)],t.prototype,"idleAnim",void 0),r([y(cc.String)],t.prototype,"runAnim",void 0),r([y(cc.String)],t.prototype,"walkAnim",void 0),r([y(cc.String)],t.prototype,"attackAnim",void 0),r([y(cc.String)],t.prototype,"dieAnim",void 0),r([y(cc.String)],t.prototype,"dieFireAnim",void 0),r([y(cc.String)],t.prototype,"dieIceAnim",void 0),r([y(cc.Node)],t.prototype,"rootCollider",void 0),r([y(l.default)],t.prototype,"groundCollider",void 0),r([y(a.default)],t.prototype,"headCollider",void 0),r([y(a.default)],t.prototype,"bodyCollider",void 0),r([y(a.default)],t.prototype,"attackCollider",void 0),r([y(s.default)],t.prototype,"searchCollider",void 0),r([y([cc.String])],t.prototype,"ignoreFluids",void 0),o=r([h],t)}(cc.Component);o.default=g,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject","./ColliderGround":"ColliderGround","./ColliderSearch":"ColliderSearch","./MoveCtrl":"MoveCtrl"}],CheckLoose:[function(e,t,o){"use strict";cc._RF.push(t,"c2cc3D+BilHl45lRLjRKfmG","CheckLoose");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./base/ColliderCallback"),c=e("./config/GameState"),s=e("./config/GlobalSignals"),l=e("./config/GroupConfig"),u=e("./level/MapLevel"),p=cc._decorator,f=p.ccclass,d=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boxCheck=null,t.end=!1,t.timeHitBox=0,t.UpdateNode=null,t}return i(t,e),t.prototype.start=function(){this.boxCheck.setColliderCallback(this.onHitCollider.bind(this))},t.prototype.onHitCollider=function(e){e.node.group===l.GroupConfig.WATER&&this.timeHitBox++,this.timeHitBox>5&&u.default.instance.gameState==c.GameState.PLAYING&&s.GlobalSignals.questFailSignal.dispatch()},r([d(a.default)],t.prototype,"boxCheck",void 0),r([d(cc.Node)],t.prototype,"UpdateNode",void 0),r([f],t)}(cc.Component);o.default=h,cc._RF.pop()},{"./base/ColliderCallback":"ColliderCallback","./config/GameState":"GameState","./config/GlobalSignals":"GlobalSignals","./config/GroupConfig":"GroupConfig","./level/MapLevel":"MapLevel"}],CheckWinPool:[function(e,t,o){"use strict";cc._RF.push(t,"7f81duy/rRKqrffT/DKyCnG","CheckWinPool");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./MainScene"),c=e("./base/ColliderCallback"),s=e("./config/AudioPlayId"),l=e("./config/GameState"),u=e("./config/GlobalSignals"),p=e("./config/GroupConfig"),f=e("./level/MapLevel"),d=e("./objects/character/Boss/3DAnim"),h=cc._decorator,y=h.ccclass,g=h.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boxCheck=null,t.boxCheck2=null,t.boxCheck3=null,t.right=null,t.left=null,t.ongkhoi=null,t.nuaPhai=null,t.carpet=null,t.sofa=null,t.windowWin=null,t.windowLose=null,t.nuaTrai=null,t.Tree=null,t.Smoke=null,t.positionSmk=null,t.labelPercent=null,t.spritePercent=null,t.holder=null,t.windowGlow=null,t.map=null,t.glow50coins=null,t.coin50=null,t.snow=null,t.timeHitBox=0,t.timeHitBox2=0,t.rate=0,t.autoCheck=!1,t.ischeck=!1,t.dtCoins=1.4,t}var o;return i(t,e),o=t,Object.defineProperty(t,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){o._instance=this},t.prototype.start=function(){this.boxCheck.setColliderCallback(this.onHitCollider.bind(this)),this.boxCheck2.setColliderCallback(this.onHitCollider2.bind(this)),this._onAutoCheck=this.onAutoCheck.bind(this),u.GlobalSignals.checkWin.add(this._onAutoCheck),this.labelPercent.string="0",this.spritePercent.fillRange=0},t.prototype.onAutoCheck=function(){var e=this;this.scheduleOnce(function(){e.ischeck||(e.ischeck=!0,f.default.instance.gameState==l.GameState.PLAYING&&(e.rate<100?e.endHalf():e.rate>100&&e.endAll()))},2)},t.prototype.onHitCollider=function(e){this.ischeck||e.node.group===p.GroupConfig.GEMS&&(a.default.instance.audioPlayer.playAudio(s.AudioPlayId.effect_lava_x_water),e.node.active=!1,this.timeHitBox++,this.rate<=100?(this.rate=Math.ceil(this.timeHitBox/30*100),this.labelPercent.string=this.rate.toString(),this.spritePercent.fillRange=this.rate/100):this.rate>100&&(this.labelPercent.string="100"),this.rate>100&&(this.labelPercent.string="100",this.rate=100,this.endAll()))},t.prototype.onHitCollider2=function(e){if(e.node.group===p.GroupConfig.ROCK&&f.default.instance.gameState==l.GameState.PLAYING)return d.default.instance.playLose(),void u.GlobalSignals.questFailSignal.dispatch()},t.prototype.endAll=function(){var e=this;this.endHalf(!0),this.ischeck=!0,this.carpet.scale=0,this.sofa.scale=0,this.windowWin.scale=0,this.nuaTrai.opacity=0,cc.tween(this.left).delay(this.dtCoins+1).call(function(){e.rate-=50,e.labelPercent.string=e.rate.toString(),e.spritePercent.fillRange=e.rate/100,cc.tween(e.holder).to(.3,{opacity:0}).start(),e.left.active=!0,a.default.instance.audioPlayer.playAudio(s.AudioPlayId.dragon_fire),e.carpet.active=!0,e.windowWin.active=!0,e.sofa.active=!0,e.nuaTrai.active=!0,cc.tween(e.carpet).delay(e.dtCoins).to(.5,{scale:1},{easing:"quintInOut"}).call(function(){d.default.instance.playWin(),a.default.instance.audioPlayer.playAudio(s.AudioPlayId.stealer_attack),u.GlobalSignals.questPassSignal.dispatch()}).start(),cc.tween(e.sofa).delay(e.dtCoins).to(.5,{scale:1},{easing:"quintInOut"}).call(function(){a.default.instance.audioPlayer.playAudio(s.AudioPlayId.dragon_die)}).start(),cc.tween(e.snow).delay(e.dtCoins).to(.5,{opacity:0},{easing:"quintInOut"}).call(function(){}).start(),cc.tween(e.windowWin).delay(e.dtCoins).to(.5,{scale:1},{easing:"quintInOut"}).call(function(){}).start(),cc.tween(e.nuaTrai).delay(e.dtCoins).to(.5,{opacity:255},{easing:"quintInOut"}).call(function(){}).start()}).start()},t.prototype.endHalf=function(e){var t=this;void 0===e&&(e=!1),this.ongkhoi.scale=0,this.nuaPhai.opacity=0,this.ischeck=!0,this.coin50.opacity=0,cc.tween(this.map).to(.3,{opacity:0}).start(),cc.tween(this.right).delay(.5).call(function(){t.rate-=50,t.labelPercent.string=t.rate.toString(),t.spritePercent.fillRange=t.rate/100,t.right.active=!0,a.default.instance.audioPlayer.playAudio(s.AudioPlayId.dragon_fire),t.ongkhoi.active=!0,t.nuaPhai.active=!0,cc.tween(t.ongkhoi).delay(t.dtCoins).to(.5,{scale:1},{easing:"quintInOut"}).call(function(){}).start(),cc.tween(t.nuaPhai).delay(t.dtCoins).to(.5,{opacity:255},{easing:"quintInOut"}).call(function(){a.default.instance.audioPlayer.playAudio(s.AudioPlayId.dragon_die)}).start(),e||(t.coin50.active=!0,cc.tween(t.coin50).delay(t.dtCoins+1).to(.5,{opacity:255},{easing:"quintInOut"}).call(function(){t.glow50coins.active=!0,cc.tween(t.glow50coins).repeat(2,cc.tween().to(.5,{opacity:0}).to(.5,{opacity:255})).start()}).start(),t.scheduleOnce(function(){d.default.instance.playLose(),u.GlobalSignals.questFailSignal.dispatch()},t.dtCoins+2))}).start()},t._instance=null,r([g(c.default)],t.prototype,"boxCheck",void 0),r([g(c.default)],t.prototype,"boxCheck2",void 0),r([g(c.default)],t.prototype,"boxCheck3",void 0),r([g(cc.Node)],t.prototype,"right",void 0),r([g(cc.Node)],t.prototype,"left",void 0),r([g(cc.Node)],t.prototype,"ongkhoi",void 0),r([g(cc.Node)],t.prototype,"nuaPhai",void 0),r([g(cc.Node)],t.prototype,"carpet",void 0),r([g(cc.Node)],t.prototype,"sofa",void 0),r([g(cc.Node)],t.prototype,"windowWin",void 0),r([g(cc.Node)],t.prototype,"windowLose",void 0),r([g(cc.Node)],t.prototype,"nuaTrai",void 0),r([g(cc.Node)],t.prototype,"Tree",void 0),r([g(cc.Prefab)],t.prototype,"Smoke",void 0),r([g(cc.Node)],t.prototype,"positionSmk",void 0),r([g(cc.Label)],t.prototype,"labelPercent",void 0),r([g(cc.Sprite)],t.prototype,"spritePercent",void 0),r([g(cc.Node)],t.prototype,"holder",void 0),r([g(cc.Node)],t.prototype,"windowGlow",void 0),r([g(cc.Node)],t.prototype,"map",void 0),r([g(cc.Node)],t.prototype,"glow50coins",void 0),r([g(cc.Node)],t.prototype,"coin50",void 0),r([g(cc.Node)],t.prototype,"snow",void 0),o=r([y],t)}(cc.Component);o.default=_,cc._RF.pop()},{"./MainScene":"MainScene","./base/ColliderCallback":"ColliderCallback","./config/AudioPlayId":"AudioPlayId","./config/GameState":"GameState","./config/GlobalSignals":"GlobalSignals","./config/GroupConfig":"GroupConfig","./level/MapLevel":"MapLevel","./objects/character/Boss/3DAnim":"3DAnim"}],ColliderCallback:[function(e,t,o){"use strict";cc._RF.push(t,"972fagnS5RCV7DBQ88ri4Nf","ColliderCallback");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.colliderEnterCb=null,t.colliderExitCb=null,t.colliderEnterCbStay=null,t}return i(t,e),t.prototype.setColliderCallback=function(e,t){void 0===t&&(t=null),this.colliderEnterCb=e,this.colliderExitCb=t},t.prototype.setColliderCallbackStay=function(e){this.colliderEnterCbStay=e},t.prototype.onCollisionEnter=function(e,t){this.colliderEnterCb&&this.colliderEnterCb(e,t)},t.prototype.onCollisionStay=function(e,t){this.colliderEnterCbStay&&this.colliderEnterCbStay(e,t)},t.prototype.onCollisionExit=function(e,t){this.colliderExitCb&&this.colliderExitCb(e,t)},r([c],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],ColliderGround:[function(e,t,o){"use strict";cc._RF.push(t,"addec/A/HVEDbijn4GbN/Wg","ColliderGround");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../config/GroupConfig"),c=e("../../base/utils/ArrayUtil"),s=cc._decorator,l=s.ccclass,u=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.groundConfig=[a.GroupConfig.BERRIE,a.GroupConfig.ROCK],t.arrayGround=[],t.callback=null,t.isGround=!1,t}return i(t,e),t.prototype.setGroundColliderCallback=function(e){this.callback=e},t.prototype.onCollisionEnter=function(e){if(-1!==this.groundConfig.indexOf(e.node.group)&&-1==this.arrayGround.indexOf(e.node))return this.arrayGround.push(e.node),this.isGround?void 0:(this.isGround=!0,void(this.callback&&this.callback(!0)))},t.prototype.onCollisionExit=function(e){-1!==this.groundConfig.indexOf(e.node.group)&&(c.default.removeElement(this.arrayGround,e.node),0===this.arrayGround.length&&(this.callback&&this.callback(!1),this.isGround=!1))},r([l],t)}(cc.Component));o.default=u,cc._RF.pop()},{"../../base/utils/ArrayUtil":"ArrayUtil","../../config/GroupConfig":"GroupConfig"}],ColliderSearch:[function(e,t,o){"use strict";cc._RF.push(t,"fbc57yBL25Jzpq6ppx2EzJN","ColliderSearch");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../base/ColliderCallback"),c=e("../../config/GroupConfig"),s=e("../../base/utils/ArrayUtil"),l=cc._decorator,u=l.ccclass,p=l.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.signalCollider=null,t.listIgnore=[],t.isDebug=!1,t.rootPosition=null,t.searchCallback=null,t.listColliderEnter=[],t}return i(t,e),t.prototype.onLoad=function(){var e=this.signalCollider.node;e.getComponent(cc.Sprite).enabled=this.isDebug,this.rootPosition=e.position,this.signalCollider.setColliderCallback(this.onSignalCollider.bind(this)),this.listIgnore.push(e)},t.prototype.onDisable=function(){cc.Tween.stopAllByTarget(this.signalCollider.node)},t.prototype.addToIgnore=function(e){-1===this.listIgnore.indexOf(e)&&(cc.log("addToIgnore: "+e.name),this.listIgnore.push(e))},t.prototype.checkSearchTarget=function(e){return e.node.group==c.GroupConfig.CHARACTER&&-1==this.listIgnore.indexOf(e.node)},t.prototype.setColliderCallback=function(e){this.searchCallback=e},t.prototype.onCollisionEnter=function(e){this.checkSearchTarget(e)&&(-1==this.listColliderEnter.indexOf(e)&&this.listColliderEnter.push(e),cc.Tween.stopAllByTarget(this.signalCollider.node),this.pingToTarget(e))},t.prototype.onCollisionExit=function(e){this.checkSearchTarget(e)&&s.default.removeElement(this.listColliderEnter,e),this.refreshPingToTarget()},t.prototype.pingToTarget=function(e,t){var o=this;void 0===t&&(t=!0);var n=this.signalCollider.node;n.position=this.rootPosition;var i=n.getParent().convertToNodeSpaceAR(e.node.getParent().convertToWorldSpaceAR(e.node.position));i.y+=e.offset.y-e.size.height/2+20,i.x+=e.offset.x-e.size.width/2+20,cc.tween(n).to(.1,{position:i}).delay(.5).call(function(){t&&o.pingToTarget(e)}).start()},t.prototype.refreshPingToTarget=function(){this.listColliderEnter.length>0&&this.pingToTarget(this.listColliderEnter[0],!1)},t.prototype.onSignalCollider=function(e){if(-1==this.listIgnore.indexOf(e.node)){var t=this.signalCollider.node;t.position=this.rootPosition,cc.Tween.stopAllByTarget(t),this.searchCallback&&this.searchCallback(e)}},r([p(a.default)],t.prototype,"signalCollider",void 0),r([p([cc.Node])],t.prototype,"listIgnore",void 0),r([p(cc.Boolean)],t.prototype,"isDebug",void 0),r([u],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../base/utils/ArrayUtil":"ArrayUtil","../../config/GroupConfig":"GroupConfig"}],Demon:[function(e,t,o){"use strict";cc._RF.push(t,"115d2T2+exIPbUvPo0QVNGT","Demon");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./Enemies"),c=e("../../../config/AudioPlayId"),s=e("../../../MainScene"),l=cc._decorator,u=l.ccclass,p=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.playAttack=function(t){e.prototype.playAttack.call(this,t),s.default.instance.audioPlayer.playAudio(c.AudioPlayId.demon_punch)},t.prototype.onDieIce=function(){e.prototype.onDieIce.call(this),s.default.instance.audioPlayer.playAudio(c.AudioPlayId.stealer_die)},t.prototype.onDieNormal=function(){e.prototype.onDieNormal.call(this),s.default.instance.audioPlayer.playAudio(c.AudioPlayId.stealer_die)},t.prototype.onDieFire=function(){e.prototype.onDieFire.call(this),s.default.instance.audioPlayer.playAudio(c.AudioPlayId.stealer_die)},r([u],t)}(a.default));o.default=p,cc._RF.pop()},{"../../../MainScene":"MainScene","../../../config/AudioPlayId":"AudioPlayId","./Enemies":"Enemies"}],DirtyWaterGO:[function(e,t,o){"use strict";cc._RF.push(t,"ce058VNU1RH/4IS7cJHikcB","DirtyWaterGO");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../config/GroupConfig"),c=e("../../config/TagObject"),s=e("../../config/AudioPlayId"),l=e("../../level/MapLevel"),u=e("../../MainScene"),p=e("../../config/PhysicsConfig"),f=cc._decorator,d=f.ccclass,h=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.border=null,t.drop=null,t.rb=null,t.available=!0,t.canDrop=!1,t}var o;return i(t,e),o=t,t.prototype.onLoad=function(){var e=this;p.PhysicsConfig.initPhysicConfig(this.node,"gems"),this.rb=this.getComponent(cc.RigidBody),setTimeout(function(){e.canDrop=!0},1e3)},t.prototype.start=function(){this.border.active=!0,this.drop.active=!0,o.isTransform=!1,o.colliderBarrieCount=0,this.getComponent(cc.Sprite)},t.prototype.onDisable=function(){this.unscheduleAllCallbacks()},t.prototype.transformToRock=function(e){var t=l.default.instance.rockContainer,n=cc.instantiate(e);n.position=t.convertToNodeSpaceAR(this.node.getParent().convertToWorldSpaceAR(this.node.position)),n.parent=t,this.node.removeFromParent(),!o.isTransform&&l.default.instance.isPlaying&&(u.default.instance.audioPlayer.playAudio(s.AudioPlayId.effect_lava_x_water),o.isTransform=!0)},t.prototype.onCollisionEnter=function(e){this.available&&(e.node.group===a.GroupConfig.BERRIE&&u.default.instance.audioPlayer.playAudio(s.AudioPlayId.stealer_die),e.node.group===a.GroupConfig.SNOW&&(this.node.active=!1),e.node.name==c.TagConfig.FIRE_BALL&&(this.node.group=a.GroupConfig.WATER3D,this.node.parent=l.default.instance.parentNode,this.getComponent(cc.PhysicsCollider).apply()))},t.prototype.update=function(){},t.isTransform=!1,t.colliderBarrieCount=0,r([h(cc.Node)],t.prototype,"border",void 0),r([h(cc.Node)],t.prototype,"drop",void 0),o=r([d],t)}(cc.Component);o.default=y,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel"}],Dog:[function(e,t,o){"use strict";cc._RF.push(t,"3f19e8Qk9JDqLr7LacnS5JF","Dog");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./Enemies"),c=e("../../../config/GroupConfig"),s=e("../../../config/TagObject"),l=e("../../../config/AudioPlayId"),u=e("../../../MainScene"),p=cc._decorator,f=p.ccclass,d=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.eatAnim="Eat",t.isEating=!1,t}return i(t,e),t.prototype.onAttackCollider=function(t,o){this.isEating||(e.prototype.onAttackCollider.call(this,t,o),t.node.group===c.GroupConfig.ITEM&&t.node.name==s.TagConfig.MEAT&&(this.isEating=!0,this.stopMove(),this.rotateFaceToTarget(t.node),this.skeleton.setCompleteListener(null),this.playAnimation(this.eatAnim,!0),t.node.removeFromParent()))},t.prototype.onSearchCollider=function(t){this.isEating||e.prototype.onSearchCollider.call(this,t)},t.prototype.playAttack=function(t){e.prototype.playAttack.call(this,t),u.default.instance.audioPlayer.playAudio(l.AudioPlayId.dog_bite)},t.prototype.onDieIce=function(){e.prototype.onDieIce.call(this),u.default.instance.audioPlayer.playAudio(l.AudioPlayId.dog_die)},t.prototype.onDieNormal=function(){e.prototype.onDieNormal.call(this),u.default.instance.audioPlayer.playAudio(l.AudioPlayId.dog_die)},t.prototype.onDieFire=function(){e.prototype.onDieFire.call(this),u.default.instance.audioPlayer.playAudio(l.AudioPlayId.dog_die)},r([d(cc.String)],t.prototype,"eatAnim",void 0),r([f],t)}(a.default);o.default=h,cc._RF.pop()},{"../../../MainScene":"MainScene","../../../config/AudioPlayId":"AudioPlayId","../../../config/GroupConfig":"GroupConfig","../../../config/TagObject":"TagObject","./Enemies":"Enemies"}],Dragon:[function(e,t,o){"use strict";cc._RF.push(t,"7388cKfYv1BAYkY1DMqH1dv","Dragon");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../Character"),c=e("../../../config/GroupConfig"),s=e("../../../level/MapLevel"),l=e("../../../config/AudioPlayId"),u=e("../../../MainScene"),p=e("../../../config/TagObject"),f=e("../../more/FireBall"),d=cc._decorator,h=d.ccclass,y=d.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fireBallPrefab=null,t.isAttack=!1,t}return i(t,e),t.prototype.start=function(){this.hit.active=!0},t.prototype.onHeadCollider=function(e){this.isAlive&&(e.node.group!==c.GroupConfig.ROCK&&(e.node.group!==c.GroupConfig.ITEM||e.node.name!=p.TagConfig.CHEST)||this.onDieNormal())},t.prototype.onBodyCollider=function(e){this.isAlive&&(this.checkIgnoreFluid(e.node.group)||(e.node.group!==c.GroupConfig.SNOW?e.node.group!==c.GroupConfig.COLLIDER||e.node.name!=p.TagConfig.GAS&&e.node.name!=p.TagConfig.BOMB||this.onDieNormal():this.onDieIce()))},t.prototype.onSearchCollider=function(e){this.isAlive&&(cc.log("Dragon onSearchCollider: "+e.node.name),s.default.instance.isPlaying&&(e.node.group!==c.GroupConfig.CHARACTER||this.playAttack(e)))},t.prototype.playAttack=function(){var e=this;if(!this.isAttack){this.isAttack=!0,this.playAnimation(this.attackAnim),u.default.instance.audioPlayer.playAudio(l.AudioPlayId.dragon_fire);var t=cc.instantiate(this.fireBallPrefab);this.hit.addChild(t);var o=800/f.default.velocityHit,n=cc.jumpBy(o,cc.v2(800,-400),800/7,1);t.runAction(cc.sequence(n,cc.callFunc(function(){t.active&&(t.active=!1,t.removeFromParent())}))),this.scheduleOnce(function(){e.isAlive&&e.playAnimation(e.idleAnim,!0)},.5),this.scheduleOnce(function(){e.isAlive&&(e.isAttack=!1,e.searchCollider.refreshPingToTarget())},1)}},t.prototype.onDieNormal=function(){this.stun.node.active=!0,this.playAnimation(this.dieAnim),this.isAlive=!1,u.default.instance.audioPlayer.playAudio(l.AudioPlayId.dragon_die)},t.prototype.onDieIce=function(){this.stun.node.active=!0,this.playAnimation(this.dieIceAnim),this.isAlive=!1,u.default.instance.audioPlayer.playAudio(l.AudioPlayId.dragon_die)},r([y(cc.Prefab)],t.prototype,"fireBallPrefab",void 0),r([h],t)}(a.default);o.default=g,cc._RF.pop()},{"../../../MainScene":"MainScene","../../../config/AudioPlayId":"AudioPlayId","../../../config/GroupConfig":"GroupConfig","../../../config/TagObject":"TagObject","../../../level/MapLevel":"MapLevel","../../more/FireBall":"FireBall","../Character":"Character"}],Enemies:[function(e,t,o){"use strict";cc._RF.push(t,"c0d19Q53chFxZ8/bnKcdE1A","Enemies");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../Character"),c=e("../../../config/GroupConfig"),s=e("../../../config/TagObject"),l=e("../../../level/MapLevel"),u=cc._decorator,p=u.ccclass,f=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isSuper=!1,t.isAttack=!1,t.superAppearAnim="Appear1",t}return i(t,e),t.prototype.start=function(){this.hit.active=!1},t.prototype.playAttack=function(e){var t=this;this.isAttack||(this.isAttack=!0,this.rotateFaceToTarget(e),this.playAnimation(this.attackAnim),this.stopMove(),this.scheduleOnce(function(){t.hit.active=!0},.2),this.skeleton.setCompleteListener(function(){t.isAlive&&(t.skeleton.setCompleteListener(null),t.playAnimation(t.idleAnim,!0),t.hit.active=!1,t.isAttack=!1,t.stopMove(),t.searchCollider.refreshPingToTarget())}))},t.prototype.onHeadCollider=function(e){if(this.isAlive)return e.node.group===c.GroupConfig.ROCK?(this.onDieNormal(),void this.disablePhysicsBody()):void(e.node.group!==c.GroupConfig.ITEM||e.node.name!=s.TagConfig.CHEST&&e.node.name!=s.TagConfig.ITEM&&e.node.name!=s.TagConfig.STICK||this.onDieNormal())},t.prototype.onBodyCollider=function(e){if(this.isAlive&&!this.checkIgnoreFluid(e.node.group))if(e.node.group!==c.GroupConfig.LAVA)if(e.node.group!==c.GroupConfig.SNOW){if(e.node.group===c.GroupConfig.COLLIDER){if(e.node.name==s.TagConfig.HIT){var t=e.node.getComponent(s.default).tag2;return cc.log(this.node.name+" onBodyCollider: "+e.node.group+" tag2 = "+t),void(this.tagHit==s.TagConfig.DOG?t!=s.TagConfig.DOG&&this.onDieNormal():t!=s.TagConfig.FIRE_BALL&&t!=s.TagConfig.BOSS&&t!=s.TagConfig.STICK&&t!=s.TagConfig.ITEM&&t!=s.TagConfig.TRAP&&t!=s.TagConfig.ROCK&&t!=s.TagConfig.BIG_ROCK&&t!=s.TagConfig.BULLET&&t!=s.TagConfig.POW&&t!=s.TagConfig.SAW&&t!=s.TagConfig.LAZE||this.onDieNormal())}if(e.node.name==s.TagConfig.GAS||e.node.name==s.TagConfig.BOMB)return void this.onDieNormal()}}else this.onDieIce();else this.onDieFire()},t.prototype.onAttackCollider=function(e){if(this.isAlive){if(cc.log(this.node.name+" onAttackCollider: "+e.node.name),e.node.group===c.GroupConfig.CHARACTER&&e.node!=this.groundCollider.node)return e.node.name==s.TagConfig.BOSS||e.node.name==s.TagConfig.GIRL||e.node.name==s.TagConfig.DOG?void this.playAttack(e.node):(this.stopMove(),void this.playAnimation(this.idleAnim,!0));if(e.node.group===c.GroupConfig.ITEM&&e.node.name==s.TagConfig.HOLY_WATER){try{e.node.removeComponent(cc.PhysicsCollider),e.node.removeComponent(cc.BoxCollider),e.node.removeFromParent()}catch(t){cc.warn(t)}return this.stopMove(),void this.changeSkinToSuper()}}},t.prototype.changeSkinToSuper=function(){this.isSuper=!0,this.idleAnim+="2",this.attackAnim+="2",this.walkAnim+="2",this.runAnim+="2",this.hit.removeFromParent(),this.node.addChild(this.hit);var e=this.attackCollider.getComponent(cc.BoxCollider),t=this.hit.getComponent(cc.BoxCollider);this.hit.position=this.attackCollider.node.position,this.hit.angle=this.attackCollider.node.angle,t.offset=e.offset,t.size=e.size,this.playAnimation(this.superAppearAnim).addAnimation(this.idleAnim,!0)},t.prototype.onSearchCollider=function(e){this.isAlive&&l.default.instance.isPlaying&&!this.isAttack&&(e.node.group!==c.GroupConfig.CHARACTER||e.node==this.groundCollider.node||(e.node.name==s.TagConfig.BOSS||e.node.name==s.TagConfig.GIRL||e.node.name==s.TagConfig.GIRL_WONDER||e.node.name==s.TagConfig.DOG?this.walkToTarget(e.node):this.addToIgnoreSearchCollier(e.node)))},t.prototype.onAutoMove=function(){this.isAlive&&this.walkToTarget(null)},t.prototype.onDieFire=function(){this.stun.node.active=!0,this.playAnimation(this.dieFireAnim),this.isAlive=!1},t.prototype.onDieNormal=function(){this.stun.node.active=!0,this.playAnimation(this.dieAnim),this.isAlive=!1},t.prototype.onDieIce=function(){this.stun.node.active=!0,this.playAnimation(this.dieIceAnim),this.isAlive=!1},r([p],t)}(a.default));o.default=f,cc._RF.pop()},{"../../../config/GroupConfig":"GroupConfig","../../../config/TagObject":"TagObject","../../../level/MapLevel":"MapLevel","../Character":"Character"}],FeatureSkinConfig:[function(e,t,o){"use strict";cc._RF.push(t,"bc158fvtABA75BUJTcghBx6","FeatureSkinConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.FeatureSkinConfig=o.ItemFeatureConfig=void 0;var n=function(e,t,o){void 0===o&&(o=""),this.skinId=e,this.skins=t,this.pathDir=o};o.ItemFeatureConfig=n;var i=function(){function e(){}return e.getSkinConfigById=function(t){for(var o=e.arrayFeatureBoss,n=0;n<o.length;n++)if(o[n].skinId===t)return o[n];return null},e.arrayFeatureBoss=[new n("feature_1","Angel","spines/FeatureSkins/ExportPet"),new n("feature_2","Bat","spines/FeatureSkins/ExportPet"),new n("feature_3","Demon","spines/FeatureSkins/ExportPet"),new n("feature_4","Eagle","spines/FeatureSkins/ExportPet"),new n("feature_5","Egg","spines/FeatureSkins/ExportPet"),new n("feature_6","Egg","spines/FeatureSkins/ExportPet"),new n("feature_7","FootBall","spines/FeatureSkins/ExportPet"),new n("feature_8","FootBall","spines/FeatureSkins/ExportPet"),new n("feature_9","Halloween","spines/FeatureSkins/ExportPet"),new n("feature_10","Lunar","spines/FeatureSkins/ExportPet"),new n("feature_11","Noel","spines/FeatureSkins/ExportPet"),new n("feature_12","Patrick","spines/FeatureSkins/ExportPet"),new n("feature_13","Vlt","spines/FeatureSkins/ExportPet")],e}();o.FeatureSkinConfig=i,cc._RF.pop()},{}],FireBall:[function(e,t,o){"use strict";cc._RF.push(t,"3b75aNqdaNIOIPzvHQpdNPY","FireBall");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../config/GroupConfig"),c=e("../../MainScene"),s=e("../../config/AudioPlayId"),l=cc._decorator,u=l.ccclass,p=l.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bumPrefab=null,t}return i(t,e),t.prototype.onCollisionEnter=function(e){var t=this;if(e.node.group===a.GroupConfig.BERRIE)return this.showBumEffect(),this.node.active=!1,this.node.stopAllActions(),void this.node.removeFromParent();e.node.group===a.GroupConfig.CHARACTER&&(this.showBumEffect(),this.scheduleOnce(function(){t.node.opacity=0,t.node.stopAllActions(),cc.Tween.stopAllByTarget(t.node)},.05),this.scheduleOnce(function(){t.node.active=!1,t.node.removeFromParent()},.2))},t.prototype.showBumEffect=function(){var e=cc.instantiate(this.bumPrefab);e.setPosition(this.node.getPosition()),e.scale=.66,this.node.getParent().addChild(e),c.default.instance.audioPlayer.playAudio(s.AudioPlayId.dragon_fire_ball),cc.tween(e).delay(.8).call(function(){e.removeFromParent()}).start()},t.velocityHit=500,r([p(cc.Prefab)],t.prototype,"bumPrefab",void 0),r([u],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","../../config/GroupConfig":"GroupConfig"}],FrameByFrame:[function(e,t,o){"use strict";cc._RF.push(t,"37b91uSOkFFCrubu+v1hcc9","FrameByFrame");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sprite=null,t.arrayFrames=[],t.dt=.12,t.reverse=!1,t.autoPlay=!0,t.loop=!1,t.time=0,t.anim=null,t.repeatCb=null,t.animDefault="default",t}return i(t,e),t.prototype.onLoad=function(){if(this.sprite||(this.sprite=this.node.getComponent(cc.Sprite),this.sprite)){var e=this.arrayFrames.length,t=Math.round(1/this.dt);this.time=e/t,this.reverse&&this.arrayFrames.reverse();var o=cc.AnimationClip.createWithSpriteFrames(this.arrayFrames,t);this.anim=this.sprite.node.addComponent(cc.Animation),this.anim.addClip(o,this.animDefault)}else cc.error("SpriteFrameBF: Please add Sprite Component")},t.prototype.onEnable=function(){this.autoPlay&&this.play()},t.prototype.onDisable=function(){this.stop()},t.prototype.play=function(e,t){var o=this;void 0===e&&(e=this.loop),void 0===t&&(t=1),this.anim&&(this.anim.stop(),this.anim.play(this.animDefault,0),t--,(e||t>0)&&(this.repeatCb=function(){o.play(e,t)},this.scheduleOnce(this.repeatCb,this.time)))},t.prototype.stop=function(){this.anim&&(this.anim.stop(),this.unschedule(this.repeatCb))},r([s(cc.Sprite)],t.prototype,"sprite",void 0),r([s([cc.SpriteFrame])],t.prototype,"arrayFrames",void 0),r([s(cc.Float)],t.prototype,"dt",void 0),r([s(cc.Boolean)],t.prototype,"reverse",void 0),r([s(cc.Boolean)],t.prototype,"autoPlay",void 0),r([s(cc.Boolean)],t.prototype,"loop",void 0),r([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],GUIUtil:[function(e,t,o){"use strict";cc._RF.push(t,"96d7dsVwBhBvojHmMxxWpVf","GUIUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../ResUtil"),i=function(){function e(){}return e.addClickListener=function(e,t,o,n,i){void 0===i&&(i="");var r=new cc.Component.EventHandler;r.target=t,r.component=o,r.handler=n,r.customEventData=i,e.getComponent(cc.Button).clickEvents.push(r)},e.addToggleListener=function(e,t,o,n,i){void 0===i&&(i="");var r=new cc.Component.EventHandler;r.target=t,r.component=o,r.handler=n,r.customEventData=i,e.getComponent(cc.Toggle).clickEvents.push(r)},e.addPetForCharacter=function(e,t){n.ResUtil.loadRes("prefabs/pets/Pet",cc.Prefab,function(o,n){if(!o){var i=cc.instantiate(n);e.addChild(i),i.position=t}})},e.getDistancePoints=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},e.getImgBase64=function(){var e=new cc.Node;e.x=cc.visibleRect.width/2,e.y=cc.visibleRect.height/2,e.parent=cc.director.getScene();var t=e.addComponent(cc.Camera);t.backgroundColor=cc.Color.TRANSPARENT,t.clearFlags=cc.Camera.ClearFlags.DEPTH|cc.Camera.ClearFlags.STENCIL|cc.Camera.ClearFlags.COLOR,t.cullingMask=4294967295;var o=new cc.RenderTexture,n=cc.game._renderContext;o.initWithSize(cc.visibleRect.width,cc.visibleRect.height,n.STENCIL_INDEX8),t.targetTexture=o,t.render();var i=o.readPixels(),r=document.createElement("canvas"),a=r.getContext("2d"),c=r.width=o.width,s=r.height=o.height;r.width=o.width,r.height=o.height;for(var l=4*c,u=0;u<s;u++){for(var p=s-1-u,f=a.createImageData(c,1),d=p*c*4,h=0;h<l;h++)f.data[h]=i[d+h];a.putImageData(f,0,u)}return r.toDataURL("image/jpeg")},e}();o.default=i,cc._RF.pop()},{"../../ResUtil":"ResUtil"}],GameConfig:[function(e,t,o){"use strict";cc._RF.push(t,"ea29aooc1FGnJ0IG5Bu1aAz","GameConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameConfig=void 0;var n=function(){function e(){}return e.boss_skin_default="boss_0",e.wife_skin_default="wife_0",e.coin_default=0,e.coin_level_up=100,e.coin_level_bonus=500,e}();o.GameConfig=n,cc._RF.pop()},{}],GameData:[function(e,t,o){"use strict";cc._RF.push(t,"25501QmpYxCcZCkmxSR9tuZ","GameData"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameData=void 0;var n=e("./base/LocalStorageManager"),i=e("./config/GlobalSignals"),r=e("./config/RoomConfig"),a=e("./config/GameConfig"),c=e("./config/LevelConfig"),s=e("./UserPlayFab"),l=function(){function e(){}return e.initPlayerData=function(t){cc.log("initPlayerData");var o=n.LocalStorageManager.getItem(e.KEY_DATA);if(o){cc.log("init Data from Local");var i=JSON.parse(o);return this.setPlayerData(i),n.LocalStorageManager.removeItem(e.KEY_DATA),void(t&&t())}},e.setPlayerData=function(t){this.currentLevelId=this.getValue(t,e.KEY_LEVEL,0),this.currentRoomId=this.getValue(t,e.KEY_ROOM,0),this.arrayItem=this.getValue(t,e.KEY_ITEMS,[]),this.playerCoin=this.getValue(t,e.KEY_COIN,0),this.currentSkinBoss=this.getValue(t,e.KEY_BOSS_CURRENT_SKIN,a.GameConfig.boss_skin_default),this.myBossSkins=this.getValue(t,e.KEY_BOSS_SKINS,[]),this.myWifeSkins=this.getValue(t,e.KEY_WIFE_SKINS,[]),this.kingdoms=null,this.currentSkinWife=this.getValue(t,e.KEY_WIFE_CURRENT_SKIN,a.GameConfig.wife_skin_default),this.currentLevelReal=this.getValue(t,e.KEY_LEVEL_REAL,this.currentLevelId);var o=this.getValue(t,e.KEY_LEVEL_SIZE,100);this.currentLevelReal>o&&(this.currentLevelReal=o),o<c.LevelConfig.levels.length&&({}[e.KEY_LEVEL_SIZE]=c.LevelConfig.realLevelSize)},e.saveKingdomItem=function(e,t,o,n){void 0===n&&(n=null),this.kingdoms[e]||(this.kingdoms[e]={}),this.kingdoms[e][t]=o},e.saveLevelUp=function(){this.currentLevelId++,this.currentLevelReal++,""!=s.default.DisplayName&&""!=s.default.UserCountryCode&&s.default.setLeaderborad(this.currentLevelId,s.StatisticNameConfig.BEST_LEVEL,function(){});var t={};t[e.KEY_LEVEL]=this.currentLevelId,t[e.KEY_LEVEL_REAL]=this.currentLevelReal},e.saveCoin=function(t){this.playerCoin=t,i.GlobalSignals.coinUpdateSignal.dispatch(),{}[e.KEY_COIN]=t},e.addCoin=function(e){this.saveCoin(this.playerCoin+e)},e.addRoomItem=function(t,o){if(-1==this.arrayItem.indexOf(t)){this.arrayItem.push(t),this.currentRoomId=o,this.arrayItem.length===r.RoomConfig.rooms[o].size&&(this.currentRoomId=o+1,this.arrayItem=[],cc.log("unlock roomId = "+this.currentRoomId));var n={};n[e.KEY_ITEMS]=this.arrayItem,n[e.KEY_ROOM]=this.currentRoomId}else cc.log("ArrayItems already contains this id")},e.setSkinBoss=function(t){this.currentSkinBoss!==t&&(this.currentSkinBoss=t,{}[e.KEY_BOSS_CURRENT_SKIN]=this.currentSkinBoss)},e.setSkinWife=function(t){this.currentSkinWife!==t&&(this.currentSkinWife=t,{}[e.KEY_WIFE_CURRENT_SKIN]=this.currentSkinWife)},e.addSkinBoss=function(t){-1==this.myBossSkins.indexOf(t)?(this.myBossSkins.push(t),{}[e.KEY_BOSS_SKINS]=this.myBossSkins):cc.log("myBossSkins already contains this skinId")},e.addSkinWife=function(t){-1==this.myWifeSkins.indexOf(t)?(this.myWifeSkins.push(t),{}[e.KEY_WIFE_SKINS]=this.myWifeSkins):cc.log("myBossSkins already contains this skinId")},e.clearData=function(){var t={};t[e.KEY_LEVEL]=0,t[e.KEY_ROOM]=0,t[e.KEY_ITEMS]=[],t[e.KEY_COIN]=0,n.LocalStorageManager.removeItem(e.KEY_DATA)},e.checkItemCollected=function(t){var o=t.itemConfig;return o.roomId-1<e.currentRoomId||o.roomId-1===e.currentRoomId&&-1!=e.arrayItem.indexOf(o.itemId)},Object.defineProperty(e,"isCreatShortcut",{get:function(){var t=n.LocalStorageManager.getItem(e.KEY_SHORTCUT);return!!t&&"true"===t},set:function(t){n.LocalStorageManager.setItem(e.KEY_SHORTCUT,t?"true":"false")},enumerable:!1,configurable:!0}),e.getValue=function(e,t,o){return""===e[t]||null===e[t]||void 0===e[t]?o:e[t]},e.KEY_DATA="hp_data",e.KEY_SHORTCUT="hp_shortcut",e.KEY_LEVEL="hp_level",e.KEY_LEVEL_REAL="hp_level_real",e.KEY_LEVEL_SIZE="hp_level_size",e.KEY_ROOM="hp_room",e.KEY_ITEMS="hp_items",e.KEY_COIN="hp_coin",e.KEY_BOSS_CURRENT_SKIN="hp_boss_current_skin",e.KEY_BOSS_SKINS="hp_boss_skins",e.KEY_WIFE_CURRENT_SKIN="hp_wife_current_skin",e.KEY_WIFE_SKINS="hp_wife_skins",e.KEY_KINGDOM_SPRING="hp_kingdom_spring",e.KEY_PETS_DATA="pet_data",e.KEY_EGGS_DATA="egg_data",e.KEY_CURRENT_PET="current_pet",e.currentLevelReal=26,e.currentLevelId=26,e.currentRoomId=0,e.myBossSkins=["boss_52","boss_23","boss_24","boss_25"],e.myWifeSkins=[],e.currentSkinBoss=a.GameConfig.boss_skin_default,e.currentSkinWife=a.GameConfig.wife_skin_default,e.arrayItem=[],e.playerCoin=1e3,e.kingdoms={},e.CURRENT_VERSION_CODE=2,e.DELTA_TIME=1/60,e}();o.GameData=l,cc._RF.pop()},{"./UserPlayFab":"UserPlayFab","./base/LocalStorageManager":"LocalStorageManager","./config/GameConfig":"GameConfig","./config/GlobalSignals":"GlobalSignals","./config/LevelConfig":"LevelConfig","./config/RoomConfig":"RoomConfig"}],GameState:[function(e,t,o){"use strict";cc._RF.push(t,"dacfbcWrcNM+o3V07171I9u","GameState"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameState=void 0,function(e){e[e.BEGIN=0]="BEGIN",e[e.PLAYING=1]="PLAYING",e[e.WIN=2]="WIN",e[e.LOSE=3]="LOSE"}(o.GameState||(o.GameState={})),cc._RF.pop()},{}],GasGO:[function(e,t,o){"use strict";cc._RF.push(t,"588442xVPdBnYyvqUV0nR/N","GasGO");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.body=null,t.force=6e3,t.timeFly=0,t}return i(t,e),t.prototype.start=function(){this.timeFly=2*Math.random()},t.prototype.update=function(e){if(this.timeFly-=e,this.timeFly<=0){var t=this.force*(2*Math.random()-1),o=this.force*(2*Math.random()-1);this.body.applyForceToCenter(cc.v2(t,o),!0),this.timeFly=1}},r([s(cc.RigidBody)],t.prototype,"body",void 0),r([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],GemsGO:[function(e,t,o){"use strict";cc._RF.push(t,"49758X5lA1HN6r8+iXJWmeX","GemsGO");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc.Vec3,c=e("../../level/MapLevel"),s=e("../../config/AudioPlayId"),l=e("../../config/GroupConfig"),u=e("../../MainScene"),p=e("../../config/PhysicsConfig"),f=e("../../config/TagObject"),d=cc._decorator,h=d.ccclass,y=(d.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.target=null,t.available=!0,t.rb=null,t.canDrop=!1,t}var o;return i(t,e),o=t,t.prototype.onLoad=function(){var e=this;p.PhysicsConfig.initPhysicConfig(this.node,"gems"),this.rb=this.getComponent(cc.RigidBody),setTimeout(function(){e.canDrop=!0},1e3)},t.prototype.start=function(){o.transformCount=0,o.colliderBarrieCount=0},t.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},t.prototype.onCollisionEnter=function(e){if(this.available)return e.node.group===l.GroupConfig.LAVA?(this.available=!1,c.default.instance.countGemsDestroyed++,this.startTransform(),void this.node.removeFromParent()):e.node.group===l.GroupConfig.BERRIE||e.node.name==f.TagConfig.CHEST?(o.colliderBarrieCount++,u.default.instance.audioPlayer.playAudio(s.AudioPlayId.effect_lava_appear),void(6===o.colliderBarrieCount&&this.scheduleOnce(function(){o.colliderBarrieCount=0},2))):void 0},t.prototype.startTransform=function(){o.transformCount++,8===o.transformCount&&c.default.instance.isPlaying&&u.default.instance.audioPlayer.playAudio(s.AudioPlayId.effect_lava_x_water)},t.prototype.updatePositionToTarget=function(){if(this.node.getParent()){var e=this.node.getParent().convertToNodeSpaceAR(this.target.getParent().convertToWorldSpaceAR(this.target.position)),t=new a(e.x,e.y+20,0),o=this.node.position;Math.abs(o.x-t.x)<10&&Math.abs(o.y-t.y)<10?this.node.removeFromParent():this.node.position=o.lerp(t,.1)}},t.prototype.moveToTarget=function(e,t){var o=this;this.scheduleOnce(function(){c.default.instance.isCollectGems&&(o.target=e,o.node.removeComponent(cc.RigidBody),o.node.removeComponent(cc.PhysicsCollider),o.schedule(o.updatePositionToTarget.bind(o)))},t)},t.prototype.update=function(){this.canDrop&&(this.rb.linearVelocity.y<-250||this.rb.linearVelocity.y>250)&&(this.rb.linearVelocity=cc.v2(this.rb.linearVelocity.x,1.02*this.rb.linearVelocity.y))},t.transformCount=0,t.colliderBarrieCount=0,o=r([h],t)}(cc.Component));o.default=y,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel"}],GemsPool:[function(e,t,o){"use strict";cc._RF.push(t,"420batOFCJMka+Gx/ETcTXT","GemsPool");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../config/GlobalSignals"),c=e("./GemsGO"),s=e("../character/Boss/Boss"),l=cc._decorator,u=l.ccclass,p=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onEnable=function(){this._collectByBoss=this.collectByBoss.bind(this),a.GlobalSignals.collectGemsSignal.add(this._collectByBoss)},t.prototype.onDisable=function(){a.GlobalSignals.collectGemsSignal.remove(this._collectByBoss)},t.prototype.collectByBoss=function(){cc.log("collectByBoss");var e=s.default.instance.node;this.node.children.forEach(function(t,o){t.getComponent(c.default).moveToTarget(e,.25+.02*o)})},r([u],t)}(cc.Component));o.default=p,cc._RF.pop()},{"../../config/GlobalSignals":"GlobalSignals","../character/Boss/Boss":"Boss","./GemsGO":"GemsGO"}],Girl:[function(e,t,o){"use strict";cc._RF.push(t,"9c8d7UPKxhHT5I6+bJ4H9t8","Girl");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../Character"),c=e("../../../config/GroupConfig"),s=e("../../../config/GlobalSignals"),l=e("../../../config/TagObject"),u=e("../../../config/AudioPlayId"),p=e("../../../MainScene"),f=e("../../../config/SkinConfig"),d=e("../../../GameData"),h=cc._decorator,y=h.ccclass,g=h.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.outAnim="Out",t.winAnim="Poison",t.flowerAnim="Flower",t.lose="Intro2",t.wonderSkin="Wonder",t.wonderAppearAnim="WonderAppear",t.wonderIdleAnim="WonderIdle",t.wonderAttackAnim="WonderAttack",t.wonderOutAnim="WonderOut",t.wonderWinAnim="WonderWin",t.fail=!1,t}return i(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.hit&&(this.hit.active=!1),this.node.zIndex=100},t.prototype.initGirlSkin=function(){var e=f.SkinConfig.getSkinGirlConfigById(d.GameData.currentSkinWife);this.changeSkin(e.skins[0]),f.SkinConfig.getSkinGirlConfigById(d.GameData.currentSkinWife)},t.prototype.onEnable=function(){this._onQuestPass=this.onQuestPass.bind(this),this._onQuestFail=this.onQuestFail.bind(this),this._onQuestFail2=this.fail2.bind(this),s.GlobalSignals.girlGiveEggSignal.add(this._onQuestFail2),p.default.instance.audioPlayer.playAudio(u.AudioPlayId.girl_help),s.GlobalSignals.questPassSignal.add(this._onQuestPass),s.GlobalSignals.questFailSignal.add(this._onQuestFail)},t.prototype.onDisable=function(){s.GlobalSignals.questPassSignal.remove(this._onQuestPass),s.GlobalSignals.questFailSignal.remove(this._onQuestFail)},t.prototype.fail2=function(){this.fail=!0},t.prototype.onQuestPass=function(){this.playAnimation("Win3",!0),p.default.instance.audioPlayer.playAudio(u.AudioPlayId.shoot)},t.prototype.onQuestFail=function(){this.playAnimation("Burned"),p.default.instance.audioPlayer.playAudio(u.AudioPlayId.dragon_die)},t.prototype.onAttackCollider=function(t,o){if(e.prototype.onAttackCollider.call(this,t,o),t.node.group===c.GroupConfig.ITEM&&t.node.name==l.TagConfig.HOLY_WATER){try{t.node.removeComponent(cc.PhysicsCollider),t.node.removeComponent(cc.BoxCollider),t.node.removeFromParent()}catch(n){cc.warn(n)}return this.stopMove(),void this.changeSkinToWonder()}if(t.node.group===c.GroupConfig.CHARACTER)return this.getCurrentSkin()===this.wonderSkin&&t.node.name!=l.TagConfig.BOSS?void this.playAttack(t.node):void 0},t.prototype.playOutAnimation=function(e){this.rotateFaceToTarget(e),this.getCurrentSkin()===this.wonderSkin?this.playAnimation(this.wonderOutAnim).addAnimation(this.wonderWinAnim,!0):this.playAnimation(this.winAnim)},t.prototype.playAnimationGiveEgg=function(e,t,o){this.rotateFaceToTarget(e);var n=this.flowerAnim,i=n;t&&(n=t.skins,i=this.getNameAnimGive2(n),s.GlobalSignals.girlGiveEggSignal.dispatch(t.eggId)),this.playAnimation(this.winAnim).addAnimation(n).addAnimation(i,!0);var r=this.skeleton.findAnimation(this.outAnim).duration;this.scheduleOnce(function(){o()},r)},t.prototype.changeSkinToWonder=function(){this.changeSkin(this.wonderSkin),this.playAnimation(this.wonderAppearAnim).addAnimation(this.wonderIdleAnim,!0);var e=this.skeleton.findAnimation(this.wonderAppearAnim).duration;cc.tween(this.skeleton.node).by(e,{position:new cc.Vec3(0,20,0)}).start(),this.attackCollider.node.getComponent(cc.BoxCollider).size.width+=40,p.default.instance.audioPlayer.playAudio(u.AudioPlayId.boss_take_stick);var t=this.groundCollider.node.getComponent(l.default);t&&(t.setTag(l.TagConfig.GIRL_WONDER),cc.log("changeSkinToWonder"))},t.prototype.playAttack=function(e){var t=this;this.hit&&(cc.log("wonder playAttack"),this.rotateFaceToTarget(e),this.playAnimation(this.wonderAttackAnim),this.stopMove(),this.scheduleOnce(function(){t.hit.active=!0},.35),this.skeleton.setCompleteListener(function(){t.skeleton.setCompleteListener(null),t.playAnimation(t.wonderIdleAnim,!0),t.hit.active=!1,t.stopMove()}))},t.prototype.onHeadCollider=function(e){this.isAlive&&this.getCurrentSkin()!==this.wonderSkin&&(e.node.group!==c.GroupConfig.ROCK?e.node.group!==c.GroupConfig.ITEM||e.node.name!=l.TagConfig.CHEST&&e.node.name!=l.TagConfig.ITEM||this.onDieNormal():e.node.name==l.TagConfig.BIG_ROCK&&(this.onDieNormal(),this.disablePhysicsBody()))},t.prototype.onBodyCollider=function(e){if(this.isAlive&&this.getCurrentSkin()!==this.wonderSkin)if(e.node.group!==c.GroupConfig.LAVA)if(e.node.group!==c.GroupConfig.SNOW){if(e.node.group===c.GroupConfig.COLLIDER){if(e.node.name==l.TagConfig.REDIRECT_RIGHT||e.node.name==l.TagConfig.REDIRECT_LEFT)return void e.node.removeFromParent();if(e.node.name==l.TagConfig.GAS||e.node.name==l.TagConfig.BOMB)return void this.onDieNormal();if(e.node.name==l.TagConfig.HIT)return void this.onDieNormal()}}else this.onDieIce();else this.onDieFire()},t.prototype.onDieNormal=function(){this.stun.node.active=!0,this.playAnimation(this.lose,!0),this.isAlive=!1,s.GlobalSignals.questFailSignal.dispatch(),p.default.instance.audioPlayer.playAudio(u.AudioPlayId.girl_die)},t.prototype.onDieFire=function(){this.stun.node.active=!0,this.playAnimation(this.dieFireAnim),this.isAlive=!1,s.GlobalSignals.questFailSignal.dispatch(),p.default.instance.audioPlayer.playAudio(u.AudioPlayId.girl_die)},t.prototype.onDieIce=function(){this.stun.node.active=!0,this.playAnimation(this.dieIceAnim),this.isAlive=!1,s.GlobalSignals.questFailSignal.dispatch(),p.default.instance.audioPlayer.playAudio(u.AudioPlayId.girl_die)},t.prototype.getNameAnimGive2=function(e){var t=e.split(/(\d+)/),o=t[0],n=t[1];return o+n+n},r([g(cc.String)],t.prototype,"winAnim",void 0),r([y],t)}(a.default);o.default=_,cc._RF.pop()},{"../../../GameData":"GameData","../../../MainScene":"MainScene","../../../config/AudioPlayId":"AudioPlayId","../../../config/GlobalSignals":"GlobalSignals","../../../config/GroupConfig":"GroupConfig","../../../config/SkinConfig":"SkinConfig","../../../config/TagObject":"TagObject","../Character":"Character"}],GlobalSignals:[function(e,t,o){"use strict";cc._RF.push(t,"d7e33gGPwZO5rCuV5Ept4/A","GlobalSignals"),Object.defineProperty(o,"__esModule",{value:!0}),o.GlobalSignals=void 0;var n=e("../base/Signal"),i=function(){function e(){}return e.coinUpdateSignal=new n.Signal,e.collectGemsSignal=new n.Signal,e.autoMoveSignal=new n.Signal,e.startQuest=new n.Signal,e.questFailSignal=new n.Signal,e.questPassSignal=new n.Signal,e.castleUpgradeSignal=new n.Signal,e.changeSkinBossSignal=new n.Signal,e.changeSkinPetSignal=new n.Signal,e.girlGiveEggSignal=new n.Signal,e.bossAttackSignal=new n.Signal,e.bossWalkToTargetSignal=new n.Signal,e.checkWin=new n.Signal,e}();o.GlobalSignals=i,cc._RF.pop()},{"../base/Signal":"Signal"}],GroupConfig:[function(e,t,o){"use strict";cc._RF.push(t,"fa95d9uKKlENZRSJSsK4VfL","GroupConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.GroupConfig=void 0;var n=function(){function e(){}return e.DEFAULT="default",e.LAVA="lava",e.BERRIE="berrie",e.GEMS="gems",e.TOUCH="touch",e.CHARACTER="character",e.WATER="water",e.SNOW="snow",e.ROCK="rock",e.ITEM="item",e.COLLIDER="collider",e.GAS="gas",e.DEAD="dead",e.WATER3D="water3d",e.DIRTY="dirty",e}();o.GroupConfig=n,cc._RF.pop()},{}],ICharacterCollider:[function(e,t,o){"use strict";cc._RF.push(t,"155836eOTtDl5t03fvj3xTX","ICharacterCollider"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],IconQuest:[function(e,t,o){"use strict";cc._RF.push(t,"2a68fO1KYZNaruNiQMRMCHc","IconQuest");var n=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.IconQuest=void 0;var i=e("../config/QuestType"),r=cc._decorator,a=r.ccclass,c=r.property,s=function(){function e(){this.questType=i.QuestType.COLLECT_GEMS,this.icon=null}return n([c({type:cc.Enum(i.QuestType)})],e.prototype,"questType",void 0),n([c(cc.SpriteFrame)],e.prototype,"icon",void 0),n([a("IconQuest")],e)}();o.IconQuest=s,cc._RF.pop()},{"../config/QuestType":"QuestType"}],IntroWIn:[function(e,t,o){"use strict";cc._RF.push(t,"bb669co7odCSqLielm/pY2E","IntroWIn");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodes=[],t.hand=null,t.light=null,t.bg=null,t.Endcard=null,t}return i(t,e),t.prototype.onLoad=function(){this.Endcard.on("finished",this.EndcardFinish,this)},t.prototype.start=function(){},t.prototype.test=function(){var e=this;this.moveToCl(this.nodes[2]),this.bg.zIndex=1,setTimeout(function(){e.moveToCl(e.nodes[1])},1200)},t.prototype.moveToCl=function(e){var t=this;this.unMoveAll();var o=e.position,n=cc.moveTo(.5,o.x,o.y),i=cc.callFunc(function(){e.setScale(.85,.85,.85),e.stopAllActions(),t.light.stopAllActions(),t.light.position=o,t.light.setScale(.85,.85,.85),e.zIndex=100,t.light.zIndex=100,t.light.runAction(cc.scaleTo(1,1,1)),e.runAction(cc.scaleTo(1,1,1)),e.children[2].active=!1,e.children[0].active=!0}),r=cc.sequence(n,i);this.hand.runAction(r)},t.prototype.unMoveAll=function(){for(var e=0;e<this.nodes.length;e++){var t=cc.scaleTo(.5,.85,.85);this.nodes[e].runAction(t),this.nodes[e].children[2].active=!0,this.nodes[e].children[0].active=!1,this.nodes[e].zIndex=0}this.light.runAction(cc.scaleTo(.5,.85,.85))},t.prototype.EndcardFinish=function(){this.Endcard.play("hand")},r([s([cc.Node])],t.prototype,"nodes",void 0),r([s(cc.Node)],t.prototype,"hand",void 0),r([s(cc.Node)],t.prototype,"light",void 0),r([s(cc.Node)],t.prototype,"bg",void 0),r([s(cc.Animation)],t.prototype,"Endcard",void 0),r([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],ItemChest:[function(e,t,o){"use strict";cc._RF.push(t,"681e1NSsvhH4pIVVIjWga3a","ItemChest");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../config/GroupConfig"),c=e("../../config/GlobalSignals"),s=e("../../base/ColliderCallback"),l=e("../../config/PhysicsConfig"),u=cc._decorator,p=u.ccclass,f=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeleton=null,t.dieAnim="Fire",t.openAnim="Animation",t.gemsPrefab=null,t.firePrefab2=null,t.collider=null,t.isAlive=!0,t}return i(t,e),t.prototype.onLoad=function(){l.PhysicsConfig.initPhysicConfig(this.node,"chest")},t.prototype.start=function(){this.collider.setColliderCallback(this.onCollisionEnter.bind(this))},t.prototype.onCollisionEnter=function(e){if(this.isAlive)return e.node.group===a.GroupConfig.LAVA?(this.isAlive=!1,this.skeleton.setAnimation(0,this.dieAnim,!1),this.showFireEffect(),void c.GlobalSignals.questFailSignal.dispatch()):void 0},t.prototype.openItem=function(){var e=this;this.playAnimation(this.openAnim,!1);var t=this.skeleton.findAnimation(this.openAnim).duration;this.node.getComponent(cc.BoxCollider).enabled=!1,this.scheduleOnce(function(){var t=cc.instantiate(e.gemsPrefab);t.position=cc.Vec3.ZERO,e.node.addChild(t)},t)},t.prototype.playAnimation=function(e,t){return void 0===t&&(t=!1),this.skeleton.setAnimation(0,e,t),this},t.prototype.addAnimation=function(e,t,o){return void 0===t&&(t=!1),void 0===o&&(o=0),this.skeleton.addAnimation(0,e,t,o),this},t.prototype.showFireEffect=function(){if(this.firePrefab2){var e=cc.instantiate(this.firePrefab2);e.setPosition(0,0),e.scale=1,this.node.addChild(e),cc.tween(e).delay(2).call(function(){e.removeFromParent()}).start()}else cc.warn("firePrefab is null")},r([f(sp.Skeleton)],t.prototype,"skeleton",void 0),r([f(cc.String)],t.prototype,"dieAnim",void 0),r([f(cc.String)],t.prototype,"openAnim",void 0),r([f(cc.Prefab)],t.prototype,"gemsPrefab",void 0),r([f(cc.Prefab)],t.prototype,"firePrefab2",void 0),r([f(s.default)],t.prototype,"collider",void 0),r([p],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig"}],ItemLoot:[function(e,t,o){"use strict";cc._RF.push(t,"1fd7e2dGtBKjYNZzFe+WWuR","ItemLoot");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ItemConfig=void 0;var a=e("../../config/GroupConfig"),c=e("../../config/GlobalSignals"),s=e("../../base/ColliderCallback"),l=e("../../config/PhysicsConfig"),u=cc._decorator,p=u.ccclass,f=u.property,d=function(){function e(){this.skin="",this.roomId=1,this.itemId=1}return r([f(cc.Integer)],e.prototype,"roomId",void 0),r([f(cc.Integer)],e.prototype,"itemId",void 0),r([p("ItemConfig")],e)}();o.ItemConfig=d;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeleton=null,t.dieAnim="Die",t.openAnim="animation",t.collider=null,t.itemConfig=null,t.chestPrefab=null,t.flashPrefab=null,t.firePrefab=null,t.isAlive=!0,t}return i(t,e),t.prototype.onLoad=function(){l.PhysicsConfig.initPhysicConfig(this.node,"item")},t.prototype.start=function(){this.itemConfig.skin=this.skeleton.defaultSkin,this.collider.setColliderCallback(this.onCollisionEnter.bind(this))},t.prototype.onCollisionEnter=function(e){if(this.isAlive)return e.node.group===a.GroupConfig.LAVA?(this.isAlive=!1,this.skeleton.setAnimation(0,this.dieAnim,!1),this.showFireEffect(),void c.GlobalSignals.questFailSignal.dispatch()):void 0},t.prototype.openItem=function(){var e=this;this.playAnimation(this.openAnim,!1),this.node.getComponent(cc.BoxCollider).enabled=!1,this.scheduleOnce(function(){e.showFlashEffect()},.2)},t.prototype.playAnimation=function(e,t){return void 0===t&&(t=!1),this.skeleton.setAnimation(0,e,t),this},t.prototype.addAnimation=function(e,t,o){return void 0===t&&(t=!1),void 0===o&&(o=0),this.skeleton.addAnimation(0,e,t,o),this},t.prototype.showFireEffect=function(){if(this.firePrefab){var e=cc.instantiate(this.firePrefab);e.setPosition(0,0),e.scale=1,this.node.addChild(e),cc.tween(e).delay(2).call(function(){e.removeFromParent()}).start()}else cc.warn("firePrefab is null")},t.prototype.showFlashEffect=function(){if(this.flashPrefab){var e=cc.instantiate(this.flashPrefab);e.setPosition(0,70),this.node.addChild(e)}else cc.warn("flashPrefab is null")},r([f(sp.Skeleton)],t.prototype,"skeleton",void 0),r([f(cc.String)],t.prototype,"dieAnim",void 0),r([f(cc.String)],t.prototype,"openAnim",void 0),r([f(s.default)],t.prototype,"collider",void 0),r([f(d)],t.prototype,"itemConfig",void 0),r([f(cc.Prefab)],t.prototype,"chestPrefab",void 0),r([f(cc.Prefab)],t.prototype,"flashPrefab",void 0),r([f(cc.Prefab)],t.prototype,"firePrefab",void 0),r([p],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../config/GlobalSignals":"GlobalSignals","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig"}],LavaGO:[function(e,t,o){"use strict";cc._RF.push(t,"6e16a5QKp9Ak4alKXaGXEJE","LavaGO");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../config/GroupConfig"),c=e("../../MainScene"),s=e("../../config/AudioPlayId"),l=e("../../level/MapLevel"),u=e("../../config/PhysicsConfig"),p=cc._decorator,f=p.ccclass,d=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.border=null,t.drop=null,t.rockPrefab=null,t.available=!0,t}var o;return i(t,e),o=t,t.prototype.onLoad=function(){u.PhysicsConfig.initPhysicConfig(this.node,"lava")},t.prototype.start=function(){this.border.active=!0,this.drop.active=!0,o.colliderBarrieCount=0;var e=this.getComponent(cc.Sprite);e&&(e.enabled=!1)},t.prototype.transformToRock=function(){var e=l.default.instance.rockContainer,t=cc.instantiate(this.rockPrefab);t.position=e.convertToNodeSpaceAR(this.node.getParent().convertToWorldSpaceAR(this.node.position)),t.parent=e,this.node.removeFromParent()},t.prototype.onCollisionEnter=function(e){if(this.available)return e.node.group===a.GroupConfig.WATER||e.node.group==a.GroupConfig.DIRTY?(this.available=!1,void this.transformToRock()):e.node.group===a.GroupConfig.BERRIE?(o.colliderBarrieCount++,void(6===o.colliderBarrieCount&&(c.default.instance.audioPlayer.playAudio(s.AudioPlayId.effect_lava_appear),this.scheduleOnce(function(){o.colliderBarrieCount=0},2)))):void 0},t.colliderBarrieCount=0,r([d(cc.Node)],t.prototype,"border",void 0),r([d(cc.Node)],t.prototype,"drop",void 0),r([d(cc.Prefab)],t.prototype,"rockPrefab",void 0),o=r([f],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../level/MapLevel":"MapLevel"}],LevelConfig:[function(e,t,o){"use strict";cc._RF.push(t,"2052avx87lG+Zk86UhkNUHw","LevelConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.LevelConfig=void 0;var n=function(){function e(){}return e.levels=["Level-1","Level-2","Level-3","Level-4","Level-5","Level-6","Level-7","Level-8","Level-9","Level-10","Level-11","Level-12","Level-13","Level-14","Level-15","Level-16","Level-17","Level-18","Level-19","Level-20","Level-21","Level-22","Level-23","Level-24","Level-25","Level-26","Level-27","Level-28","Level-29","Level-30","Level-31","Level-32","Level-33","Level-34","Level-35","Level-36","Level-37","Level-38","Level-39","Level-40","Level-41","Level-42","Level-43","Level-44","Level-45","Level-46","Level-47","Level-48","Level-49","Level-50","Level-51","Level-52","Level-53","Level-54","Level-55","Level-56","Level-57","Level-58","Level-59","Level-60","Level-61","Level-62","Level-63","Level-64","Level-65","Level-66","Level-67","Level-68","Level-69","Level-70","Level-71","Level-72","Level-73","Level-74","Level-75","Level-76","Level-77","Level-78","Level-79","Level-80","Level-81","Level-82","Level-83","Level-84","Level-85","Level-86","Level-87","Level-88","Level-89","Level-90","Level-91","Level-92","Level-93","Level-94","Level-95","Level-96","Level-97","Level-98","Level-99","Level-100","Level-101","Level-102","Level-103","Level-104","Level-105","Level-106","Level-107","Level-108","Level-109","Level-110","Level-111","Level-112","Level-113","Level-114","Level-115","Level-116","Level-117","Level-118","Level-119","Level-120"],e.realLevelSize=e.levels.length,e}();o.LevelConfig=n,cc._RF.pop()},{}],Loading:[function(e,t,o){"use strict";cc._RF.push(t,"4ddc4u2lIpMcIhU8nQrvONl","Loading"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./base/Task"),i=e("./GameData"),r=e("./ResUtil"),a=e("./UserPlayFab");window.Loading={preloadScene:function(e,t){var o=new n.TaskManager;o.addTask(new n.Task(function(){var e=this;i.GameData.initPlayerData(function(){e.completed()})})),o.addTask(new n.Task(function(){var e=this;r.ResUtil.loadRoomById(i.GameData.currentRoomId,function(){e.completed()})})),o.addTask(new n.Task(function(){a.default.SetUp(),a.default.LoginWithFacebookInstantGamesId(),this.completed()})),o.addTask(new n.Task(function(){var e=this,t=window.remoteConfig;t.fetchAndActivate().then(function(){var o=t.getValue("enable_ads");o&&console.log("Fetch remote config: enable_ads = "+JSON.stringify(o)),e.completed()}).catch(function(t){console.warn("Fetch remote config: "+t),e.completed()})})),o.run(e,t)},preloadAds:function(){},onQuitGame:function(){}},cc._RF.pop()},{"./GameData":"GameData","./ResUtil":"ResUtil","./UserPlayFab":"UserPlayFab","./base/Task":"Task"}],LocalStorageManager:[function(e,t,o){"use strict";cc._RF.push(t,"4dd86HTCsxBTbnZZjQJS4gi","LocalStorageManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.LocalStorageManager=void 0;var n=function(){function e(){}return e.setItem=function(e,t){cc.sys.localStorage.setItem(e,t)},e.getItem=function(e){return cc.sys.localStorage.getItem(e)||null},e.removeItem=function(e){cc.sys.localStorage.removeItem(e)},e}();o.LocalStorageManager=n,cc._RF.pop()},{}],MMFollowTarget:[function(e,t,o){"use strict";cc._RF.push(t,"2b317ZQYhRI7ok1fNnPWu7w","MMFollowTarget");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(e){function t(){var t=e.call(this)||this;return t.followTarget=null,t.isFollowRotation=!0,t.offset=new cc.Vec3,t.moveSpeed=3,t.isPlayingStart=!1,t}return i(t,e),t.prototype.start=function(){},t.prototype.showStart=function(){},t.prototype.lateUpdate=function(){if(this.followTarget){this.node.position,this.node.scaleX=this.followTarget.scaleX;var e=this.offset;this.isFollowRotation,console.log(this.followTarget.position);var t=new cc.Vec3(this.followTarget.x+e.x*this.followTarget.scaleX,this.followTarget.position.y+e.y*this.followTarget.scaleY,this.followTarget.position.z+e.z);if(this.node.setPosition(t),this.node.lookAt(this.followTarget.position,new cc.Vec3(0,1,0)),this.isFollowRotation){var o=new cc.Vec3(this.node.eulerAngles);o.y=this.followTarget.eulerAngles.y,this.node.eulerAngles=o}}},r([s(cc.Node)],t.prototype,"followTarget",void 0),r([s],t.prototype,"isFollowRotation",void 0),r([s],t.prototype,"offset",void 0),r([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],MainScene:[function(e,t,o){"use strict";cc._RF.push(t,"e7bbbEKKihNqagxA1NBLeup","MainScene");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./base/audio/AudioPlayer"),c=e("./config/AudioPlayId"),s=e("./PrefabManager"),l=e("./PrefabType"),u=e("./GameData"),p=e("./ResUtil"),f=e("./ScreenManager"),d=e("./base/Task"),h=e("./BackgroundLoader"),y=cc._decorator,g=y.ccclass,_=y.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.audioPlayer=null,t.screenManager=null,t.nodePopups=null,t.loading=null,t.testPrefab=null,t.testStartLevel=0,t.settingPopup=null,t.selectRoomPopup=null,t.selectKingdomPopup=null,t.buildKingdomPopup=null,t.skinPopup=null,t.arrayPopup=[],t}var o;return i(t,e),o=t,Object.defineProperty(t,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){o._instance=this,window.gameStart=function(){},window.gameClose=function(){},window.gameReady&&window.gameReady(),this.testStartLevel>=1&&(u.GameData.currentLevelId=this.testStartLevel-1)},t.prototype.onEnable=function(){this.testPrefab?this.screenManager.showScreenById(f.ScreenId.PLAY_SCREEN,null,!0):this.screenManager.showScreenById(f.ScreenId.HOME_SCREEN,null,!0)},t.prototype.initStartGame=function(){var e=this;h.BackgroundLoader.addTask(new d.Task(function(){var t=this;e.loadLevelCallback=null,p.ResUtil.loadLevelById(u.GameData.currentLevelReal,function(o){t.completed(),e.loadLevelCallback&&e.loadLevelCallback(o)})})),h.BackgroundLoader.addTask(new d.Task(function(){var t=this;e.loadRoomSelectCallback=null,s.default.instance.loadPrefabByType(l.PrefabType.SELECT_ROOM,function(o){t.completed(),e.loadRoomSelectCallback&&e.loadRoomSelectCallback(o)})})),h.BackgroundLoader.addTask(new d.Task(function(){})),h.BackgroundLoader.addTask(new d.Task(function(){})),h.BackgroundLoader.addTask(new d.Task(function(){var t=this;e.loadSkinPopupCallback=null,s.default.instance.loadPrefabByType(l.PrefabType.SKIN_POPUP,function(o){t.completed(),e.loadSkinPopupCallback&&e.loadSkinPopupCallback(o)})})),h.BackgroundLoader.addTask(new d.Task(function(){var t=this;e.loadRankPopupCallback=null,s.default.instance.loadPrefabByType(l.PrefabType.RANK_POPUP,function(o){t.completed(),e.loadRankPopupCallback&&e.loadRankPopupCallback(o)})}))},t.prototype.playAudioClick=function(){this.audioPlayer.playAudio(c.AudioPlayId.button_click)},t.prototype.showHomeScreen=function(e){void 0===e&&(e=null),this.screenManager.showScreenById(f.ScreenId.HOME_SCREEN,e)},t.prototype.showGamePlayScreen=function(e){void 0===e&&(e=null),this.screenManager.showScreenById(f.ScreenId.PLAY_SCREEN,e)},t.prototype.showCastleScreen=function(e){void 0===e&&(e=null),this.screenManager.showScreenById(f.ScreenId.CASTLE_SCREEN,e)},t.prototype.showSettingPopup=function(){var e=this;this.settingPopup?this.settingPopup.active=!0:this.createPopupByType(l.PrefabType.SETTING,function(t){e.settingPopup=t,e.settingPopup.active=!0})},t.prototype.showSelectRoomPopup=function(){var e=this;if(this.selectRoomPopup)this.selectRoomPopup.active=!0;else{var t=function(){e.showLoading(),e.createPopupByType(l.PrefabType.SELECT_ROOM,function(t){e.selectRoomPopup=t,e.selectRoomPopup.active=!0,e.hideLoading()})};void 0===this.loadRoomSelectCallback?this.loadRoomSelectCallback=t:t()}},t.prototype.showSelectKingdomPopup=function(){var e=this;if(this.selectKingdomPopup)this.selectKingdomPopup.active=!0;else{var t=function(){e.showLoading(),e.createPopupByType(l.PrefabType.SELECT_KINGDOM,function(t){e.selectKingdomPopup=t,e.selectKingdomPopup.active=!0,e.hideLoading()})};void 0===this.loadKingdomSelectCallback?this.loadKingdomSelectCallback=t:t()}},t.prototype.showBuildKingdomPopup=function(){var e=this;if(this.buildKingdomPopup)this.buildKingdomPopup.active=!0;else{var t=function(){e.showLoading(),e.createPopupByType(l.PrefabType.BUILD_KINGDOM,function(t){e.buildKingdomPopup=t,e.buildKingdomPopup.active=!0,e.hideLoading()})};void 0===this.loadKingdomBuilderCallback?this.loadKingdomBuilderCallback=t:t()}},t.prototype.showSkinPopup=function(){var e=this;if(this.skinPopup)this.skinPopup.active=!0;else{var t=function(){e.showLoading(),e.createPopupByType(l.PrefabType.SKIN_POPUP,function(t){e.skinPopup=t,e.skinPopup.active=!0,e.hideLoading()})};void 0===this.loadSkinPopupCallback?this.loadSkinPopupCallback=t:t()}},t.prototype.createPopupByType=function(e,t,o){var n=this;void 0===o&&(o=null),null===o&&(o=e),s.default.instance.loadPrefabByType(e,function(e){var i=cc.instantiate(e);n.nodePopups.addChild(i,o),n.arrayPopup.push(i),t(i)})},t.prototype.showLoading=function(){this.loading&&(this.loading.active=!0)},t.prototype.hideLoading=function(){this.loading&&(this.loading.active=!1)},t._instance=null,r([_(a.default)],t.prototype,"audioPlayer",void 0),r([_(f.default)],t.prototype,"screenManager",void 0),r([_(cc.Node)],t.prototype,"nodePopups",void 0),r([_(cc.Node)],t.prototype,"loading",void 0),r([_(cc.Prefab)],t.prototype,"testPrefab",void 0),r([_(cc.Integer)],t.prototype,"testStartLevel",void 0),o=r([g],t)}(cc.Component);o.default=v,cc._RF.pop()},{"./BackgroundLoader":"BackgroundLoader","./GameData":"GameData","./PrefabManager":"PrefabManager","./PrefabType":"PrefabType","./ResUtil":"ResUtil","./ScreenManager":"ScreenManager","./base/Task":"Task","./base/audio/AudioPlayer":"AudioPlayer","./config/AudioPlayId":"AudioPlayId"}],MapLevel:[function(e,t,o){"use strict";cc._RF.push(t,"93a86QtMkBNjpRK2sTnJOCG","MapLevel");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../config/QuestType"),c=e("../config/GameState"),s=e("../config/GlobalSignals"),l=e("../objects/barrier/StickHold"),u=e("../objects/character/Character"),p=e("../base/TouchManager"),f=e("../objects/more/ItemLoot"),d=e("../base/utils/ArrayUtil"),h=e("../GameData"),y=e("../PlayScreen"),g=cc._decorator,_=g.ccclass,v=g.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.questType=a.QuestType.COLLECT_GEMS,t.gameState=c.GameState.BEGIN,t.arrStickToActive=[],t.arrEnemies=[],t.itemLoot=null,t.tipLabel=null,t.parentNode=null,t.isCollectGems=!1,t._countGemsDestroyed=0,t._countGemsCollected=0,t._rockContainer=null,t}var o;return i(t,e),o=t,Object.defineProperty(t.prototype,"isPlaying",{get:function(){return this.gameState===c.GameState.PLAYING},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isQuestCollectGems",{get:function(){return this.questType===a.QuestType.COLLECT_GEMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isQuestCollectItem",{get:function(){return this.questType===a.QuestType.COLLECT_ITEM},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isQuestSaveHostage",{get:function(){return this.questType===a.QuestType.SAVE_HOSTAGE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isQuestKillEnemies",{get:function(){return this.questType===a.QuestType.KILL_ENEMY},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isQuestOpenChest",{get:function(){return this.questType===a.QuestType.OPEN_CHEST},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"countGemsDestroyed",{get:function(){return this._countGemsDestroyed},set:function(e){this._countGemsDestroyed=e,15!==this._countGemsDestroyed||this.isCollectGems||s.GlobalSignals.questFailSignal.dispatch()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"countGemsCollected",{get:function(){return this._countGemsCollected},set:function(e){this._countGemsCollected=e,5===this._countGemsCollected&&this.isQuestCollectGems&&this.isPlaying&&(this.isCollectGems=!0,s.GlobalSignals.collectGemsSignal.dispatch())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rockContainer",{get:function(){return this._rockContainer||(this._rockContainer=new cc.Node,this.node.addChild(this._rockContainer)),this._rockContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){o._instance=this},t.prototype.onDestroy=function(){o._instance=null,this.unscheduleAllCallbacks()},t.prototype.start=function(){var e=this;this.scheduleOnce(function(){e.gameState=c.GameState.PLAYING},.6);var t=this.onActiveStick.bind(this);if(this.arrStickToActive.forEach(function(e){e.setHoldCallback(t)}),this.isQuestKillEnemies){var o=this.onEnemiesDead.bind(this);this.arrEnemies.forEach(function(e){var t=e.getComponent(u.default);t&&t.setDeadCallback(o)})}this.isQuestCollectItem&&this.itemLoot&&h.GameData.checkItemCollected(this.itemLoot)&&this.replaceItemByChest(),p.default.instance&&p.default.instance.reset()},t.prototype.onEnable=function(){this._questFailSignal=this.onQuestFail.bind(this),this._questPassSignal=this.onQuestPass.bind(this),s.GlobalSignals.questFailSignal.add(this._questFailSignal),s.GlobalSignals.questPassSignal.add(this._questPassSignal)},t.prototype.onDisable=function(){this.interval1&&clearInterval(this.interval1),this.interval2&&clearInterval(this.interval2),s.GlobalSignals.questFailSignal.remove(this._questFailSignal),s.GlobalSignals.questPassSignal.remove(this._questPassSignal)},t.prototype.onQuestFail=function(){this.gameState=c.GameState.LOSE},t.prototype.onQuestPass=function(){this.gameState=c.GameState.WIN},t.prototype.onActiveStick=function(e){var t=this;0!==this.arrStickToActive.length&&(d.default.removeElement(this.arrStickToActive,e),0===this.arrStickToActive.length&&this.scheduleOnce(function(){t.isPlaying&&s.GlobalSignals.checkWin.dispatch()},.25))},t.prototype.onEnemiesDead=function(e){var t=this;0!==this.arrEnemies.length&&(d.default.removeElement(this.arrEnemies,e),0===this.arrEnemies.length&&this.isQuestKillEnemies&&this.scheduleOnce(function(){t.isPlaying},.6))},t.prototype.replaceItemByChest=function(){cc.log("replaceItemByChest");var e=cc.instantiate(this.itemLoot.chestPrefab);this.node.addChild(e),e.position=this.itemLoot.node.position,e.setSiblingIndex(this.itemLoot.node.getSiblingIndex()),this.tipLabel&&(this.tipLabel.node.active=!1),this.itemLoot.node.removeFromParent(),this.questType=a.QuestType.OPEN_CHEST,y.default.instance.updateLevelInfo(h.GameData.currentLevelId,this.questType)},t.prototype.openLink=function(){mraid.open("https://play.google.com/store/apps/details?id=com.gamee.brainly.homepin3.pullpin.puzzle")},t._instance=null,r([v({type:cc.Enum(a.QuestType)})],t.prototype,"questType",void 0),r([v([l.default])],t.prototype,"arrStickToActive",void 0),r([v([cc.Node])],t.prototype,"arrEnemies",void 0),r([v(f.default)],t.prototype,"itemLoot",void 0),r([v(cc.Label)],t.prototype,"tipLabel",void 0),r([v(cc.Node)],t.prototype,"parentNode",void 0),o=r([_],t)}(cc.Component);o.default=b,cc._RF.pop()},{"../GameData":"GameData","../PlayScreen":"PlayScreen","../base/TouchManager":"TouchManager","../base/utils/ArrayUtil":"ArrayUtil","../config/GameState":"GameState","../config/GlobalSignals":"GlobalSignals","../config/QuestType":"QuestType","../objects/barrier/StickHold":"StickHold","../objects/character/Character":"Character","../objects/more/ItemLoot":"ItemLoot"}],MathUtil:[function(e,t,o){"use strict";cc._RF.push(t,"b05f8iW0xpDR7/QZeh1WLv8","MathUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.randomBeetWeenFloor=function(e,t){return Math.floor(this.randomBeetWeen(e,t))},e.randomBeetWeenFloor1=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},e.randomBeetWeen=function(e,t){return Math.random()*(t-e)+e},e.getEuclidDistance=function(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))},e.randomInt=function(e){return Math.floor(Math.random()*e)},e.getRandomFrom=function(e){return e[this.randomInt(e.length)]},e.getRandomSurround=function(e,t){var o=this.getRandomFrom([-1,1])*Math.floor(Math.random()*t)+e.x,n=this.getRandomFrom([-1,1])*Math.floor(Math.random()*t)+e.y;return new cc.Vec2(o,n)},e.getTimeRest=function(e,t){return Math.floor((t.getTime()-e.getTime())/1e3)},e.getTimeToString=function(e){if(e<0)return"00:00:00";var t=Math.floor(e/3600%24)+"",o=Math.floor(e/60%60)+"",n=Math.floor(e%60)+"";return t.length<2&&(t="0"+t),o.length<2&&(o="0"+o),n.length<2&&(n="0"+n),t+":"+o+":"+n},e}();o.default=n,cc._RF.pop()},{}],MoveCtrl:[function(e,t,o){"use strict";cc._RF.push(t,"e8b3bJpT95DF5LXqOlQdvTC","MoveCtrl");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc.Vec2,c=e("../../base/PhysicalEnable"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Velocity_X=120,t.Jump=30,t.enableOverTerrain=!0,t.Rigid_Body=null,t.Direction=0,t}return i(t,e),t.prototype.onLoad=function(){this.Rigid_Body=this.node.getComponent(cc.RigidBody)},t.prototype.start=function(){this.Walk_Force=1e3*this.Rigid_Body.getMass(),this.Jump_Force=1e3*this.Rigid_Body.getMass()*this.Jump},t.prototype.moveLeft=function(){this.Direction=-1},t.prototype.moveRight=function(){this.Direction=1},t.prototype.moveJump=function(){this.Rigid_Body.applyForceToCenter(cc.v2(0,this.Jump_Force),!0)},t.prototype.stopMove=function(){this.Direction=0,this.Rigid_Body.linearVelocity=a.ZERO},t.prototype.update=function(){if((this.Direction>0&&this.Rigid_Body.linearVelocity.x<this.Velocity_X||this.Direction<0&&this.Rigid_Body.linearVelocity.x>-this.Velocity_X)&&this.Rigid_Body.applyForceToCenter(cc.v2(this.Direction*this.Walk_Force*c.default.REAL_GRAVITY_SCALE,0),!0),this.enableOverTerrain&&(this.Direction>0&&this.Rigid_Body.linearVelocity.x<10||this.Direction<0&&this.Rigid_Body.linearVelocity.x>-10)){var e=this.Rigid_Body.linearVelocity.y<30?5:-10;this.Rigid_Body.applyForceToCenter(cc.v2(0,e*this.Walk_Force*c.default.REAL_GRAVITY_SCALE),!0)}},r([u(cc.Float)],t.prototype,"Velocity_X",void 0),r([u(cc.Float)],t.prototype,"Jump",void 0),r([u(cc.Boolean)],t.prototype,"enableOverTerrain",void 0),r([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../base/PhysicalEnable":"PhysicalEnable"}],MyAudioPlayer:[function(e,t){"use strict";cc._RF.push(t,"a7628SEG81DQrwsRPOprRnj","MyAudioPlayer");var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=n?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(o,r,a):o[r]=e[r]}return o.default=e,t&&t.set(e,o),o}(e("./AudioPlayer")),n=e("../../config/AudioPlayId");function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}cc.Class({extends:o.default,properties:{arrayAudioObj:{type:[o.AudioObject],default:function(){var e=[];for(var t in n.AudioPlayId){var i=new o.AudioObject;i.name=n.AudioPlayId[t+""],i.isMusic=!1,i.audioClip=null,e.push(i)}return e},override:!0}}}),cc._RF.pop()},{"../../config/AudioPlayId":"AudioPlayId","./AudioPlayer":"AudioPlayer"}],NewScript:[function(e,t,o){"use strict";cc._RF.push(t,"6baa6VCspNIA5DXT5UbOm3o","NewScript");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../config/GlobalSignals"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t}return i(t,e),t.prototype.onEnable=function(){a.GlobalSignals.castleUpgradeSignal.add(this.onMouseDown.bind(this))},t.prototype.start=function(){},t.prototype.onMouseDown=function(){this.node.active=!1},r([l(cc.Label)],t.prototype,"label",void 0),r([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../../config/GlobalSignals":"GlobalSignals"}],NodeFixSize:[function(e,t,o){"use strict";cc._RF.push(t,"ac315ALtiZAaIv7DzDPnY3h","NodeFixSize");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fixWidth=!1,t.fixHeight=!1,t.auto=!1,t}return i(t,e),t.prototype.onEnable=function(){if(this.fixWidth||this.fixHeight||this.auto){var e=cc.winSize;if(this.auto&&(this.node.width/this.node.height<e.width/e.height?(this.fixHeight=!1,this.fixWidth=!0):(this.fixHeight=!0,this.fixWidth=!1)),this.fixWidth&&this.fixHeight)return this.node.width=e.width,void(this.node.height=e.height);var t=this.fixWidth?e.width/this.node.width:e.height/this.node.height;this.node.width*=t,this.node.height*=t}},r([s(cc.Boolean)],t.prototype,"fixWidth",void 0),r([s(cc.Boolean)],t.prototype,"fixHeight",void 0),r([s(cc.Boolean)],t.prototype,"auto",void 0),r([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],NumberUpdater:[function(e,t,o){"use strict";cc._RF.push(t,"5f57bf0wUVL5oDhX1pS612S","NumberUpdater");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.step=.01,t._formatFunc=null,t._currentNumber=0,t._dstNumber=0,t}return i(t,e),Object.defineProperty(t.prototype,"currentNumber",{get:function(){return this._currentNumber},set:function(e){this._currentNumber=e,this.updateLabel()},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.label||(this.label=this.getComponent(cc.Label))},t.prototype.setFormatFunc=function(e){this._formatFunc=e},t.prototype.updateNumber=function(e,t,o){this.currentNumber=this._dstNumber,this.setNumber(e,t,o)},t.prototype.setNumber=function(e,t,o){var n=this;if(this._dstNumber=e,t){if(this.unscheduleAllCallbacks(),this.currentNumber===e)return;o&&(this.step=o);var i=this.step,r=Math.floor(t/this.step);this.currentNumber>e&&(this.currentNumber=0);var a=Math.ceil((e-this.currentNumber)/r);a<=0&&(a=1),this.schedule(function(){n.currentNumber+=a,n.currentNumber>e&&(n.currentNumber=e,n.unscheduleAllCallbacks())},i,r,0)}else this.currentNumber=e},t.prototype.updateLabel=function(){cc.isValid(this.label)?this._formatFunc?this.label.string=""+this._formatFunc(this.currentNumber):this.label.string=""+this.currentNumber:cc.warn("this.label is not valid or null or undefined")},t.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},r([s(cc.Label)],t.prototype,"label",void 0),r([s(cc.Integer)],t.prototype,"step",void 0),r([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],OpenScene:[function(e,t,o){"use strict";cc._RF.push(t,"74cc0NCLs9NfI3e+vuxIIvc","OpenScene");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./config/GlobalSignals"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.map=null,t.Pins=[],t.bg=null,t.glow1=[],t.glow2=[],t.blockNode=null,t.holder=null,t}return i(t,e),t.prototype.onEnable=function(){var e=this;this.bg.opacity=0,this.blockNode.active=!0;for(var t=0;t<this.Pins.length;t++)cc.tween(this.Pins[t]).sequence(cc.tween(this.Pins[t]).to(.4,{opacity:0}),cc.tween(this.Pins[t]).to(.4,{opacity:255})).repeatForever().to(.4,{opacity:0}).call(function(){e.node.active=!1}).start();cc.tween(this.glow1[0]).call(function(){e.glow1[0].active=!0,e.glow1[0].opacity=0}).to(.5,{opacity:255}).delay(.5).to(.3,{opacity:0}).start(),cc.tween(this.glow1[1]).call(function(){e.glow1[1].active=!0,e.glow1[1].opacity=0}).to(.5,{opacity:255}).delay(.7).call(function(){cc.tween(e.glow2[0]).call(function(){e.glow2[0].active=!0,e.glow2[0].opacity=0}).to(.5,{opacity:255}).delay(.5).to(.3,{opacity:0}).start(),cc.tween(e.glow2[1]).call(function(){e.glow2[1].active=!0,e.glow2[1].opacity=0}).to(.5,{opacity:255}).delay(1.2).call(function(){cc.tween(e.glow1[1]).to(.3,{opacity:0}).start(),cc.tween(e.glow2[1]).to(.3,{opacity:0}).call(function(){e.bg.active=!0,cc.tween(e.bg).to(.3,{opacity:255}).call(function(){e.blockNode.active=!1,a.GlobalSignals.startQuest.dispatch()}).start(),cc.tween(e.holder).to(.3,{opacity:255}).start()}).start()}).start()}).start()},r([l(cc.Node)],t.prototype,"map",void 0),r([l([cc.Node])],t.prototype,"Pins",void 0),r([l(cc.Node)],t.prototype,"bg",void 0),r([l([cc.Node])],t.prototype,"glow1",void 0),r([l([cc.Node])],t.prototype,"glow2",void 0),r([l(cc.Node)],t.prototype,"blockNode",void 0),r([l(cc.Node)],t.prototype,"holder",void 0),r([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{"./config/GlobalSignals":"GlobalSignals"}],ParticleLoop:[function(e,t,o){"use strict";cc._RF.push(t,"94f7cvxN9VAWZbGjcmK9FYB","ParticleLoop");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loop=!0,t.particleSystem=null,t}return i(t,e),t.prototype.onLoad=function(){this.particleSystem=this.getComponent(cc.ParticleSystem)},t.prototype.update=function(){0==this.particleSystem.particleCount&&(this.loop?(cc.log("particleCount = "+this.particleSystem.particleCount),this.particleSystem.resetSystem()):this.particleSystem.stopSystem())},r([s(cc.Boolean)],t.prototype,"loop",void 0),r([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],PhysicalEnable:[function(e,t,o){"use strict";cc._RF.push(t,"94d19YTaWdLz4svqLG607zG","PhysicalEnable");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gravityScale=1,t.isDebugPhysics=!1,t.isDebugCollider=!1,t}var o;return i(t,e),o=t,t.prototype.onLoad=function(){this.physicsManager=cc.director.getPhysicsManager(),this.collisionManager=cc.director.getCollisionManager()},t.prototype.onEnable=function(){this.setPhysicsEnabled(!0)},t.prototype.onDisable=function(){this.setPhysicsEnabled(!1)},t.prototype.update=function(e){var t=60*e*this.gravityScale;o.REAL_GRAVITY_SCALE=t,this.physicsManager.gravity=cc.v2(0,-320*t)},t.prototype.setPhysicsEnabled=function(e){this.physicsManager.enabled=e,this.collisionManager.enabled=e,this.isDebugCollider&&(this.collisionManager.enabledDebugDraw=!0),this.isDebugPhysics&&(this.physicsManager.debugDrawFlags=cc.PhysicsManager.DrawBits.e_aabbBit|cc.PhysicsManager.DrawBits.e_pairBit|cc.PhysicsManager.DrawBits.e_centerOfMassBit|cc.PhysicsManager.DrawBits.e_jointBit|cc.PhysicsManager.DrawBits.e_shapeBit)},t.REAL_GRAVITY_SCALE=1,r([s(cc.Float)],t.prototype,"gravityScale",void 0),r([s(cc.Boolean)],t.prototype,"isDebugPhysics",void 0),r([s(cc.Boolean)],t.prototype,"isDebugCollider",void 0),o=r([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],PhysicsConfig:[function(e,t,o){"use strict";cc._RF.push(t,"d7792BPXjZAyLPo/ZQk9Zwp","PhysicsConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.PhysicsConfig=void 0;var n=function(){function e(){}return e.initPhysicConfig=function(t,o){var n=t.getComponent(cc.PhysicsCollider),i=t.getComponent(cc.RigidBody);if(n&&i){var r=e.physicsObjects[o];r&&(i.gravityScale=r.gravity_scale,n.density=r.density)}else cc.warn("can not init physics config: "+o)},e.physicsObjects={character:{gravity_scale:3,density:10},gems:{gravity_scale:3,density:1},lava:{gravity_scale:4,density:1},water:{gravity_scale:1,density:1},snow:{gravity_scale:4,density:1},rock:{gravity_scale:5,density:50},big_stone:{gravity_scale:5,density:50},chest:{gravity_scale:5,density:50},item:{gravity_scale:5,density:50},bomb:{gravity_scale:5,density:20}},e}();o.PhysicsConfig=n,cc._RF.pop()},{}],PlayScreen:[function(e,t,o){"use strict";cc._RF.push(t,"a0e02WPlzNK3ZJLXO8+C7qU","PlayScreen");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./config/QuestType"),c=e("./level/MapLevel"),s=e("./config/GlobalSignals"),l=e("./GameData"),u=e("./MainScene"),p=e("./config/AudioPlayId"),f=e("./ResUtil"),d=e("./level/WinPanel"),h=e("./ui/IconQuest"),y=e("./ui/ToastReward"),g=e("./config/GameState"),_=cc._decorator,v=_.ccclass,b=_.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labelQuest=null,t.iconQuest=null,t.iconConfig=[],t.levelRoot=null,t.winPanel=null,t.videoCard=null,t.toastReward=null,t.btnContiune=null,t.btnTryAgain=null,t.btnFullScreen=null,t.timeClickReplay=0,t.levelPlay=-1,t.countPlayWin=0,t.isContinue=!1,t.backgroundMusic=null,t.fire=null,t}var o;return i(t,e),o=t,Object.defineProperty(t,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){o._instance=this,this.isContinue=!1,this.toastReward.node.active=!1},t.prototype.onEnable=function(){var e=this;this.isContinue?cc.log("PlayScreen isContinue"):(this._questFailSignal=this.onQuestFail.bind(this),this._questPassSignal=this.onQuestPass.bind(this),this._girlGiveEgg=this.onGirlGiveEgg.bind(this),s.GlobalSignals.questFailSignal.add(this._questFailSignal),s.GlobalSignals.questPassSignal.add(this._questPassSignal),s.GlobalSignals.girlGiveEggSignal.add(this._girlGiveEgg),0===this.levelRoot.childrenCount&&this.loadCurrentLevel(),this.backgroundMusic||(this.backgroundMusic=u.default.instance.audioPlayer.playAudio(p.AudioPlayId.game_play_music,!0,.4)),this.fire=u.default.instance.audioPlayer.playAudio(p.AudioPlayId.stealer_die),this.schedule(function(){c.default.instance.gameState==g.GameState.PLAYING&&(e.fire=u.default.instance.audioPlayer.playAudio(p.AudioPlayId.stealer_die))},5))},t.prototype.onDisable=function(){u.default.instance.audioPlayer.stopAllEffect(),this.isContinue||(s.GlobalSignals.questFailSignal.remove(this._questFailSignal),s.GlobalSignals.questPassSignal.remove(this._questPassSignal),s.GlobalSignals.girlGiveEggSignal.remove(this._girlGiveEgg),this.levelRoot.childrenCount>0&&this.levelRoot.removeAllChildren(),this.unscheduleAllCallbacks(),this.backgroundMusic&&(u.default.instance.audioPlayer.stopAudioPlay(this.backgroundMusic),this.backgroundMusic=null))},t.prototype.onQuestFail=function(){var e=this;window.gameEnd&&window.gameEnd(),this.btnFullScreen.node.active=!0,this.scheduleOnce(function(){setTimeout(function(){e.loadCurrentLevel()},1e3),u.default.instance.audioPlayer.playAudio(p.AudioPlayId.game_lose)},1.3)},t.prototype.onQuestPass=function(){var e=this;window.gameEnd&&window.gameEnd(),u.default.instance.audioPlayer.playAudio(p.AudioPlayId.game_win),u.default.instance.audioPlayer.stopAudioPlay(this.fire),c.default.instance.isQuestCollectItem?this.scheduleOnce(function(){e.isContinue=!0,e.countPlayWin++,l.GameData.saveLevelUp();var t=c.default.instance.itemLoot.itemConfig;cc.log("onQuestPass: "+t.skin),u.default.instance.showGamePlayScreen(function(){e.isContinue=!1,25==l.GameData.currentLevelId?e.loadCurrentLevel():e.winPanel.showWin()})},.8):(this.isContinue=!1,this.scheduleOnce(function(){e.countPlayWin++,setTimeout(function(){l.GameData.saveLevelUp(),e.winPanel.unTest(),e.loadCurrentLevel()},1500),e.labelQuest.node.parent.active=!1,e.btnFullScreen.node.active=!0},.5))},t.prototype.onGirlGiveEgg=function(){},t.prototype.loadCurrentLevel=function(){this.unscheduleAllCallbacks(),u.default.instance.audioPlayer.stopAllEffect(),this.loadLevel(l.GameData.currentLevelReal),f.ResUtil.releaseLevelById(l.GameData.currentLevelReal-1),f.ResUtil.loadLevelById(l.GameData.currentLevelReal+1)},t.prototype.loadCurrentLevel2=function(){this.videoCard.node.active=!0,this.unscheduleAllCallbacks(),u.default.instance.audioPlayer.stopAllEffect(),f.ResUtil.releaseLevelById(l.GameData.currentLevelReal-1),f.ResUtil.loadLevelById(l.GameData.currentLevelReal+1),mraid.open("https://play.google.com/store/apps/details?id=com.ohzegame.rescuehero")},t.prototype.loadLevel=function(e){var t=this;console.log("loadLevel: "+e),this.levelRoot.childrenCount>0&&u.default.instance.screenManager.showFlash(1),this.clearLevelRoot(),this.winPanel.hide(),f.ResUtil.loadLevelById(e,function(e){t.addLevelToRoot(e)}),1===this.countPlayWin&&l.GameData.isCreatShortcut},t.prototype.addLevelToRoot=function(e){var t=cc.instantiate(e);this.levelRoot.addChild(t),this.levelPlay=parseInt(e.name.match(/\d+/)[0]);var o=t.getComponent(c.default);this.updateLevelInfo(l.GameData.currentLevelId,o.questType)},t.prototype.clearLevelRoot=function(){if(this.levelRoot.childrenCount>0)try{this.levelRoot.removeAllChildren()}catch(e){cc.warn(e)}},t.prototype.gotoHomeScreen=function(){},t.prototype.replayGame=function(){mraid.open("https://play.google.com/store/apps/details?id=com.gamee.brainly.homepin3.pullpin.puzzle")},t.prototype.nextLevel=function(){mraid.open("https://play.google.com/store/apps/details?id=com.gamee.brainly.homepin3.pullpin.puzzle")},t.prototype.updateLevelInfo=function(e,t){var o=a.QuestUtil.getQuestName(t);this.labelQuest.string="<color=#FFBC01> </color> "+o},t.prototype.showToastReward=function(e,t,o){var n=this;void 0===o&&(o=0),this.scheduleOnce(function(){n.toastReward.show(e,t)},o)},t.prototype.onClickEvent=function(){window.install&&window.install()},t.prototype.onClickPlayAgain=function(){window.install&&window.install()},t._instance=null,r([b(cc.RichText)],t.prototype,"labelQuest",void 0),r([b(cc.Sprite)],t.prototype,"iconQuest",void 0),r([b([h.IconQuest])],t.prototype,"iconConfig",void 0),r([b(cc.Node)],t.prototype,"levelRoot",void 0),r([b(d.default)],t.prototype,"winPanel",void 0),r([b(sp.Skeleton)],t.prototype,"videoCard",void 0),r([b(y.default)],t.prototype,"toastReward",void 0),r([b(cc.Button)],t.prototype,"btnContiune",void 0),r([b(cc.Button)],t.prototype,"btnTryAgain",void 0),r([b(cc.Button)],t.prototype,"btnFullScreen",void 0),o=r([v],t)}(cc.Component);o.default=m,cc._RF.pop()},{"./GameData":"GameData","./MainScene":"MainScene","./ResUtil":"ResUtil","./config/AudioPlayId":"AudioPlayId","./config/GameState":"GameState","./config/GlobalSignals":"GlobalSignals","./config/QuestType":"QuestType","./level/MapLevel":"MapLevel","./level/WinPanel":"WinPanel","./ui/IconQuest":"IconQuest","./ui/ToastReward":"ToastReward"}],PlayerCoinUpdater:[function(e,t,o){"use strict";cc._RF.push(t,"5d36ebViqhIBLi21qfwydPG","PlayerCoinUpdater");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../config/GlobalSignals"),c=e("../GameData"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.coinLabel=null,t}return i(t,e),t.prototype.onEnable=function(){this._onUpdateCoin=this.onUpdateCoin.bind(this),a.GlobalSignals.coinUpdateSignal.add(this._onUpdateCoin),this.onUpdateCoin()},t.prototype.onDisable=function(){a.GlobalSignals.coinUpdateSignal.remove(this._onUpdateCoin)},t.prototype.onUpdateCoin=function(){this.coinLabel&&(this.coinLabel.string=c.GameData.playerCoin+"")},r([u(cc.Label)],t.prototype,"coinLabel",void 0),r([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../GameData":"GameData","../config/GlobalSignals":"GlobalSignals"}],PoolWater:[function(e,t,o){"use strict";cc._RF.push(t,"28f08N0h/xJbJasEgUSCAPR","PoolWater");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../base/ColliderCallback"),c=e("../../config/TagObject"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.VanCollier=null,t.water=null,t.water2=null,t.nodex=null,t.height=0,t}return i(t,e),t.prototype.onLoad=function(){this.VanCollier.setColliderCallback(this.onHitColliderVan.bind(this))},t.prototype.onHitColliderVan=function(e){e.node.name==c.TagConfig.BIG_ROCK&&(this.height+=60,e.node.getComponent(a.default).setColliderCallbackStay(this.onHitColliderVan.bind(this)),e.node.name="."),e.node.name==c.TagConfig.ROCK&&(this.height+=20,e.node.getComponent(a.default).setColliderCallbackStay(this.onHitColliderVan.bind(this)),e.node.name=".")},t.prototype.UpWater=function(){cc.tween(this.water).by(.2,{height:-180}).start(),this.water2.height<680&&cc.tween(this.water2).by(.2,{height:180}).start()},t.prototype.update=function(e){if(this.height>0){var t=500*e;this.height-=t,this.water.height-=t,this.water2.height<680&&(this.water2.height+=t)}},r([u(a.default)],t.prototype,"VanCollier",void 0),r([u(cc.Node)],t.prototype,"water",void 0),r([u(cc.Node)],t.prototype,"water2",void 0),r([u(cc.Node)],t.prototype,"nodex",void 0),r([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../config/TagObject":"TagObject"}],PopupDisplay:[function(e,t,o){"use strict";cc._RF.push(t,"c2275xqQlJDeJ0UQZf4qoVl","PopupDisplay");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./utils/GUIUtil"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.targetAction=null,t.enabledAnim=!1,t.time_show=.2,t.time_hide=.2,t.init_fog=!0,t.opacity_fog=150,t.touchFogToHide=!1,t.btn_close=null,t.exitCallback=null,t.fog=null,t.graphics=null,t.fadeInCallback=null,t}return i(t,e),t.prototype.onLoad=function(){if(this.targetAction||(this.targetAction=this.node),null!==this.btn_close&&a.default.addClickListener(this.btn_close,this.node,"PopupDisplay","onClickExit"),this.init_fog){this.fog=new cc.Node,this.fog.width=cc.visibleRect.width,this.fog.height=cc.visibleRect.height,this.node.addChild(this.fog,-1),this.fog.addComponent(cc.BlockInputEvents);var e=this.fog.addComponent(cc.Graphics);e.lineWidth=0,e.fillColor=new cc.Color(0,0,0,this.opacity_fog);var t=cc.visibleRect.width,o=cc.visibleRect.height;if(e.fillRect(-t/2,-o/2,t,o),this.graphics=e,this.touchFogToHide){var n=this.fog.addComponent(cc.Button);a.default.addClickListener(n,this.node,"PopupDisplay","onClickExit")}}},t.prototype.onClickExit=function(){this.hide(),this.exitCallback&&this.exitCallback()},t.prototype.setExitCallback=function(e){this.exitCallback=e},t.prototype.activePopup=function(){this.node.active=!0},t.prototype.onEnable=function(){this.show()},t.prototype.show=function(){var e=this;this.enabledAnim&&(this.targetAction.stopAllActions(),this.targetAction.opacity=0,this.targetAction.scale=.4,this.targetAction.runAction(cc.sequence(cc.show(),cc.spawn(cc.fadeIn(this.time_show),cc.scaleTo(this.time_show,1).easing(cc.easeBackInOut()),cc.sequence(cc.delayTime(.75*this.time_show),cc.callFunc(function(){e.fadeInFog()}))))))},t.prototype.fadeInFog=function(){var e=this;if(this.fog){this.fog.active=!0,this.fadeInCallback&&this.unschedule(this.fadeInCallback);var t=0,o=this.time_show/this.opacity_fog;this.fadeInCallback=function(){t++,e.graphics.fillColor=new cc.Color(0,0,0,t),t===e.opacity_fog&&(e.unschedule(e.fadeInCallback),e.fadeInCallback=null)},this.schedule(function(){e.fadeInCallback&&e.fadeInCallback()},o)}},t.prototype.hide=function(){var e=this;this.enabledAnim?this.node.active&&(this.fog&&(this.fog.active=!1),this.fadeInCallback&&this.unschedule(this.fadeInCallback),this.targetAction.stopAllActions(),this.targetAction.runAction(cc.sequence(cc.spawn(cc.fadeOut(this.time_hide),cc.scaleTo(this.time_hide,.4)),cc.hide(),cc.callFunc(function(){e.node.active=!1})))):this.node.active=!1},r([l(cc.Node)],t.prototype,"targetAction",void 0),r([l(cc.Boolean)],t.prototype,"enabledAnim",void 0),r([l(cc.Float)],t.prototype,"time_show",void 0),r([l(cc.Float)],t.prototype,"time_hide",void 0),r([l(cc.Boolean)],t.prototype,"init_fog",void 0),r([l({type:cc.Integer,visible:function(){return this.init_fog}})],t.prototype,"opacity_fog",void 0),r([l({visible:function(){return this.init_fog}})],t.prototype,"touchFogToHide",void 0),r([l(cc.Node)],t.prototype,"btn_close",void 0),r([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{"./utils/GUIUtil":"GUIUtil"}],Pow:[function(e,t,o){"use strict";cc._RF.push(t,"e73c2IXmkNC656TWxmeUo8o","Pow");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../character/ColliderSearch"),c=e("../../level/MapLevel"),s=e("../../config/GroupConfig"),l=e("../../MainScene"),u=e("../../config/AudioPlayId"),p=e("../../base/ColliderCallback"),f=cc._decorator,d=f.ccclass,h=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeleton=null,t.hit=null,t.attackAnim="Animation",t.searchCollider=null,t}return i(t,e),t.prototype.onLoad=function(){this.hit.addComponent(p.default).setColliderCallback(this.onHitColliderCallback.bind(this)),this.searchCollider.setColliderCallback(this.onSearchCollider.bind(this)),this.searchCollider.node.active=!0},t.prototype.onHitColliderCallback=function(e){var t=this;e.node.group!==s.GroupConfig.CHARACTER&&e.node.group!==s.GroupConfig.BERRIE||(this.hit.opacity=0,this.scheduleOnce(function(){cc.Tween.stopAllByTarget(t.hit),t.hit.active=!1},.2))},t.prototype.onSearchCollider=function(e){cc.log("Pow onSearchCollider: "+e.node.name),this.hit.active&&c.default.instance.isPlaying&&(e.node.group!==s.GroupConfig.CHARACTER||this.playAttack(e))},t.prototype.playAttack=function(e){var t=this;this.skeleton.setAnimation(0,this.attackAnim,!1),l.default.instance.audioPlayer.playAudio(u.AudioPlayId.shoot);var o=this.hit.getParent().convertToNodeSpaceAR(e.node.getParent().convertToWorldSpaceAR(e.node.position));o.y-=800,o.x=this.hit.x,cc.Tween.stopAllByTarget(this.hit),cc.tween(this.hit).to(1.5,{position:o}).call(function(){t.hit.active=!1}).start()},r([h(sp.Skeleton)],t.prototype,"skeleton",void 0),r([h(cc.Node)],t.prototype,"hit",void 0),r([h(cc.String)],t.prototype,"attackAnim",void 0),r([h(a.default)],t.prototype,"searchCollider",void 0),r([d],t)}(cc.Component);o.default=y,cc._RF.pop()},{"../../MainScene":"MainScene","../../base/ColliderCallback":"ColliderCallback","../../config/AudioPlayId":"AudioPlayId","../../config/GroupConfig":"GroupConfig","../../level/MapLevel":"MapLevel","../character/ColliderSearch":"ColliderSearch"}],PrefabManager:[function(e,t,o){"use strict";cc._RF.push(t,"85978p0g2ZPOYT/H1Zjl3Yw","PrefabManager");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.MyPrefabData=void 0;var a=e("./PrefabType"),c=e("./ResUtil"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(){function e(){this.type=a.PrefabType.NONE,this.prefab=null,this.prefabRes=""}return r([u({type:cc.Enum(a.PrefabType)})],e.prototype,"type",void 0),r([u(cc.Prefab)],e.prototype,"prefab",void 0),r([u(cc.String)],e.prototype,"prefabRes",void 0),r([l("MyPrefabData")],e)}();o.MyPrefabData=p;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefabsData=[],t}var o;return i(t,e),o=t,Object.defineProperty(t,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){o._instance=this},t.prototype.getPrefabDataByType=function(e){for(var t=0;t<this.prefabsData.length;t++)if(this.prefabsData[t].type===e)return this.prefabsData[t];return null},t.prototype.loadPrefabByType=function(e,t){cc.log("loadPrefabByType: "+e);var o=this.getPrefabDataByType(e);if(o){if(null!=o.prefab)return void t(o.prefab);if(""!=o.prefabRes)return void c.ResUtil.loadPopupByDir(o.prefabRes,t,function(){t(null)})}t(null)},t._instance=null,r([u([p])],t.prototype,"prefabsData",void 0),o=r([l],t)}(cc.Component);o.default=f,cc._RF.pop()},{"./PrefabType":"PrefabType","./ResUtil":"ResUtil"}],PrefabType:[function(e,t,o){"use strict";cc._RF.push(t,"fffa47OQmNK6LfRIx5Dgzua","PrefabType"),Object.defineProperty(o,"__esModule",{value:!0}),o.PrefabType=void 0,function(e){e[e.NONE=0]="NONE",e[e.SETTING=1]="SETTING",e[e.SELECT_ROOM=2]="SELECT_ROOM",e[e.SELECT_KINGDOM=3]="SELECT_KINGDOM",e[e.BUILD_KINGDOM=4]="BUILD_KINGDOM",e[e.SKIN_POPUP=5]="SKIN_POPUP",e[e.EVENT_POPUP=6]="EVENT_POPUP",e[e.RANK_POPUP=7]="RANK_POPUP",e[e.CHOOSECOUNTRY_POPUP=8]="CHOOSECOUNTRY_POPUP",e[e.DAILY_POPUP=9]="DAILY_POPUP",e[e.PET_POPUP=10]="PET_POPUP"}(o.PrefabType||(o.PrefabType={})),cc._RF.pop()},{}],QuestType:[function(e,t,o){"use strict";var n;cc._RF.push(t,"5d3b69LiD5BJIg8NTr//0Wl","QuestType"),Object.defineProperty(o,"__esModule",{value:!0}),o.QuestUtil=o.QuestType=void 0,function(e){e[e.COLLECT_GEMS=0]="COLLECT_GEMS",e[e.COLLECT_ITEM=1]="COLLECT_ITEM",e[e.KILL_ENEMY=2]="KILL_ENEMY",e[e.SAVE_HOSTAGE=3]="SAVE_HOSTAGE",e[e.OPEN_CHEST=4]="OPEN_CHEST",e[e.ALL=5]="ALL"}(n=o.QuestType||(o.QuestType={}));var i=function(){function e(){}return e.getQuestName=function(e){switch(e){case n.COLLECT_GEMS:return"COLLECT THE GOLD";case n.COLLECT_ITEM:return"COLLECT THE ITEM";case n.KILL_ENEMY:return"KILL THE THIEF";case n.SAVE_HOSTAGE:return"revenge on the cheating husband".toUpperCase();case n.OPEN_CHEST:return"OPEN MONEY SAFE"}return"DO NOTHING"},e}();o.QuestUtil=i,cc._RF.pop()},{}],RedirectBox:[function(e,t,o){"use strict";cc._RF.push(t,"058d0xuib9Irref/RDYDp4j","RedirectBox");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../config/TagObject"),c=cc._decorator.requireComponent,s=cc._decorator,l=s.ccclass,u=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){var e=this.getComponent(cc.Sprite);e&&(e.enabled=!1)},r([l,c(cc.BoxCollider)],t)}(a.default));o.default=u,cc._RF.pop()},{"../config/TagObject":"TagObject"}],RenderMask:[function(e,t,o){"use strict";cc._RF.push(t,"a614br+C3hLLpr2mTVO2UTF","RenderMask");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.camera=null,t.sprite=null,t}return i(t,e),t.prototype.onLoad=function(){this.renderTexture=new cc.RenderTexture,this.renderTexture.initWithSize(cc.winSize.width,cc.winSize.height),this.camera.targetTexture=this.renderTexture},t.prototype.start=function(){this.sprite.node.active=!0,this.sprite.spriteFrame=new cc.SpriteFrame(this.renderTexture),console.log(this.renderTexture);var e=cc.winSize;this.sprite.node.height=e.height,this.sprite.node.width=e.width},r([s(cc.Camera)],t.prototype,"camera",void 0),r([s(cc.Sprite)],t.prototype,"sprite",void 0),r([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],ResUtil:[function(e,t,o){"use strict";cc._RF.push(t,"9fb44pIzLhBGbM9vI6AHeWX","ResUtil"),Object.defineProperty(o,"__esModule",{value:!0}),o.ResUtil=void 0;var n=e("./config/RoomConfig"),i=e("./config/LevelConfig"),r=e("./config/FeatureSkinConfig"),a=function(){function e(){}return e.loadPopupByDir=function(e,t,o){var n=this;void 0===t&&(t=null),void 0===o&&(o=null);var i=e.split("/").pop();cc.log("loadPopupByDir: "+i),this.mapPrefab.has(i)?t&&t(this.mapPrefab.get(i)):this.loadPrefab(e,function(e){n.mapPrefab.set(i,e),t&&t(e)},o)},e.loadRoomById=function(e,t,o){var i=this;if(void 0===t&&(t=null),void 0===o&&(o=null),e<0||e>=n.RoomConfig.rooms.length)return cc.warn("loadRoomById: "+e),void(o&&o());var r=n.RoomConfig.rooms[e].name;this.mapPrefab.has(r)?t&&t(this.mapPrefab.get(r)):this.loadRoomByName(r,function(e){i.mapPrefab.set(r,e),t&&t(e)},o)},e.loadLevelById=function(e,t,o){var n=this;if(void 0===t&&(t=null),void 0===o&&(o=null),e<0||e>=i.LevelConfig.levels.length){var r=Math.floor(Math.random()*i.LevelConfig.levels.length);i.LevelConfig.levels[e]=i.LevelConfig.levels[r]}var a=i.LevelConfig.levels[e];this.mapPrefab.has(a)?t&&t(this.mapPrefab.get(a)):this.loadLevelByName(a,function(e){n.mapPrefab.set(a,e),t&&t(e)},o)},e.releaseLevelById=function(e){if(!(e<0||e>=i.LevelConfig.levels.length)){var t=i.LevelConfig.levels[e];this.mapPrefab.has(t)&&(this.mapPrefab.delete(t),cc.log("release: "+t))}},e.loadLevelByName=function(e,t,o){void 0===t&&(t=null),void 0===o&&(o=null);var n="prefabs/levels/"+e;this.loadPrefab(n,t,o)},e.loadRoomByName=function(e,t,o){void 0===t&&(t=null),void 0===o&&(o=null);var n="prefabs/rooms/"+e;this.loadPrefab(n,t,o)},e.loadScreenByName=function(e,t,o){void 0===t&&(t=null),void 0===o&&(o=null);var n="prefabs/screens/"+e;this.loadPrefab(n,t,o)},e.loadPrefab=function(e,t,o){cc.loader.loadRes(e,function(n,i){if(n)return cc.log(n),void(o&&o(n));t&&(cc.log("loadPrefab: "+e),t(i))})},e.loadRes=function(e,t,o){t?cc.loader.loadRes(e,t,function(e,t){if(e)return cc.error(e.message||e),void(o&&o(e,t));o&&o(e,t)}):cc.loader.load(e,function(e,t){if(e)return cc.error(e.message||e),void(o&&o(e,t));o&&o(e,t)})},e.getIconCountry=function(e,t){var o=this;if(""!=e&&e)if(this.iconCountry.has(e)){var n=this.iconCountry.get(e);t(null,n)}else this.loadRes("/sprites/CountryIcon/"+e,cc.SpriteFrame,function(n,i){i&&o.iconCountry.set(e,i),t(n,i)})},e.getSpineAnimFeature=function(e,t){var o=r.FeatureSkinConfig.getSkinConfigById(e).pathDir+"/Bat";this.getSpineAnim(o,"Bat",t)},e.getSpineAnim=function(e,t,o){var n=this;if(this.spineAnim.has(t)){var i=this.spineAnim.get(t);o(null,i)}else this.loadRes(e,sp.SkeletonData,function(e,i){i&&n.spineAnim.set(t,i),o(e,i)})},e.mapPrefab=new Map,e.iconCountry=new Map,e.spineAnim=new Map,e}();o.ResUtil=a,cc._RF.pop()},{"./config/FeatureSkinConfig":"FeatureSkinConfig","./config/LevelConfig":"LevelConfig","./config/RoomConfig":"RoomConfig"}],RockGO:[function(e,t,o){"use strict";cc._RF.push(t,"05a511vQ/dK6brRHisPIMnD","RockGO");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../MainScene"),c=e("../../config/AudioPlayId"),s=e("../../config/GroupConfig"),l=e("../../config/PhysicsConfig"),u=cc._decorator,p=u.ccclass,f=(u.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){l.PhysicsConfig.initPhysicConfig(this.node,"rock")},t.prototype.onCollisionEnter=function(e){e.node.group==s.GroupConfig.SNOW&&a.default.instance.audioPlayer.playAudio(c.AudioPlayId.effect_rock1)},r([p],t)}(cc.Component));o.default=f,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig"}],RockPressure:[function(e,t,o){"use strict";cc._RF.push(t,"f4b7do2MbBI9YW/bhEIaf0B","RockPressure");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../config/GlobalSignals"),c=e("../../config/TagObject"),s=cc._decorator,l=s.ccclass,u=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isHit=!1,t}return i(t,e),t.prototype.onCollisionEnter=function(e){1!=this.isHit&&e.node.name==c.TagConfig.MEAT&&a.GlobalSignals.questPassSignal.dispatch()},r([l],t)}(cc.Component));o.default=u,cc._RF.pop()},{"../../config/GlobalSignals":"GlobalSignals","../../config/TagObject":"TagObject"}],RoomConfig:[function(e,t,o){"use strict";cc._RF.push(t,"a08e9OqjtxLA7vTG49W3C13","RoomConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.RoomConfig=void 0;var n=function(){function e(){}return e.getRoomIdByName=function(t){for(var o=e.rooms,n=0;n<o.length;n++)if(o[n].name===t)return n;return-1},e.rooms=[{name:"Room1",size:8},{name:"Room2",size:8},{name:"Room6",size:8}],e}();o.RoomConfig=n,cc._RF.pop()},{}],RopeFull:[function(e,t,o){"use strict";cc._RF.push(t,"6635aO0sr9Oyr3AEOv3cQ/f","RopeFull");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./RopePart"),c=e("../../config/AudioPlayId"),s=e("../../MainScene"),l=cc._decorator,u=l.ccclass,p=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){var e=this;this.node.children.forEach(function(t){var o=t.getComponent(a.default);o&&o.setCutCallback(e.cutRopeInNode.bind(e))})},t.prototype.cutRopeInNode=function(e){cc.log("cutRopeInNode"),e.removeFromParent(),this.node.children.forEach(function(e){var t=e.getComponent(a.default);t&&(t.enabled=!1)}),s.default.instance.audioPlayer.playAudio(c.AudioPlayId.rope_cut)},t.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},r([u],t)}(cc.Component));o.default=p,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","./RopePart":"RopePart"}],RopePart:[function(e,t,o){"use strict";cc._RF.push(t,"d8140MIb8lO+6wUn4tOHlGX","RopePart");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../config/GroupConfig"),c=cc._decorator,s=c.ccclass,l=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cutCallback=null,t}return i(t,e),t.prototype.start=function(){if(!this.getComponent(cc.BoxCollider)){var e=this.getComponent(cc.PhysicsBoxCollider),t=this.addComponent(cc.BoxCollider);t.offset=e.offset,t.size=e.size}},t.prototype.setCutCallback=function(e){this.cutCallback=e},t.prototype.onCollisionEnter=function(e){e.node.group!==a.GroupConfig.TOUCH||this.cutCallback&&this.cutCallback(this.node)},r([s],t)}(cc.Component));o.default=l,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig"}],RotateByRepeatAnimX2:[function(e,t,o){"use strict";cc._RF.push(t,"97cddXVcLlODqus7E1jO7Be","RotateByRepeatAnimX2");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.menu,c=cc._decorator,s=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.repeatForever=!0,t.duration1=.2,t.rotate1=20,t.duration2=.2,t.rotate2=-20,t.autoPlay=!0,t.rotateStart=0,t}return i(t,e),t.prototype.onLoad=function(){this.rotateStart=this.node.angle},t.prototype.play=function(e){var t=cc.sequence(cc.rotateTo(this.duration1,this.rotateStart+this.rotate1),cc.rotateTo(this.duration2,this.rotateStart+this.rotate2));this.repeatForever&&(t=t.repeatForever()),e.stopAllActions(),e.active||(e.active=!0),e.runAction(t)},t.prototype.onEnable=function(){this.autoPlay&&this.play(this.node)},r([l(cc.Boolean)],t.prototype,"repeatForever",void 0),r([l(cc.Float)],t.prototype,"duration1",void 0),r([l(cc.Float)],t.prototype,"rotate1",void 0),r([l(cc.Float)],t.prototype,"duration2",void 0),r([l(cc.Float)],t.prototype,"rotate2",void 0),r([l(cc.Boolean)],t.prototype,"autoPlay",void 0),r([s,a("Add Anim/RotateByRepeatAnimX2")],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],RotateByRepeatAnim:[function(e,t,o){"use strict";cc._RF.push(t,"74217uxCGJHJKu4GavSlA32","RotateByRepeatAnim");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.menu,c=cc._decorator,s=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.repeatForever=!0,t.duration1=1,t.rotate1=360,t.autoPlay=!0,t}return i(t,e),t.prototype.play=function(e){var t=cc.rotateBy(this.duration1,this.rotate1);this.repeatForever&&(t=t.repeatForever()),e.stopAllActions(),e.active||(e.active=!0),e.runAction(t)},t.prototype.onEnable=function(){this.autoPlay&&this.play(this.node)},t.prototype.onDisable=function(){this.node.stopAllActions()},r([l(cc.Boolean)],t.prototype,"repeatForever",void 0),r([l(cc.Float)],t.prototype,"duration1",void 0),r([l(cc.Float)],t.prototype,"rotate1",void 0),r([l(cc.Boolean)],t.prototype,"autoPlay",void 0),r([s,a("Add Anim/RotateByRepeatAnim")],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],ScaleCT:[function(e,t,o){"use strict";cc._RF.push(t,"66a3422X2VMI7i95ZjvsfDn","ScaleCT");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){var e=cc.scaleTo(.5,1.2,1.2),t=cc.scaleTo(.5,1,1),o=cc.sequence(e,t),n=cc.repeatForever(o);this.node.runAction(n)},r([c],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],ScaleRepeatAnim:[function(e,t,o){"use strict";cc._RF.push(t,"6217devR7JH3ad1/GjLdKfy","ScaleRepeatAnim");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.repeatForever=!0,t.duration1=.2,t.scale1=1.2,t.duration2=.2,t.scale2=1,t}return i(t,e),t.prototype.play=function(e){var t=cc.sequence(cc.scaleTo(this.duration1,this.scale1),cc.scaleTo(this.duration2,this.scale2));this.repeatForever&&(t=t.repeatForever()),e.stopAllActions(),e.active||(e.active=!0),e.runAction(t)},t.prototype.onEnable=function(){this.play(this.node)},r([s(cc.Boolean)],t.prototype,"repeatForever",void 0),r([s(cc.Float)],t.prototype,"duration1",void 0),r([s(cc.Float)],t.prototype,"scale1",void 0),r([s(cc.Float)],t.prototype,"duration2",void 0),r([s(cc.Float)],t.prototype,"scale2",void 0),r([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],ScreenManager:[function(e,t,o){"use strict";cc._RF.push(t,"901c3FK5gZOZ6/0KHHjo2D4","ScreenManager");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ScreenConfig=o.ScreenId=void 0;var a,c=cc._decorator,s=c.ccclass,l=c.property;(function(e){e[e.NONE=0]="NONE",e[e.HOME_SCREEN=1]="HOME_SCREEN",e[e.PLAY_SCREEN=2]="PLAY_SCREEN",e[e.CASTLE_SCREEN=3]="CASTLE_SCREEN"})(a=o.ScreenId||(o.ScreenId={}));var u=function(){function e(){this.screenId=a.HOME_SCREEN,this.screen=null}return r([l({type:cc.Enum(a)})],e.prototype,"screenId",void 0),r([l(cc.Node)],e.prototype,"screen",void 0),r([s("ScreenConfig")],e)}();o.ScreenConfig=u;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.flash=null,t.arrayConfig=[],t}return i(t,e),t.prototype.showScreenById=function(e,t,o){var n=this;if(void 0===o&&(o=!1),cc.log("showScreenById: "+e),o){var i=this.activeScreenById(e);t&&t(i)}else this.showFlash(1,function(){var o=n.activeScreenById(e);t&&t(o)})},t.prototype.activeScreenById=function(e){for(var t=null,o=0;o<this.arrayConfig.length;o++)this.arrayConfig[o].screenId===e?(this.arrayConfig[o].screen.active=!0,t=this.arrayConfig[o].screen):this.arrayConfig[o].screen.active=!1;return t},t.prototype.getScreenById=function(e){for(var t=0;t<this.arrayConfig.length;t++)if(this.arrayConfig[t].screenId===e)return this.arrayConfig[t].screen;return null},t.prototype.showFlash=function(e,t){var o=this;void 0===t&&(t=null),this.flash.opacity=255,this.flash.active=!0,this.flash.stopAllActions(),this.flash.runAction(cc.fadeOut(e)),setTimeout(function(){o.flash.active=!1},1e3*e)},r([l(cc.Node)],t.prototype,"flash",void 0),r([l([u])],t.prototype,"arrayConfig",void 0),r([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{}],SettingsPopup:[function(e,t,o){"use strict";cc._RF.push(t,"1ae5czkyCxFupccCa3ZqkvT","SettingsPopup");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../base/toggle/ToggleSliderGroup"),c=e("../base/audio/AudioManager"),s=e("../GameData"),l=cc._decorator,u=l.ccclass,p=l.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btn_sound_effect=null,t.btn_sound_music=null,t.btn_reset_data=null,t}return i(t,e),t.prototype.onLoad=function(){this.btn_sound_effect.setOnClickCallback(function(e){c.default.EffectEnable=e}),this.btn_sound_music.setOnClickCallback(function(e){c.default.MusicEnable=e}),this.btn_reset_data&&(this.btn_reset_data.node.active=null==window.isDev||window.isDev)},t.prototype.start=function(){this.btn_sound_effect.setToggleState(c.default.EffectEnable,!1),this.btn_sound_music.setToggleState(c.default.MusicEnable,!1)},t.prototype.onClearData=function(){cc.warn("onClearData"),s.GameData.clearData()},r([p(a.default)],t.prototype,"btn_sound_effect",void 0),r([p(a.default)],t.prototype,"btn_sound_music",void 0),r([p(cc.Button)],t.prototype,"btn_reset_data",void 0),r([u],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../GameData":"GameData","../base/audio/AudioManager":"AudioManager","../base/toggle/ToggleSliderGroup":"ToggleSliderGroup"}],Shooter:[function(e,t,o){"use strict";cc._RF.push(t,"a8a2dNNjvlKtoo9HsNqpYQV","Shooter");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./Enemies"),c=e("../../../level/MapLevel"),s=e("../../../config/GroupConfig"),l=e("../../../config/TagObject"),u=e("../../../MainScene"),p=e("../../../config/AudioPlayId"),f=e("../../more/Bullet"),d=cc._decorator,h=d.ccclass,y=d.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bulletPrefab=null,t}return i(t,e),t.prototype.start=function(){e.prototype.start.call(this),this.hit.active=!0},t.prototype.onAttackCollider=function(){},t.prototype.onSearchCollider=function(e){this.isAlive&&(cc.log("Enemies onSearchCollider: "+e.node.name),c.default.instance.isPlaying&&(e.node.group!==s.GroupConfig.CHARACTER||(e.node.name==l.TagConfig.BOSS||e.node.name==l.TagConfig.GIRL||e.node.name==l.TagConfig.DOG?this.playAttack(e):this.addToIgnoreSearchCollier(e.node))))},t.prototype.playAttack=function(){var e=this;if(!this.isAttack){this.isAttack=!0,this.playAnimation(this.attackAnim);var t=cc.instantiate(this.bulletPrefab);t.active=!1,this.hit.addChild(t);var o=500/f.default.velocityHit;cc.tween(t).delay(.8).call(function(){e.isAlive||(cc.Tween.stopAllByTarget(t),t.removeFromParent()),t.active=!0,u.default.instance.audioPlayer.playAudio(p.AudioPlayId.shoot)}).by(o,{position:new cc.Vec3(500,0,0)}).call(function(){t.active&&(t.active=!1,t.removeFromParent())}).start(),this.scheduleOnce(function(){e.isAlive&&(e.isAttack=!1,e.playAnimation(e.idleAnim,!0),e.scheduleOnce(function(){e.searchCollider.refreshPingToTarget()},.5))},.8)}},t.prototype.onDieIce=function(){e.prototype.onDieIce.call(this),u.default.instance.audioPlayer.playAudio(p.AudioPlayId.stealer_die)},t.prototype.onDieNormal=function(){e.prototype.onDieNormal.call(this),u.default.instance.audioPlayer.playAudio(p.AudioPlayId.stealer_die)},t.prototype.onDieFire=function(){e.prototype.onDieFire.call(this),u.default.instance.audioPlayer.playAudio(p.AudioPlayId.stealer_die)},r([y(cc.Prefab)],t.prototype,"bulletPrefab",void 0),r([h],t)}(a.default);o.default=g,cc._RF.pop()},{"../../../MainScene":"MainScene","../../../config/AudioPlayId":"AudioPlayId","../../../config/GroupConfig":"GroupConfig","../../../config/TagObject":"TagObject","../../../level/MapLevel":"MapLevel","../../more/Bullet":"Bullet","./Enemies":"Enemies"}],SignalBinding:[function(e,t,o){"use strict";cc._RF.push(t,"986cbDaJqlNrbiJVow96Bwm","SignalBinding"),Object.defineProperty(o,"__esModule",{value:!0}),o.SignalBinding=void 0;var n=function(){function e(e,t,o,n,i){void 0===i&&(i=0),this.active=!0,this.params=null,this._listener=t,this._isOnce=o,this.context=n,this._signal=e,this.priority=i||0}return e.prototype.execute=function(e){var t,o;return this.active&&this._listener&&(o=this.params?this.params.concat(e):e,t=this._listener.apply(this.context,o),this._isOnce&&this.detach()),t},e.prototype.detach=function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},e.prototype.isBound=function(){return!!this._signal&&!!this._listener},e.prototype.isOnce=function(){return this._isOnce},e.prototype.getListener=function(){return this._listener},e.prototype.getSignal=function(){return this._signal},e.prototype._destroy=function(){delete this._signal,delete this._listener,delete this.context},e.prototype.toString=function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"},e}();o.SignalBinding=n,cc._RF.pop()},{}],Signal:[function(e,t,o){"use strict";cc._RF.push(t,"cb5e6YetPdPRqAkDnrTk1Ag","Signal"),Object.defineProperty(o,"__esModule",{value:!0}),o.Signal=void 0;var n=e("./SignalBinding"),i=function(){function e(){this._bindings=[],this._prevParams=null,this.memorize=!1,this._shouldPropagate=!0,this.active=!0}return e.prototype.validateListener=function(e,t){if("function"!=typeof e)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))},e.prototype._registerListener=function(e,t,o,i){var r,a=this._indexOfListener(e,o);if(-1!==a){if((r=this._bindings[a]).isOnce()!==t)throw new Error("You cannot add"+(t?"":"Once")+"() then add"+(t?"Once":"")+"() the same listener without removing the relationship first.")}else r=new n.SignalBinding(this,e,t,o,i),this._addBinding(r);return this.memorize&&this._prevParams&&r.execute(this._prevParams),r},e.prototype._addBinding=function(e){var t=this._bindings.length;do{--t}while(this._bindings[t]&&e.priority<=this._bindings[t].priority);this._bindings.splice(t+1,0,e)},e.prototype._indexOfListener=function(e,t){for(var o,n=this._bindings.length;n--;)if((o=this._bindings[n]).getListener()===e&&o.context===t)return n;return-1},e.prototype.has=function(e,t){return void 0===t&&(t=null),-1!==this._indexOfListener(e,t)},e.prototype.add=function(e,t,o){return void 0===t&&(t=null),void 0===o&&(o=0),this.validateListener(e,"add"),this._registerListener(e,!1,t,o)},e.prototype.addOnce=function(e,t,o){return void 0===t&&(t=null),void 0===o&&(o=0),this.validateListener(e,"addOnce"),this._registerListener(e,!0,t,o)},e.prototype.remove=function(e,t){void 0===t&&(t=null),this.validateListener(e,"remove");var o=this._indexOfListener(e,t);return-1!==o&&(this._bindings[o]._destroy(),this._bindings.splice(o,1)),e},e.prototype.removeAll=function(){for(var e=this._bindings.length;e--;)this._bindings[e]._destroy();this._bindings.length=0},e.prototype.getNumListeners=function(){return this._bindings.length},e.prototype.halt=function(){this._shouldPropagate=!1},e.prototype.dispatch=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.active){var o,n=this._bindings.length;if(this.memorize&&(this._prevParams=e),n){o=this._bindings.slice(0),this._shouldPropagate=!0;do{n--}while(o[n]&&this._shouldPropagate&&!1!==o[n].execute(e))}}},e.prototype.forget=function(){this._prevParams=null},e.prototype.dispose=function(){this.removeAll(),delete this._bindings,delete this._prevParams},e.prototype.toString=function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"},e.VERSION="1.0.0",e}();o.Signal=i,cc._RF.pop()},{"./SignalBinding":"SignalBinding"}],SkinConfig:[function(e,t,o){"use strict";cc._RF.push(t,"c02cavE5GRJyqMzIcM60HHk","SkinConfig");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.SkinConfig=o.ItemSkinHaveFeature=o.GroupItemSkinVsFeature=o.GroupItemSkinConfig=o.ItemSkinConfig=void 0;var r=function(e,t,o,n){this.skinId=e,this.skins=t,this.type=o,this.value=n};o.ItemSkinConfig=r;var a=function(e){function t(t,o,n,i,r,a,c){var s=e.call(this,t,o,n,i)||this;return s.graph=r,s.isRoot=a,s.group=c,s}return i(t,e),t}(r);o.GroupItemSkinConfig=a;var c=function(e){function t(t,o,n,i,r,a,c,s){var l=e.call(this,t,o,n,i,r,a,s)||this;return l.graph=r,l.isRoot=a,l.idFeatures=c,l}return i(t,e),t}(a);o.GroupItemSkinVsFeature=c;var s=function(e){function t(t,o,n,i,r){var a=e.call(this,t,o,n,i)||this;return a.idFeatures=r,a}return i(t,e),t}(r);o.ItemSkinHaveFeature=s;var l=function(){function e(){}return e.getSkinNameById=function(t){for(var o=e.arraySkinBoss,n=0;n<o.length;n++)if(o[n].skinId===t){var i=o[n];return i.skins[i.skins.length-1]}return"Boss0/Boss"},e.getSkinConfigById=function(t){for(var o=e.arraySkinBoss,n=0;n<o.length;n++)if(o[n].skinId===t)return o[n];return null},e.getSkinGirlConfigById=function(t){for(var o=e.arraySkinGirl,n=0;n<o.length;n++)if(o[n].skinId===t)return o[n];return null},e.GetAllItemSampleGroup=function(t){var o=[];return e.arraySkinBoss.forEach(function(e){e instanceof a&&e.group==t&&o.push(e)}),o},e.CheckSkinInGroup=function(e){return e instanceof a||e instanceof c},e.CheckSkinHaveFeature=function(e){return e instanceof s||e instanceof c},e.get_type={free:"free",buy:"buy",claim_ad:"claim_ad",gift_code:"gift_code",share_fb:"share_fb",daily_reward:"daily_reward",event:"halloween"},e.arraySkinBoss=[new r("boss_0",["Boss0/Boss"],e.get_type.free,0),new r("boss_1",["Boss1/Boss"],e.get_type.claim_ad,0),new r("boss_46",["Boss46/Boss"],e.get_type.claim_ad,0),new r("boss_3",["Boss3/Boss"],e.get_type.buy,1e4),new r("boss_4",["Boss4/Boss"],e.get_type.buy,1e4),new r("boss_5",["Boss5/Boss"],e.get_type.buy,1e4),new r("boss_6",["Boss6/Boss"],e.get_type.buy,15e3),new r("boss_7",["Boss7/Boss"],e.get_type.buy,15e3),new r("boss_8",["Boss8/Boss"],e.get_type.buy,15e3),new r("boss_9",["Boss9/Boss"],e.get_type.buy,3e4),new r("boss_10",["Boss10/Boss"],e.get_type.buy,3e4),new r("boss_11",["Boss11/Boss"],e.get_type.buy,3e4),new r("boss_12",["Boss12/Boss"],e.get_type.buy,3e4),new r("boss_13",["Boss13/Boss"],e.get_type.buy,3e4),new r("boss_14",["Boss14/Boss"],e.get_type.buy,3e4),new r("boss_15",["Boss15/Boss"],e.get_type.buy,4e4),new r("boss_16",["Boss16/Boss"],e.get_type.buy,4e4),new r("boss_17",["Boss17/Boss"],e.get_type.buy,4e4),new r("boss_19",["Boss19/Boss"],e.get_type.buy,5e4),new a("boss_40",["Boss40/Boss"],e.get_type.share_fb,0,["boss_41,boss_42"],!1,"Patrick"),new a("boss_41",["Boss41/Boss"],e.get_type.share_fb,0,["boss_40,boss_42"],!1,"Patrick"),new c("boss_42",["Boss41/Boss"],e.get_type.share_fb,0,["boss_41,boss_42"],!0,["feature_12"],"Patrick"),new a("boss_20",["Boss20/Boss"],e.get_type.buy,2e5,["boss_21","boss_22"],!1,"Bat"),new a("boss_21",["Boss21/Boss"],e.get_type.buy,2e5,["boss_21","boss_22"],!1,"Bat"),new c("boss_22",["Boss21/Boss"],e.get_type.buy,2e5,["boss_20","boss_21"],!0,["feature_2"],"Bat"),{skinId:"boss_29",skins:["Boss29/Boss"],type:e.get_type.buy,value:5e4},{skinId:"boss_30",skins:["Boss30/Boss"],type:e.get_type.buy,value:5e4},new a("boss_26",["Boss26/Boss"],e.get_type.buy,2e5,["boss_27"],!1,"Noel"),new a("boss_27",["Boss27/Boss"],e.get_type.buy,2e5,["boss_26","boss_28"],!1,"Noel"),new c("boss_28",["Boss27/Boss"],e.get_type.buy,2e5,["boss_27"],!0,["feature_11"],"Noel"),{skinId:"boss_34",skins:["Boss34/Boss"],type:e.get_type.buy,value:4e4},{skinId:"boss_35",skins:["Boss35/Boss"],type:e.get_type.gift_code,value:0},new a("boss_31",["Boss31/Boss"],e.get_type.buy,2e5,["boss_32"],!1,"MuaLan"),new a("boss_32",["Boss32/Boss"],e.get_type.buy,2e5,["boss_32"],!1,"MuaLan"),new c("boss_33",["Boss32/Boss"],e.get_type.buy,2e5,["boss_32"],!0,["feature_7"],"MuaLan"),{skinId:"boss_36",skins:["Boss36/Boss"],type:e.get_type.share_fb,value:0},{skinId:"boss_37",skins:["Boss37/Boss"],type:e.get_type.gift_code,value:0},new a("boss_38",["Boss38/Boss"],e.get_type.share_fb,0,["boss_39"],!1,"valentine"),new a("boss_39",["Boss39/Boss"],e.get_type.share_fb,0,["boss_38,boss_60"],!1,"valentine"),new c("boss_60",["Boss39/Boss"],e.get_type.share_fb,0,["boss_39"],!0,["feature_13"],"valentine"),{skinId:"boss_44",skins:["Boss44/Boss"],type:e.get_type.gift_code,value:0},{skinId:"boss_45",skins:["Boss45/Boss"],type:e.get_type.gift_code,value:0},{skinId:"boss_47",skins:["Boss47/Boss"],type:e.get_type.gift_code,value:0},new s("boss_23",["Boss23/Boss"],e.get_type.daily_reward,0,["feature_4"]),new s("boss_24",["Boss24/Boss"],e.get_type.daily_reward,0,["feature_1"]),new s("boss_25",["Boss25/Boss"],e.get_type.daily_reward,0,["feature_3"]),new a("boss_48",["Boss48/Boss"],e.get_type.buy,2e5,["boss_49"],!1,"FootBall"),new a("boss_49",["Boss49/Boss"],e.get_type.buy,2e5,["boss_48","boss_50"],!1,"FootBall"),new c("boss_50",["Boss49/Boss"],e.get_type.buy,2e5,["boss_49"],!0,["feature_7"],"FootBall"),new a("boss_52",["Boss52/Boss"],e.get_type.buy,2e5,["boss_52"],!1,"Halloween"),new a("boss_53",["Boss53/Boss"],e.get_type.buy,2e5,["boss_52","boss_54"],!1,"Halloween"),new c("boss_54",["Boss53/Boss"],e.get_type.buy,2e5,["boss_53"],!0,["feature_9"],"Halloween")],e.arraySkinGirl=[{skinId:"wife_0",skins:["Wife0"],type:e.get_type.free,value:0},{skinId:"wife_1",skins:["Wife1"],type:e.get_type.free,value:0},{skinId:"wife_2",skins:["Wife2"],type:e.get_type.claim_ad,value:0},{skinId:"wife_3",skins:["Wife3"],type:e.get_type.buy,value:1e4},{skinId:"wife_4",skins:["Wife4"],type:e.get_type.buy,value:1e4},{skinId:"wife_5",skins:["Wife5"],type:e.get_type.buy,value:1e4},{skinId:"wife_6",skins:["Wife6"],type:e.get_type.buy,value:15e3},{skinId:"wife_7",skins:["Wife7"],type:e.get_type.buy,value:15e3},{skinId:"wife_8",skins:["Wife8"],type:e.get_type.buy,value:15e3},{skinId:"wife_9",skins:["Wife9"],type:e.get_type.buy,value:3e4},{skinId:"wife_10",skins:["Wife10"],type:e.get_type.buy,value:3e4},{skinId:"wife_11",skins:["Wife11"],type:e.get_type.buy,value:3e4},{skinId:"wife_12",skins:["Wife12"],type:e.get_type.buy,value:3e4},{skinId:"wife_13",skins:["Wife13"],type:e.get_type.buy,value:3e4},{skinId:"wife_14",skins:["Wife14"],type:e.get_type.buy,value:3e4},{skinId:"wife_15",skins:["Wife15"],type:e.get_type.buy,value:4e4},{skinId:"wife_16",skins:["Wife16"],type:e.get_type.buy,value:4e4},{skinId:"wife_17",skins:["Wife17"],type:e.get_type.buy,value:4e4},{skinId:"wife_18",skins:["Wife18"],type:e.get_type.buy,value:5e4},{skinId:"wife_19",skins:["Wife19"],type:e.get_type.share_fb,value:0},{skinId:"wife_20",skins:["Wife20"],type:e.get_type.buy,value:2e5},{skinId:"wife_21",skins:["Wife21"],type:e.get_type.buy,value:5e4},{skinId:"wife_22",skins:["Wife22"],type:e.get_type.buy,value:5e4},{skinId:"wife_23",skins:["Wife23"],type:e.get_type.buy,value:2e5},{skinId:"wife_24",skins:["Wife24"],type:e.get_type.event,value:4e4},{skinId:"wife_25",skins:["Wife25"],type:e.get_type.event,value:0},{skinId:"wife_26",skins:["Wife26"],type:e.get_type.event,value:0}],e}();o.SkinConfig=l,cc._RF.pop()},{}],SnowGO:[function(e,t,o){"use strict";cc._RF.push(t,"114d3NpwDFJL7EK1S8sR0Cw","SnowGO");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../config/GroupConfig"),c=e("../../level/MapLevel"),s=e("../../config/PhysicsConfig"),l=cc._decorator,u=l.ccclass,p=l.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.border=null,t.drop=null,t.icePrefab=null,t.available=!0,t}return i(t,e),t.prototype.onLoad=function(){s.PhysicsConfig.initPhysicConfig(this.node,"snow")},t.prototype.start=function(){this.border.active=!0,this.drop.active=!0;var e=this.getComponent(cc.Sprite);e&&(e.enabled=!1)},t.prototype.transformToRock=function(){var e=c.default.instance.rockContainer,t=cc.instantiate(this.icePrefab);t.position=e.convertToNodeSpaceAR(this.node.getParent().convertToWorldSpaceAR(this.node.position)),t.parent=e,this.node.removeFromParent()},t.prototype.onCollisionEnter=function(e){this.available&&(e.node.group!==a.GroupConfig.WATER&&e.node.group!==a.GroupConfig.ROCK||(this.available=!1,this.transformToRock()))},r([p(cc.Node)],t.prototype,"border",void 0),r([p(cc.Node)],t.prototype,"drop",void 0),r([p(cc.Prefab)],t.prototype,"icePrefab",void 0),r([u],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../level/MapLevel":"MapLevel"}],Stealer:[function(e,t,o){"use strict";cc._RF.push(t,"59a11YXUHNE+b4oPsB3zGua","Stealer");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./Enemies"),c=e("../../../config/AudioPlayId"),s=e("../../../MainScene"),l=cc._decorator,u=l.ccclass,p=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.playAttack=function(t){e.prototype.playAttack.call(this,t),s.default.instance.audioPlayer.playAudio(c.AudioPlayId.stealer_attack)},t.prototype.onDieIce=function(){e.prototype.onDieIce.call(this),s.default.instance.audioPlayer.playAudio(c.AudioPlayId.stealer_die)},t.prototype.onDieNormal=function(){e.prototype.onDieNormal.call(this),s.default.instance.audioPlayer.playAudio(c.AudioPlayId.stealer_die)},t.prototype.onDieFire=function(){e.prototype.onDieFire.call(this),s.default.instance.audioPlayer.playAudio(c.AudioPlayId.stealer_die)},r([u],t)}(a.default));o.default=p,cc._RF.pop()},{"../../../MainScene":"MainScene","../../../config/AudioPlayId":"AudioPlayId","./Enemies":"Enemies"}],StickHold:[function(e,t,o){"use strict";cc._RF.push(t,"ac6a0Le9y5BMIU4IVuP9T0u","StickHold");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.StickHoldType=void 0;var a,c=e("../../config/GroupConfig"),s=e("../../base/utils/GUIUtil"),l=e("../../base/ColliderCallback"),u=cc.easeInOut,p=cc.easeOut,f=e("../../MainScene"),d=e("../../config/AudioPlayId"),h=cc._decorator,y=h.ccclass,g=h.property;(function(e){e[e.FREE=0]="FREE",e[e.SLIDER=1]="SLIDER"})(a=o.StickHoldType||(o.StickHoldType={}));var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stickHoldType=a.FREE,t.points=[],t.headCollider=null,t.hand=null,t.arrow2=null,t.PinsGlow=null,t._active=!0,t.headRootPos=null,t.holdCallback=null,t}return i(t,e),t.prototype.onLoad=function(){var e=this.getComponent(cc.PhysicsCircleCollider),t=this.getComponent(cc.PhysicsBoxCollider),o=this.getComponent(cc.BoxCollider),n=this.node.width-2*e.radius;o.size.height+=8,o.size.width=this.node.width-10,t.size.width=n;var i=2*e.radius+n/2;t.offset.x=-i,o.offset.x=-n/2-e.radius,this.stickHoldType===a.SLIDER&&(this.p0=this.points[0].position,this.p1=this.points[1].position,this.p0.x+=this.node.x,this.p0.y+=this.node.y,this.p1.x+=this.node.x,this.p1.y+=this.node.y),this.headCollider&&this.headCollider.setColliderCallback(this.onHeadCollider.bind(this))},t.prototype.onEnable=function(){this.headRootPos=this.node.position},t.prototype.onClick=function(){var e=this;if(this._active)if(this._active=!1,f.default.instance.audioPlayer.playAudio(d.AudioPlayId.stick_move),this.stickHoldType===a.FREE)(n=this.node.position).x+=1200,cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.5,{position:n},u(2)).call(function(){e.holdCallback&&e.holdCallback(e)}).start(),this.hand&&(this.hand.active=!1),this.arrow2&&(this.arrow2.active=!1);else if(this.stickHoldType===a.SLIDER){var t=this.node,o=s.default.getDistancePoints(t.position,this.p0),n=s.default.getDistancePoints(t.position,this.p1)>o?this.p1:this.p0;cc.Tween.stopAllByTarget(t),cc.tween(t).to(1.2,{position:n},u(3)).call(function(){e.holdCallback&&e.holdCallback(e),e._active=!0}).start()}},t.prototype.onHeadCollider=function(e){var t=this;if(e.node.group===c.GroupConfig.BERRIE&&e.node!=this.node){cc.log("onHeadCollider: "+e.node.name);var o=this.node;this.scheduleOnce(function(){cc.Tween.stopAllByTarget(o),cc.tween(o).to(.5,{position:t.headRootPos},p(1)).call(function(){t._active=!0}).start()},.01)}},t.prototype.setHoldCallback=function(e){this.holdCallback=e},t.prototype.onCollisionEnter=function(e){e.node.group===c.GroupConfig.TOUCH&&this.onClick()},r([g({type:cc.Enum(a)})],t.prototype,"stickHoldType",void 0),r([g({type:[cc.Node],visible:function(){return this.stickHoldType===a.SLIDER}})],t.prototype,"points",void 0),r([g(l.default)],t.prototype,"headCollider",void 0),r([g(cc.Node)],t.prototype,"hand",void 0),r([g(cc.Node)],t.prototype,"arrow2",void 0),r([g(cc.Node)],t.prototype,"PinsGlow",void 0),r([y],t)}(cc.Component);o.default=_,cc._RF.pop()},{"../../MainScene":"MainScene","../../base/ColliderCallback":"ColliderCallback","../../base/utils/GUIUtil":"GUIUtil","../../config/AudioPlayId":"AudioPlayId","../../config/GroupConfig":"GroupConfig"}],StringUtil:[function(e,t,o){"use strict";cc._RF.push(t,"bfe30UxyK5LBZkfVpU92f7E","StringUtil"),Object.defineProperty(o,"__esModule",{value:!0}),o.StringUtil=void 0;var n=function(){function e(){}return e.toKMBString=function(e){var t="";return e<0&&(t+="-",e=-e),e>=this.ONE_BILLION?t+=Math.floor(100*e/this.ONE_BILLION)/100+"B":e>=this.ONE_MILLION?t+=Math.floor(100*e/this.ONE_MILLION)/100+"M":e>=this.ONE_THOUSAND?t+=Math.floor(100*e/this.ONE_THOUSAND)/100+"K":t+=e,t},e.preprocessingMoney=function(t){t=parseInt(t+"");var o=Math.abs(t)+"",n=e.preprocessingString(o);return t<0&&(n="-"+n),n},e.preprocessingString=function(e){if(e.length<4)return e+"";for(var t="",o=1,n=0;n<e.length;n++)t=e[e.length-1-n]+t,o%3==0&&o!==e.length&&(t=","+t),o++;return t},e.preprocessingMoneyWithK=function(e){return e<1e3?e+"":e>=1e6?this.preprocessingMoney(e/1e3)+"K":e/1e3+"K"},e.toMoneyResultString=function(e){var t="";return e>0?t+="+":e<0&&(t+="-",e=-e),e>=this.ONE_BILLION?t+=Math.floor(100*e/this.ONE_BILLION)/100+"B":e>=this.ONE_MILLION?t+=Math.floor(100*e/this.ONE_MILLION)/100+"M":e>=this.ONE_THOUSAND?t+=Math.floor(100*e/this.ONE_THOUSAND)/100+"K":t+=e,t},e.processTimeNumber=function(e){var t=Math.abs(e)+"";return t.length<=1?"0"+t:t},e.preprocessSignMoney=function(e){return e>0?"+"+this.preprocessingMoney(e):this.preprocessingMoney(e)},e.getDateOnly=function(e){return isNaN(Date.parse(e))?e:e.split(" ")[0]},e.parseNumberSecondToClock=function(e){if(e<=0)return"00:00:00";var t=Math.floor(e/3600);e%=3600;var o=Math.floor(e/60),n=e%60;return(t<10?"0"+t:""+t)+":"+(o<10?"0"+o:""+o)+":"+(n<10?"0"+n:""+n)},e.splitCountry=function(e){e||(e="");var t=e.split("_");return{name:t[0],countryCodes:t[1]}},e.getCodeLeaderBoardCountry=function(t,o){return o+"_"+e.splitCountry(t).countryCodes},e.ONE_BILLION=1e9,e.ONE_MILLION=1e6,e.ONE_THOUSAND=1e3,e}();o.StringUtil=n,cc._RF.pop()},{}],SwitchScreen:[function(e,t,o){"use strict";cc._RF.push(t,"43241BxiYNJLaC0BRzvJm6F","SwitchScreen");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.blackImage=null,t}return i(t,e),t.prototype.start=function(){this.blackImage||(this.blackImage=this.node)},t.prototype.switch=function(e,t,o){var n=this;void 0===e&&(e=null),void 0===t&&(t=null),void 0===o&&(o=null),this.blackImage.opacity=0,this.blackImage.active=!0,cc.Tween.stopAllByTarget(this.blackImage),cc.tween(this.blackImage).to(.3,{opacity:255}).call(function(){e&&(e.active=!1),t&&(t.active=!0),o&&o()}).to(.3,{opacity:0}).call(function(){n.blackImage.active=!1}).start()},r([s(cc.Node)],t.prototype,"blackImage",void 0),r([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],SyncAnimated:[function(e,t,o){"use strict";cc._RF.push(t,"fe4d9HbqoRCVar3yJJiJKtS","SyncAnimated");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.targetSyncNode=null,t._active=!0,t}return i(t,e),t.prototype.onLoad=function(){this.targetSyncNode||(this._active=!1)},t.prototype.update=function(){if(this._active){var e=this.targetSyncNode.convertToWorldSpaceAR(cc.v3(0,0,0));this.node.setPosition(this.node.parent.convertToNodeSpaceAR(e))}},r([s(cc.Node)],t.prototype,"targetSyncNode",void 0),r([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],TagObject:[function(e,t,o){"use strict";cc._RF.push(t,"2f711BbpIFCeLUhgrTNsc6d","TagObject");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.TagConfig=void 0;var a,c=cc._decorator,s=c.ccclass,l=c.property;(function(e){e[e.NONE=0]="NONE",e[e.BOSS=1]="BOSS",e[e.BOSS_STICK=2]="BOSS_STICK",e[e.GIRL=3]="GIRL",e[e.GIRL_WONDER=4]="GIRL_WONDER",e[e.BOSS_SUPER=5]="BOSS_SUPER",e[e.GEMS=99]="GEMS",e[e.LAVA=100]="LAVA",e[e.WATER=101]="WATER",e[e.SNOW=102]="SNOW",e[e.ROCK=103]="ROCK",e[e.BIG_ROCK=104]="BIG_ROCK",e[e.ICE=105]="ICE",e[e.GAS=106]="GAS",e[e.BOMB=107]="BOMB",e[e.SAW=108]="SAW",e[e.POW=109]="POW",e[e.TRAP=110]="TRAP",e[e.BULLET=111]="BULLET",e[e.FIRE_BALL=112]="FIRE_BALL",e[e.HOLY_WATER=113]="HOLY_WATER",e[e.LAZE=114]="LAZE",e[e.STEALER=200]="STEALER",e[e.DEMON=201]="DEMON",e[e.BIGFOOT=202]="BIGFOOT",e[e.DRAGON=203]="DRAGON",e[e.DOG=204]="DOG",e[e.SHOOTER=205]="SHOOTER",e[e.CHEST=299]="CHEST",e[e.ITEM=300]="ITEM",e[e.STICK=301]="STICK",e[e.MEAT=302]="MEAT",e[e.REDIRECT_LEFT=303]="REDIRECT_LEFT",e[e.REDIRECT_RIGHT=304]="REDIRECT_RIGHT",e[e.REDIRECT_STOP=305]="REDIRECT_STOP",e[e.HIT=1e3]="HIT"})(a=o.TagConfig||(o.TagConfig={}));var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tag=a.NONE,t.tag2=a.NONE,t}return i(t,e),t.prototype.onLoad=function(){this.node.name=""+this.tag},t.prototype.setTag=function(e){this.tag=e,this.node.name=""+this.tag},t.prototype.setTag2=function(e){this.tag2=e},r([l({type:cc.Enum(a)})],t.prototype,"tag",void 0),r([l({type:cc.Enum(a)})],t.prototype,"tag2",void 0),r([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],Task:[function(e,t,o){"use strict";cc._RF.push(t,"48773qwl0FBG4Q1DVTbXLY/","Task"),Object.defineProperty(o,"__esModule",{value:!0}),o.TaskManager=o.Task=void 0;var n=function(){function e(e){this._callback=e}return e.prototype.completed=function(){this._completeCallback&&this._completeCallback()},e}();o.Task=n;var i=function(){function e(){this.tasks=[]}return e.prototype.addTask=function(e){this.tasks.push(e)},e.prototype.run=function(e,t){var o=this;if(0!==this.tasks.length){var n=this.tasks.length;e(0,n);for(var i=function(t){r.tasks[t]._completeCallback=function(){e(t+1,n),o.tasks[t+1]._callback()}},r=this,a=0;a<n-1;a++)i(a);this.tasks[n-1]._completeCallback=function(){e(n,n),t()},this.tasks[0]._callback()}else t()},e}();o.TaskManager=i,cc._RF.pop()},{}],TeleportCtrl:[function(e,t,o){"use strict";cc._RF.push(t,"e80e6lh7qBFrY1MnqJXG1tn","TeleportCtrl");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../base/ColliderCallback"),c=e("../../config/GroupConfig"),s=e("../../config/TagObject"),l=e("./Bullet"),u=e("./FireBall"),p=cc.easeOut,f=cc._decorator,d=f.ccclass,h=(f.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listPort=[],t.listObj=[],t}return i(t,e),t.prototype.onLoad=function(){var e=this;if(this.node.children.forEach(function(t){var o=t.getComponent(a.default);o&&e.listPort.push(o)}),cc.log("Init Teleport: Length = "+this.listPort.length),!(this.listPort.length<2))for(var t=function(t){var n=o.listPort[t].node,i=t===o.listPort.length-1?0:t+1,r=o.listPort[i].node;o.listPort[t].setColliderCallback(function(t){if(t.node.group===c.GroupConfig.CHARACTER)e.moveTo(t.node.getParent().getParent(),n,r);else if(t.node.group===c.GroupConfig.COLLIDER&&t.node.width*t.node.height>0){var o=null;if(t.node.name==s.TagConfig.HIT){var i=t.node.getComponent(s.default).tag2;i==s.TagConfig.BULLET?o=e.onMoveBullet:i==s.TagConfig.FIRE_BALL&&(o=e.onMoveFireball)}e.moveTo(t.node,n,r,function(){o&&o(t.node)})}})},o=this,n=0;n<this.listPort.length;n++)t(n)},t.prototype.onMoveBullet=function(e){var t=500/l.default.velocityHit;cc.tween(e).by(t,{position:new cc.Vec3(500,0,0)}).call(function(){e.active=!1,e.removeFromParent()}).start()},t.prototype.onMoveFireball=function(e){var t=400/u.default.velocityHit,o=cc.jumpBy(t,cc.v2(400,-200),400/7,1);e.runAction(cc.sequence(o,cc.callFunc(function(){e.active=!1,e.removeFromParent()})))},t.prototype.moveTo=function(e,t,o,n){var i=this;if(void 0===n&&(n=null),cc.log("Teleport move "+e.group),-1==this.listObj.indexOf(e)){this.listObj.push(e);var r=e.scaleX,a=e.scaleY,c=e.getParent().convertToNodeSpaceAR(t.getParent().convertToWorldSpaceAR(t.position)),s=e.getParent().convertToNodeSpaceAR(o.getParent().convertToWorldSpaceAR(o.position));cc.Tween.stopAllByTarget(e),cc.tween(e).to(.35,{position:c,scaleX:0,scaleY:0},p(2)).call(function(){e.position=s}).to(.2,{scaleX:r,scaleY:a},p(2)).call(function(){cc.log("Teleport move done "+(new Date).getTime());var t=i.listObj.indexOf(e);-1!=t&&i.listObj.splice(t,1),n&&n()}).start()}},r([d],t)}(cc.Component));o.default=h,cc._RF.pop()},{"../../base/ColliderCallback":"ColliderCallback","../../config/GroupConfig":"GroupConfig","../../config/TagObject":"TagObject","./Bullet":"Bullet","./FireBall":"FireBall"}],ToastReward:[function(e,t,o){"use strict";cc._RF.push(t,"e3b8cf5NOVAqZVszbj4A2Y4","ToastReward");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc.easeBackOut,c=cc._decorator,s=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t}return i(t,e),t.prototype.show=function(e,t){var o=this;e<0?cc.warn("Reward = "+e):(this.label.string="+"+e,this.node.active=!0,this.node.opacity=0,this.node.scale=.4,cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.2,{opacity:255,scale:1},a()).delay(t).call(function(){o.hide()}).start())},t.prototype.hide=function(){var e=this;cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.5,{opacity:0}).call(function(){e.node.active=!1}).start()},r([l(cc.Label)],t.prototype,"label",void 0),r([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],ToggleSliderGroup:[function(e,t,o){"use strict";cc._RF.push(t,"4e0b2j91yNIqqpERehDI5ZE","ToggleSliderGroup");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./ToggleSlider"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.toggleOn=null,t.toggleOff=null,t.isOn=!0,t.onClickCallback=null,t}return i(t,e),t.prototype.toggle=function(){this.setToggleState(!this.isOn)},t.prototype.setToggleState=function(e,t){void 0===t&&(t=!0),this.isOn=e,this.toggleOn.setToggleState(e,t),this.toggleOff.setToggleState(!e,t),this.onClickCallback&&this.onClickCallback(e)},t.prototype.setOnClickCallback=function(e){this.onClickCallback=e},r([l(a.default)],t.prototype,"toggleOn",void 0),r([l(a.default)],t.prototype,"toggleOff",void 0),r([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{"./ToggleSlider":"ToggleSlider"}],ToggleSlider:[function(e,t,o){"use strict";cc._RF.push(t,"3df517scY9F7pmGd1WW8uMz","ToggleSlider");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.dotSlider=null,t.p1=new cc.Vec3,t.p2=new cc.Vec3,t.isOn=!1,t}return i(t,e),t.prototype.onLoad=function(){this.p1.x=-this.dotSlider.position.x,this.p1.y=this.dotSlider.position.y,this.p2.x=this.dotSlider.position.x,this.p2.y=this.dotSlider.position.y},t.prototype.toggle=function(){this.setToggleState(!this.isOn)},t.prototype.setToggleState=function(e,t){void 0===t&&(t=!0),this.isOn=e,e?(this.node.active=!0,t?(this.dotSlider.position=this.p1,cc.tween(this.dotSlider).to(.2,{position:this.p2}).start()):this.dotSlider.position=this.p2):this.node.active=!1},r([s(cc.Label)],t.prototype,"label",void 0),r([s(cc.Node)],t.prototype,"dotSlider",void 0),r([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],TouchManager:[function(e,t,o){"use strict";cc._RF.push(t,"dc0adXk/RtCCZVCopuiIlm/","TouchManager");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../config/GlobalSignals"),c=e("../level/MapLevel"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.touchCollision=null,t.moving=!1,t}var o;return i(t,e),o=t,Object.defineProperty(t,"instance",{get:function(){return o._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){o._instance=this},t.prototype.onDestroy=function(){o._instance=null},t.prototype.onEnable=function(){cc.log("init TouchManager"),this.node.on(cc.Node.EventType.TOUCH_START,this.onMouseDown.bind(this)),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onMouseMove.bind(this)),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onMouseUp.bind(this)),this.node.on(cc.Node.EventType.TOUCH_END,this.onMouseUp.bind(this))},t.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onMouseDown.bind(this)),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onMouseMove.bind(this)),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onMouseUp.bind(this)),this.node.off(cc.Node.EventType.TOUCH_END,this.onMouseUp.bind(this))},t.prototype.onMouseDown=function(e){a.GlobalSignals.castleUpgradeSignal.dispatch(),c.default.instance&&c.default.instance.isPlaying?(this.moving=!0,this.touchCollision.active=!0,this.touchCollision.position=this.node.convertToNodeSpaceAR(e.getLocation())):this.reset()},t.prototype.onMouseMove=function(e){this.moving&&(this.touchCollision.position=this.node.convertToNodeSpaceAR(e.getLocation()))},t.prototype.onMouseUp=function(){this.reset()},t.prototype.reset=function(){this.moving=!1,this.touchCollision.active=!1,cc.moveBy(.3,cc.v2(0,50))},t._instance=null,r([u(cc.Node)],t.prototype,"touchCollision",void 0),o=r([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../config/GlobalSignals":"GlobalSignals","../level/MapLevel":"MapLevel"}],UserPlayFab:[function(e,t,o){"use strict";cc._RF.push(t,"73ec3RTDTdJOK3klBfrcKqq","UserPlayFab"),Object.defineProperty(o,"__esModule",{value:!0}),o.StatisticNameConfig=void 0;var n={titleId:"77203",developerSecretKey:"7AN9OJHN9GYI7NYCSW4T5DPCBAWZG455JCQEGD798OSQY53GNM",userEmail:"put valid email associated with an existing account here",extraHeaders:{}},i=e("./base/Signal"),r=e("./base/utils/ArrayUtil");o.StatisticNameConfig={BEST_LEVEL:"BestLevel",DAILYDATA:"DailyData"};var a=function(){function e(){}return e.SetUp=function(e){void 0===e&&(e={});var t=e.hasOwnProperty("titleId")&&null!=e.titleId;return t?this.titleData=e:(this.titleData=n,console.log("testTitleData input file did not parse correctly")),PlayFab.settings.titleId=this.titleData.titleId,PlayFab.settings.developerSecretKey=this.titleData.developerSecretKey,PlayFab.settings.GlobalHeaderInjection=this.titleData.extraHeaders,t},e.LoginWithFacebookInstantGamesId=function(){FBInstant.player.getSignedPlayerInfoAsync().then(function(t){var o={TitleId:"",FacebookInstantGamesSignature:t.getSignature(),CreateAccount:!0,InfoRequestParameters:{GetPlayerProfile:!0,ProfileConstraints:{ShowAvatarUrl:!0,ShowDisplayName:!0},GetUserData:!0,GetPlayerStatistics:!0}};console.log("login fb"),Promise.resolve(PlayFabClientSDK.LoginWithFacebookInstantGamesId(o,e.OnLoginCallBack))})},e.LoginWithCustomID=function(){return Promise.resolve(PlayFabClientSDK.LoginWithCustomID({TitleId:"77203",CustomId:"155DCc669868",CreateAccount:!0,InfoRequestParameters:{GetPlayerProfile:!0,ProfileConstraints:{ShowAvatarUrl:!0,ShowDisplayName:!0},GetUserData:!0,GetPlayerStatistics:!0}},e.OnLoginCallBack))},e.UpdateUserCountryCode=function(e){var t={UserCountryCode:e};this.UpdateDataUser(t)},e.OnLoginCallBack=function(t,o){if(!o){if(e.loginsuccessful=!0,e.LoginCallBackSignal.dispatch(),e.PlayFabId=r.default.getValue(t.data,"PlayFabId",""),e.DisplayName=r.default.getValue(t.data.InfoResultPayload.PlayerProfile,"DisplayName",""),t.data.NewlyCreated&&FBInstant.player.getSignedPlayerInfoAsync().then(function(e){var t={FacebookInstantGamesSignature:e.getSignature(),ForceLink:!0};PlayFabClientSDK.LinkFacebookInstantGamesId(t,function(e){console.log(e,"link")})}),t.data.InfoResultPayload){var n=t.data.InfoResultPayload.UserData;if(n){e.UserCountryCode=r.default.getValue(n,"UserCountryCode","");var i=r.default.getValue(n,"EventData",null);i&&(e.EventData=i.Value);var a=r.default.getValue(n,"DailyData",null);a&&(e.DailyData=a.Value)}}""==e.DisplayName&&e.UpdateAvatarVsDisPlayName()}},e.UpdateAvatarVsDisPlayName=function(){try{var t=FBInstant.player.getName();""!=e.UserCountryCode&&(t=t+"_"+e.UserCountryCode);var o={DisplayName:t};PlayFabClientSDK.UpdateUserTitleDisplayName(o,function(e){e&&console.log("updatedisplayname")})}catch(n){}},e.SaveDailyData=function(t){var o=JSON.stringify(t);e.DailyData=o,e.UpdateDataUser({DailyData:o})},e.UpdateDataUser=function(e){var t={Data:e};PlayFabClientSDK.UpdateUserData(t,function(e,t){t&&console.log("fail save data"),console.log("done save data")})},e.GetDataUser=function(t,o){var n={PlayFabId:e.PlayFabId,Keys:t};PlayFabAdminSDK.GetUserData(n,o)},e.getMyRankLeadBoard=function(e,t){var o={StatisticName:e,MaxResultsCount:1,ProfileConstraints:{ShowAvatarUrl:!0,ShowDisplayName:!0}};PlayFabClientSDK.GetLeaderboardAroundPlayer(o,t)},e.setLeaderborad=function(e,t,o){var n={Statistics:[{StatisticName:t,Value:e}]};PlayFabClientSDK.UpdatePlayerStatistics(n,o)},e.getRankLeadBoard=function(e,t,o,n){var i={StartPosition:t,StatisticName:e,MaxResultsCount:o,ProfileConstraints:{ShowAvatarUrl:!0,ShowDisplayName:!0}};PlayFabClientSDK.GetLeaderboard(i,n)},e.UpdateDisPlayName=function(e,t){var o={DisplayName:e};PlayFabClientSDK.UpdateUserTitleDisplayName(o,t)},e.UpdateAvatar=function(e,t){var o={ImageUrl:e};PlayFabClientSDK.UpdateAvatarUrl(o,t)},e.loginsuccessful=!1,e.UserCountryCode="",e.EventData="",e.DailyData="",e.PlayFabId="",e.DisplayName="",e.LoginCallBackSignal=new i.Signal,e}();o.default=a,cc._RF.pop()},{"./base/Signal":"Signal","./base/utils/ArrayUtil":"ArrayUtil"}],WaterGO:[function(e,t,o){"use strict";cc._RF.push(t,"e8ed1MjmJVIJ6/Y/dlAHXfS","WaterGO");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../config/GroupConfig"),c=e("../../config/TagObject"),s=e("../../config/AudioPlayId"),l=e("../../level/MapLevel"),u=e("../../MainScene"),p=e("../../config/PhysicsConfig"),f=cc._decorator,d=f.ccclass,h=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.border=null,t.drop=null,t.rockPrefab=null,t.rb=null,t.icePrefab=null,t.available=!0,t.canDrop=!1,t}var o;return i(t,e),o=t,t.prototype.onLoad=function(){var e=this;p.PhysicsConfig.initPhysicConfig(this.node,"gems"),this.rb=this.getComponent(cc.RigidBody),setTimeout(function(){e.canDrop=!0},1e3)},t.prototype.start=function(){this.border.active=!0,this.drop.active=!0,o.isTransform=!1,o.colliderBarrieCount=0,this.getComponent(cc.Sprite)},t.prototype.onDisable=function(){this.unscheduleAllCallbacks()},t.prototype.transformToRock=function(e){var t=l.default.instance.rockContainer,n=cc.instantiate(e);n.position=t.convertToNodeSpaceAR(this.node.getParent().convertToWorldSpaceAR(this.node.position)),n.parent=t,this.node.removeFromParent(),!o.isTransform&&l.default.instance.isPlaying&&(u.default.instance.audioPlayer.playAudio(s.AudioPlayId.effect_lava_x_water),o.isTransform=!0)},t.prototype.onCollisionEnter=function(e){this.available&&(e.node.group===a.GroupConfig.BERRIE&&u.default.instance.audioPlayer.playAudio(s.AudioPlayId.stealer_die),e.node.group===a.GroupConfig.DIRTY&&(this.available=!1,this.transformToRock(this.rockPrefab)),e.node.name==c.TagConfig.FIRE_BALL&&(this.node.group=a.GroupConfig.WATER3D,this.node.parent=l.default.instance.parentNode,this.getComponent(cc.PhysicsCollider).apply()))},t.prototype.update=function(){},t.isTransform=!1,t.colliderBarrieCount=0,r([h(cc.Node)],t.prototype,"border",void 0),r([h(cc.Node)],t.prototype,"drop",void 0),r([h(cc.Prefab)],t.prototype,"rockPrefab",void 0),r([h(cc.Prefab)],t.prototype,"icePrefab",void 0),o=r([d],t)}(cc.Component);o.default=y,cc._RF.pop()},{"../../MainScene":"MainScene","../../config/AudioPlayId":"AudioPlayId","../../config/GroupConfig":"GroupConfig","../../config/PhysicsConfig":"PhysicsConfig","../../config/TagObject":"TagObject","../../level/MapLevel":"MapLevel"}],WinPanel:[function(e,t,o){"use strict";cc._RF.push(t,"49d10hGJHpIfIQtdvk9YuUz","WinPanel");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../GameData"),c=e("../objects/character/Boss/Boss"),s=e("../config/GameConfig"),l=cc.Camera,u=cc.easeOut,p=cc._decorator,f=p.ccclass,d=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.levelLabel=null,t.changeCoinLabel=null,t.camera=null,t.cameraScale=1.66,t.winNode=null,t.loseNode=null,t}return i(t,e),t.prototype.onEnable=function(){if(this.node.scale=3,this.node.position=new cc.Vec3(100,-cc.winSize.height/2,0),this.levelLabel.string="LEVEL "+(a.GameData.currentLevelId+1),c.default.instance){var e=1/this.cameraScale,t=c.default.instance.node.position,o=(cc.winSize.height-1280)*e;t.y-=o,t.x-=50,this.focusPanelTo(t,e,.3),this.focusCameraTo(t,this.cameraScale,.3),window.gameEnd&&window.gameEnd()}else cc.log("Boss.instance is null")},t.prototype.onDisable=function(){cc.Tween.stopAllByTarget(this.camera),cc.Tween.stopAllByTarget(this.camera.node),this.camera.zoomRatio=1,this.camera.node.position=cc.Vec3.ZERO},t.prototype.showWin=function(){this.winNode.active=!0,this.loseNode.active=!1,this.node.active=!0,this.showChangeCoin(s.GameConfig.coin_level_up)},t.prototype.showLose=function(){this.winNode.active=!1,this.loseNode.active=!0,this.node.active=!0},t.prototype.hide=function(){this.node.active=!1},t.prototype.showChangeCoin=function(e){a.GameData.addCoin(e),this.changeCoinLabel.string="+"+e},t.prototype.focusPanelTo=function(e,t,o){void 0===o&&(o=.2),cc.tween(this.node).to(o,{position:e,scale:t},u(5)).start()},t.prototype.focusCameraTo=function(e,t,o){void 0===o&&(o=.2),this.camera.node.position=e,cc.tween(this.camera).to(o,{zoomRatio:t}).start()},t.prototype.onClickShowAdsToReceiveBonus=function(){},t.prototype.onClickShowAdsToSkipLevel=function(){},t.prototype.test=function(){var e=1/this.cameraScale,t=c.default.instance.node.position,o=(cc.winSize.height-1280)*e;t.y-=o,this.focusPanelTo(t,e,.3),this.focusCameraTo(t,this.cameraScale,.3)},t.prototype.unTest=function(){cc.Tween.stopAllByTarget(this.camera),cc.Tween.stopAllByTarget(this.camera.node),this.camera.zoomRatio=1,this.camera.node.position=cc.Vec3.ZERO},r([d(cc.Label)],t.prototype,"levelLabel",void 0),r([d(cc.Label)],t.prototype,"changeCoinLabel",void 0),r([d(l)],t.prototype,"camera",void 0),r([d(cc.Float)],t.prototype,"cameraScale",void 0),r([d(cc.Node)],t.prototype,"winNode",void 0),r([d(cc.Node)],t.prototype,"loseNode",void 0),r([f],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../GameData":"GameData","../config/GameConfig":"GameConfig","../objects/character/Boss/Boss":"Boss"}],hand:[function(e,t,o){"use strict";cc._RF.push(t,"edf9cwRNsZLXqccmXjfBWaF","hand");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){var e=cc.moveBy(1,-100,0),t=cc.moveBy(1,100,0),o=cc.sequence(e,t),n=cc.repeatForever(o);this.node.runAction(n)},r([c],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],liquid:[function(e,t,o){"use strict";cc._RF.push(t,"651e5outMlO37wz79JzK7Tg","liquid");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../config/GlobalSignals"),c=e("../GameData"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.coinLabel=null,t}return i(t,e),t.prototype.onEnable=function(){this._onUpdateCoin=this.onUpdateCoin.bind(this),a.GlobalSignals.coinUpdateSignal.add(this._onUpdateCoin),this.onUpdateCoin()},t.prototype.onDisable=function(){a.GlobalSignals.coinUpdateSignal.remove(this._onUpdateCoin)},t.prototype.onUpdateCoin=function(){this.coinLabel&&(this.coinLabel.string=c.GameData.playerCoin+"")},r([u(cc.Label)],t.prototype,"coinLabel",void 0),r([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../GameData":void 0,"../config/GlobalSignals":void 0}],"mesh-texture-mask":[function(e,t){"use strict";function o(e,t){var o;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=n(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=e[Symbol.iterator]()).next.bind(o)}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}cc._RF.push(t,"2b916xDwOJDaq/ZFI4mGP7k","mesh-texture-mask");var r=cc.gfx;cc.Class({extends:cc.Component,editor:!1,properties:{_temp_refresh:!1,temp_refresh:{displayName:"Refresh",type:cc.Boolean,get:function(){return this._temp_refresh},set:function(e){this._temp_refresh=e,this._applyVertexes()}},_offset:cc.v2(0,0),offset:{get:function(){return this._offset},set:function(e){this._offset=e,this.temp_refresh,this._applyVertexes()},type:cc.Vec2},_spriteFrame:{default:null,type:cc.SpriteFrame},spriteFrame:{get:function(){return this._spriteFrame},set:function(e){this._spriteFrame=e,this._applySpriteFrame()},type:cc.SpriteFrame},_vertexes:{default:function(){return[cc.v2(-50,-50),cc.v2(50,-50),cc.v2(50,50),cc.v2(-50,50)]},type:[cc.Vec2]},vertexes:{tooltip:"Polygon",get:function(){return this._vertexes},set:function(e){this._vertexes=e,this._updateMesh(),this.temp_refresh,this._applyVertexes()},type:[cc.Vec2]}},onLoad:function(){this._meshCache={},this._updateMesh();var e=this.node.getComponent(cc.MeshRenderer);e||(e=this.node.addComponent(cc.MeshRenderer)),e.mesh=null,this.renderer=e;var t=cc.Material.getBuiltinMaterial("unlit");e.setMaterial(0,t),this._applySpriteFrame(),this._applyVertexes()},_updateMesh:function(){var e=this._meshCache[this.vertexes.length];e||((e=new cc.Mesh).init(new r.VertexFormat([{name:r.ATTR_POSITION,type:r.ATTR_TYPE_FLOAT32,num:2},{name:r.ATTR_UV0,type:r.ATTR_TYPE_FLOAT32,num:2}]),this.vertexes.length,!0),this._meshCache[this.vertexes.length]=e),this.mesh=e},_applyVertexes:function(){var e=this,t=this.mesh;if(t.setVertices(r.ATTR_POSITION,this.vertexes),this.texture){for(var n,i=[],a=o(this.vertexes);!(n=a()).done;){var c=n.value,s=(c.x+this.texture.width/2+this.offset.x)/this.texture.width,l=1-(c.y+this.texture.height/2+this.offset.y)/this.texture.height;i.push(cc.v2(s,l))}t.setVertices(r.ATTR_UV0,i)}if(this.vertexes.length>=3){for(var u=[],p=[].concat(this.vertexes),f=0,d=-1;p.length>3;){var h=p[f],y=p[(f+1)%p.length],g=p[(f+2)%p.length],_=y.sub(h),v=g.sub(y);if(_.cross(v)>=0){for(var b,m=!1,C=o(p);!(b=C()).done;){var P=b.value;if(P!==h&&P!==y&&P!==g&&this._testInTriangle(P,h,y,g)){m=!0;break}}if(m){if((f=(f+1)%p.length)===d){cc.log("\u5faa\u73af\u4e00\u5708\u672a\u53d1\u73b0");break}}else u=u.concat([this.vertexes.indexOf(h),this.vertexes.indexOf(y),this.vertexes.indexOf(g)]),p.splice(p.indexOf(y),1),d=f}else if((f=(f+1)%p.length)===d){cc.log("\u5faa\u73af\u4e00\u5708\u672a\u53d1\u73b0");break}f>p.length-1&&(f=p.length-1)}u=u.concat(p.map(function(t){return e.vertexes.indexOf(t)})),t.setIndices(u),this.renderer.mesh!=t&&(this.renderer.mesh=t)}},_testInTriangle:function(e,t,o,n){var i=o.sub(t),r=n.sub(t),a=n.sub(o),c=e.sub(t),s=e.sub(o);return i.cross(r)>=0^i.cross(c)<0&&i.cross(r)>=0^r.cross(c)>=0&&a.cross(i)>0^a.cross(s)>=0},_applySpriteFrame:function(){if(this.spriteFrame){var e=this.renderer._materials[0],t=this.spriteFrame.getTexture();e.define("USE_DIFFUSE_TEXTURE",!0),e.setProperty("diffuseTexture",t),this.texture=t}}}),cc._RF.pop()},{}]},{},["BackgroundLoader","CheckLoose","CheckWinPool","GameData","Loading","MainScene","OpenScene","PlayScreen","PrefabManager","PrefabType","ResUtil","ScaleCT","ScreenManager","SyncAnimated","UserPlayFab","ActiveBox","ActiveFun","CaptureTexture","ColliderCallback","LocalStorageManager","NodeFixSize","NumberUpdater","ParticleLoop","PhysicalEnable","PlayerCoinUpdater","PopupDisplay","RenderMask","Signal","SignalBinding","SwitchScreen","Task","TouchManager","FrameByFrame","NewScript","RotateByRepeatAnim","RotateByRepeatAnimX2","ScaleRepeatAnim","hand","AudioManager","AudioPlayer","MyAudioPlayer","mesh-texture-mask","ToggleSlider","ToggleSliderGroup","ArrayUtil","GUIUtil","MMFollowTarget","MathUtil","StringUtil","AudioPlayId","FeatureSkinConfig","GameConfig","GameState","GlobalSignals","GroupConfig","LevelConfig","PhysicsConfig","QuestType","RoomConfig","SkinConfig","TagObject","MapLevel","RedirectBox","WinPanel","liquid","StickHold","3DAnim","Boss","Character","ColliderGround","ColliderSearch","BigFoot","Demon","Dog","Dragon","Enemies","Shooter","Stealer","ICharacterCollider","MoveCtrl","Girl","DirtyWaterGO","GasGO","GemsGO","GemsPool","LavaGO","PoolWater","RockGO","SnowGO","WaterGO","BigBang","BigStone","Bomb","Bullet","FireBall","ItemChest","ItemLoot","Pow","RockPressure","TeleportCtrl","RopeFull","RopePart","ButtonRewardVideo","IconQuest","IntroWIn","SettingsPopup","ToastReward"]);